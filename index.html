<!DOCTYPE html>
<html lang="en" class="theme--dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="color-scheme" content="dark light" />
  <title>ðŸš¢ Cruise Companion â€” Mission Control 3.0</title>
  
  <!-- Font Awesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <!-- Google Fonts for better typography -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>

<body>
  <!-- Loading Screen with Progress -->
  <div class="loading" id="loading">
    <div class="loading__content">
      <div class="loading__ship" aria-hidden="true">ðŸš¢</div>
      <div class="loading__title">Cruise Companion</div>
      <div class="loading__subtitle">Initializing Mission Control 3.0</div>
      <div class="loading__progress">
        <div class="loading__progress-bar" id="loading-progress"></div>
      </div>
      <div class="loading__hint">Preparing immersive experience...</div>
    </div>
  </div>
  
  <!-- Enhanced Background Elements -->
  <div class="stars" aria-hidden="true"></div>
  <div class="stars stars--twinkling" aria-hidden="true"></div>
  <div class="ocean-waves" aria-hidden="true"></div>
  <div class="ocean-waves ocean-waves--deep" aria-hidden="true"></div>
  <div class="progress" id="progress"></div>

  <div class="app">
    <!-- Sidebar with Resize Handle -->
    <aside class="sidebar" id="sidebar">
      <div class="sidebar__resize" id="sidebar-resize"></div>
      <header class="sidebar__header">
        <div class="logo" aria-hidden="true">
          <span class="logo__ship">ðŸš¢</span>
          <div class="logo__pulse"></div>
        </div>
        <div>
          <div class="sidebar__title text-gradient">Family & Friends Cruise Companion</div>
          <div class="sidebar__subtitle">Mission Control 3.0 Â· AI Enhanced</div>
          <div class="sidebar__status" id="sidebar-status">
            <span class="status-indicator status-indicator--online"></span>
            <span>Last sync: Just now</span>
          </div>
        </div>
      </header>

      <section class="sidebar__section" aria-labelledby="search-section">
        <div class="sidebar__section-header">
          <h2 id="search-section"><i class="fas fa-search"></i> Smart Search</h2>
          <kbd>Ctrl/âŒ˜K</kbd>
        </div>
        <div class="sidebar__section-body">
          <div class="search" role="search">
            <i class="search__icon fas fa-search"></i>
            <input id="search-input" class="search__input" type="search"
                   placeholder="AI Search: muster, tender, CocoCay, diningâ€¦"
                   aria-label="Smart search with AI suggestions">
            <button class="search__clear" id="search-clear" aria-label="Clear search">
              <i class="fas fa-times"></i>
            </button>
          </div>

          <div class="search-suggestions" id="search-suggestions" aria-live="polite"></div>

          <div class="search-meta">
            <span class="pill"><i class="fas fa-bullseye"></i> <span id="search-count">0</span> matches</span>
            <span class="pill"><i class="fas fa-arrow-right"></i> <span id="search-pos">0/0</span></span>
            <span class="pill"><i class="fas fa-robot"></i> AI</span>
          </div>

          <div class="button-row">
            <button id="open-palette" class="button button--primary" type="button">
              <span class="button__icon"><i class="fas fa-terminal"></i></span> Command Palette
            </button>
            <button id="print-btn" class="button" type="button">
              <span class="button__icon"><i class="fas fa-file-pdf"></i></span> Export PDF
            </button>
          </div>
          <div class="button-row">
            <button id="jump-today" class="button button--today" type="button">
              <span class="button__icon"><i class="fas fa-calendar-day"></i></span> Jump to Today
            </button>
            <button id="toggle-theme" class="button" type="button">
              <span class="button__icon"><i class="fas fa-palette"></i></span> Theme
            </button>
          </div>
        </div>
      </section>

      <section class="sidebar__section" aria-labelledby="filters-section">
        <div class="sidebar__section-header">
          <h2 id="filters-section"><i class="fas fa-filter"></i> Smart Filters</h2>
          <kbd>Enter</kbd>
        </div>
        <div class="sidebar__section-body">
          <div class="filters">
            <label class="filter filter--critical">
              <input type="checkbox" id="filter-crit" checked>
              <span class="filter__indicator"></span>
              <span class="filter__emoji" aria-hidden="true">ðŸ”´</span>
              <span class="filter__label">Critical</span>
              <span class="filter__count" id="filter-crit-count">0</span>
            </label>
            <label class="filter filter--warning">
              <input type="checkbox" id="filter-warn" checked>
              <span class="filter__indicator"></span>
              <span class="filter__emoji" aria-hidden="true">ðŸŸ¡</span>
              <span class="filter__label">Recommended</span>
              <span class="filter__count" id="filter-warn-count">0</span>
            </label>
            <label class="filter filter--ok">
              <input type="checkbox" id="filter-ok" checked>
              <span class="filter__indicator"></span>
              <span class="filter__emoji" aria-hidden="true">ðŸŸ¢</span>
              <span class="filter__label">Info</span>
              <span class="filter__count" id="filter-ok-count">0</span>
            </label>
            <label class="filter filter--info">
              <input type="checkbox" id="filter-info" checked>
              <span class="filter__indicator"></span>
              <span class="filter__emoji" aria-hidden="true">ðŸ”µ</span>
              <span class="filter__label">Secondary</span>
              <span class="filter__count" id="filter-info-count">0</span>
            </label>
          </div>

          <div class="filter-presets">
            <button class="filter-preset" data-preset="all">Show All</button>
            <button class="filter-preset" data-preset="tasks">Tasks Only</button>
            <button class="filter-preset" data-preset="today">Today's Items</button>
          </div>

          <label class="toggle">
            <input type="checkbox" id="focus-mode">
            <span class="toggle__slider"></span>
            <span class="toggle__label">Focus mode <span class="toggle__hint">(hide completed)</span></span>
          </label>
          <label class="toggle">
            <input type="checkbox" id="effects-mode">
            <span class="toggle__slider"></span>
            <span class="toggle__label">Performance mode <span class="toggle__hint">(reduce effects)</span></span>
          </label>

          <div class="button-row">
            <button id="expand-all" class="button" type="button">
              <span class="button__icon"><i class="fas fa-expand-alt"></i></span> Expand All
            </button>
            <button id="collapse-all" class="button" type="button">
              <span class="button__icon"><i class="fas fa-compress-alt"></i></span> Collapse All
            </button>
            <button id="mark-all-done" class="button" type="button">
              <span class="button__icon"><i class="fas fa-check-double"></i></span> Mark All
            </button>
          </div>
        </div>
      </section>

      <nav class="sidebar__section" aria-labelledby="toc-section">
        <div class="sidebar__section-header">
          <h2 id="toc-section"><i class="fas fa-list"></i> Smart Contents</h2>
          <kbd>click</kbd>
        </div>
        <div class="sidebar__section-body">
          <div class="toc-search">
            <input type="text" placeholder="Filter chapters..." id="toc-filter" class="toc-search__input">
          </div>
          <ul class="toc" id="toc" aria-label="Table of contents"></ul>
          <div class="toc-stats">
            <div class="toc-stat">
              <i class="fas fa-file-alt"></i>
              <span><span id="toc-chapter-count">0</span> chapters</span>
            </div>
            <div class="toc-stat">
              <i class="fas fa-tasks"></i>
              <span><span id="toc-task-count">0</span> tasks</span>
            </div>
          </div>
        </div>
      </nav>

      <section class="sidebar__section" aria-labelledby="legend-section">
        <div class="sidebar__section-header">
          <h2 id="legend-section"><i class="fas fa-key"></i> Legend & Status</h2>
          <kbd>tap</kbd>
        </div>
        <div class="sidebar__section-body">
          <div class="legend-grid">
            <div class="legend-item legend-item--critical">
              <span class="legend__dot"></span>
              <span class="legend__label">Critical</span>
            </div>
            <div class="legend-item legend-item--warning">
              <span class="legend__dot"></span>
              <span class="legend__label">Recommended</span>
            </div>
            <div class="legend-item legend-item--ok">
              <span class="legend__dot"></span>
              <span class="legend__label">Info</span>
            </div>
            <div class="legend-item legend-item--info">
              <span class="legend__dot"></span>
              <span class="legend__label">Secondary</span>
            </div>
            <div class="legend-item legend-item--done">
              <span class="legend__dot"></span>
              <span class="legend__label">Completed</span>
            </div>
            <div class="legend-item legend-item--current">
              <span class="legend__dot"></span>
              <span class="legend__label">Active Now</span>
            </div>
          </div>
          
          <div class="kv-grid">
            <div class="kv">
              <div class="k"><i class="fas fa-sync-alt"></i> Auto-save</div>
              <div class="v">Every 30s</div>
            </div>
            <div class="kv">
              <div class="k"><i class="fas fa-cloud"></i> Sync</div>
              <div class="v" id="sync-status">Online</div>
            </div>
            <div class="kv">
              <div class="k"><i class="fas fa-database"></i> Storage</div>
              <div class="v" id="storage-status">Local</div>
            </div>
          </div>
        </div>
      </section>

      <footer class="sidebar__footer">
        <div class="version">v3.0.1</div>
        <div class="sidebar__actions">
          <button class="icon-btn icon-btn--small" aria-label="Settings" title="Settings">
            <i class="fas fa-cog"></i>
          </button>
          <button class="icon-btn icon-btn--small" aria-label="Help" title="Help">
            <i class="fas fa-question-circle"></i>
          </button>
          <button class="icon-btn icon-btn--small" id="sidebar-toggle" aria-label="Toggle sidebar" title="Toggle sidebar">
            <i class="fas fa-chevron-left"></i>
          </button>
        </div>
      </footer>
    </aside>

    <!-- Main Content Area -->
    <main class="main" id="main">
      <!-- Enhanced Topbar with More Controls -->
      <header class="topbar" id="topbar">
        <div class="topbar__inner">
          <button class="topbar__menu" id="topbar-menu" aria-label="Toggle sidebar">
            <i class="fas fa-bars"></i>
          </button>
          
          <div class="chips">
            <span class="chip chip--ship">
              <strong><i class="fas fa-ship"></i> Ship</strong>
              <span class="mono">Adventure of the Seas</span>
              <span class="chip__badge">Royal Caribbean</span>
            </span>
            <span class="chip chip--date">
              <strong><i class="fas fa-calendar-alt"></i> Sail</strong>
              <span class="mono">Feb 14â€“20, 2026</span>
              <span class="chip__badge" id="countdown-badge">7 days</span>
            </span>
            <span class="chip chip--status" id="today-banner">
              <strong><i class="fas fa-info-circle"></i> Status</strong>
              <span class="mono">Pre-cruise</span>
              <span class="chip__pulse"></span>
            </span>
            <span class="chip chip--room">
              <strong><i class="fas fa-door-open"></i> Stateroom</strong>
              <span class="mono">6650 Â· Deck 6 Â· Aft</span>
              <span class="chip__badge">Ocean View</span>
            </span>
            <span class="chip chip--party">
              <strong><i class="fas fa-users"></i> Party</strong>
              <span class="mono">4 (2 adults, 2 kids)</span>
              <span class="chip__badge">Family</span>
            </span>
            <span class="chip chip--packages">
              <strong><i class="fas fa-glass-whiskey"></i> Packages</strong>
              <span class="mono">Refreshment + 3â€‘night Dining</span>
              <span class="chip__badge">Active</span>
            </span>
          </div>
          
          <div class="topbar__actions">
            <div class="topbar__quick-actions">
              <button class="icon-btn" id="quick-add" aria-label="Quick add task" title="Add task">
                <i class="fas fa-plus"></i>
              </button>
              <button class="icon-btn" id="quick-notes" aria-label="Open notes" title="Notes">
                <i class="fas fa-sticky-note"></i>
              </button>
              <button class="icon-btn" id="quick-alarm" aria-label="Set alarm" title="Set alarm">
                <i class="fas fa-bell"></i>
              </button>
            </div>
            <div class="topbar__shortcuts">
              <kbd><i class="fas fa-keyboard"></i> Ctrl/âŒ˜K</kbd>
              <kbd><i class="fas fa-times"></i> Esc</kbd>
              <kbd><i class="fas fa-search"></i> /</kbd>
            </div>
          </div>
        </div>
        
        <!-- Enhanced Daystrip with Progress -->
        <nav class="daystrip" id="daystrip" aria-label="Trip days">
          <div class="daystrip__progress" id="daystrip-progress"></div>
        </nav>
      </header>

      <!-- Enhanced Hero Section -->
      <section class="hero" id="top">
        <div class="hero__background" aria-hidden="true"></div>
        <div class="hero__content">
          <div class="hero__text">
            <div class="hero__badge">MISSION CONTROL 3.0</div>
            <h1 class="hero__title">
              Cruise Companion Â· 
              <span class="text-gradient">AI Enhanced Experience</span>
            </h1>
            <p class="hero__desc">
              <strong>Next-generation cruise management.</strong> Real-time synchronization, AI-powered suggestions, 
              predictive alerts, and immersive navigation. Your entire journey, optimized and accessible.
            </p>
            
            <div class="hero__features">
              <div class="feature">
                <i class="feature__icon fas fa-bolt"></i>
                <span class="feature__text">Real-time Sync</span>
              </div>
              <div class="feature">
                <i class="feature__icon fas fa-robot"></i>
                <span class="feature__text">AI Assistant</span>
              </div>
              <div class="feature">
                <i class="feature__icon fas fa-bell"></i>
                <span class="feature__text">Smart Alerts</span>
              </div>
              <div class="feature">
                <i class="feature__icon fas fa-chart-line"></i>
                <span class="feature__text">Analytics</span>
              </div>
              <div class="feature">
                <i class="feature__icon fas fa-mobile-alt"></i>
                <span class="feature__text">Offline Mode</span>
              </div>
            </div>

            <div class="hero__badges" aria-label="Key identifiers">
              <span class="badge badge--reservation">
                <strong><i class="fas fa-tag"></i> Reservation</strong>
                <span class="mono">#4519230</span>
              </span>
              <span class="badge badge--room">
                <strong><i class="fas fa-door-open"></i> Stateroom</strong>
                <span class="mono">6650 (Deck 6, aft)</span>
              </span>
              <span class="badge badge--party">
                <strong><i class="fas fa-user-friends"></i> Party</strong>
                <span class="mono">2 adults Â· 2 kids</span>
              </span>
              <span class="badge badge--dining">
                <strong><i class="fas fa-utensils"></i> Dining</strong>
                <span class="mono">3-night specialty</span>
              </span>
              <span class="badge badge--drinks">
                <strong><i class="fas fa-cocktail"></i> Drinks</strong>
                <span class="mono">Refreshment package</span>
              </span>
            </div>
          </div>

          <div class="hero__art" aria-label="Interactive ship dashboard">
            <div class="ship-dashboard">
              <div class="ship-dashboard__header">
                <div class="ship-dashboard__title">Live Status</div>
                <div class="ship-dashboard__status">
                  <span class="status-dot status-dot--online"></span>
                  Connected
                </div>
              </div>
              <div class="ship-dashboard__metrics">
                <div class="metric">
                  <div class="metric__value" id="metric-tasks">0</div>
                  <div class="metric__label">Active Tasks</div>
                </div>
                <div class="metric">
                  <div class="metric__value" id="metric-time">00:00</div>
                  <div class="metric__label">Ship Time</div>
                </div>
                <div class="metric">
                  <div class="metric__value" id="metric-weather">--Â°</div>
                  <div class="metric__label">Weather</div>
                </div>
                <div class="metric">
                  <div class="metric__value" id="metric-progress">0%</div>
                  <div class="metric__label">Completed</div>
                </div>
              </div>
              <div class="ship-dashboard__visual">
                <!-- Interactive ship visualization -->
                <div class="ship-visual">
                  <div class="ship-visual__deck ship-visual__deck--upper"></div>
                  <div class="ship-visual__deck ship-visual__deck--main"></div>
                  <div class="ship-visual__deck ship-visual__deck--lower"></div>
                  <div class="ship-visual__cabin ship-visual__cabin--ours" title="Your Cabin: 6650"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Enhanced Dashboard -->
      <section class="dashboard" aria-label="Smart panels">
        <div class="panel panel--command">
          <header class="panel__header">
            <div>
              <h3 class="panel__title">
                <i class="fas fa-tachometer-alt"></i> Command Center
              </h3>
              <div class="panel__sub">Real-time analytics & predictive insights</div>
            </div>
            <div class="panel__actions">
              <span class="pill pill--progress" id="overall-progress">0%</span>
              <button class="icon-btn icon-btn--small" id="refresh-analytics" aria-label="Refresh analytics">
                <i class="fas fa-sync-alt"></i>
              </button>
            </div>
          </header>
          <div class="panel__body">
            <div class="kpi-grid">
              <div class="kpi kpi--urgent">
                <div class="kpi__icon"><i class="fas fa-exclamation-circle"></i></div>
                <div class="kpi__content">
                  <div class="kpi__label">Next Critical</div>
                  <div class="kpi__value" id="kpi-next">â€”</div>
                  <div class="kpi__sub" id="kpi-next-time">â€”</div>
                </div>
              </div>
              <div class="kpi kpi--time">
                <div class="kpi__icon"><i class="fas fa-clock"></i></div>
                <div class="kpi__content">
                  <div class="kpi__label">Countdown</div>
                  <div class="kpi__value" id="kpi-countdown">â€”</div>
                  <div class="kpi__sub">Until embarkation</div>
                </div>
              </div>
              <div class="kpi kpi--today">
                <div class="kpi__icon"><i class="fas fa-calendar-day"></i></div>
                <div class="kpi__content">
                  <div class="kpi__label">Today</div>
                  <div class="kpi__value" id="kpi-today">â€”</div>
                  <div class="kpi__sub" id="kpi-today-date">â€”</div>
                </div>
              </div>
              <div class="kpi kpi--tasks">
                <div class="kpi__icon"><i class="fas fa-tasks"></i></div>
                <div class="kpi__content">
                  <div class="kpi__label">Tasks</div>
                  <div class="kpi__value" id="kpi-visible">â€”</div>
                  <div class="kpi__sub">Visible / Total</div>
                </div>
              </div>
            </div>

            <div class="panel__insight">
              <div class="insight">
                <i class="insight__icon fas fa-lightbulb"></i>
                <div class="insight__content">
                  <div class="insight__title">AI Insight</div>
                  <div class="insight__text" id="ai-insight">
                    Complete critical tasks early. One meeting point reduces confusion. 
                    Keep snacks accessible. The system adapts to real-time changes.
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="panel panel--itinerary">
          <header class="panel__header">
            <div>
              <h3 class="panel__title">
                <i class="fas fa-map-marked-alt"></i> Smart Itinerary
              </h3>
              <div class="panel__sub">Interactive timeline with real-time updates</div>
            </div>
            <div class="panel__actions">
              <button class="icon-btn" id="copy-itin" aria-label="Copy itinerary" title="Copy">
                <i class="fas fa-copy"></i>
              </button>
              <button class="icon-btn" id="share-itin" aria-label="Share itinerary" title="Share">
                <i class="fas fa-share-alt"></i>
              </button>
              <button class="icon-btn" id="expand-itin" aria-label="Expand view" title="Expand">
                <i class="fas fa-expand"></i>
              </button>
            </div>
          </header>
          <div class="panel__body">
            <div class="timeline">
              <div class="timeline__header">
                <div class="timeline__day">Day</div>
                <div class="timeline__port">Port / Activity</div>
                <div class="timeline__time">Time</div>
                <div class="timeline__status">Status</div>
                <div class="timeline__actions">Actions</div>
              </div>
              <div class="timeline__body" id="itinerary-body">
                <!-- Dynamic itinerary items -->
              </div>
            </div>
            <div class="timeline__today-marker" id="today-marker">
              <div class="today-marker__line"></div>
              <div class="today-marker__label">Today</div>
            </div>
          </div>
        </div>

        <!-- New Panel: Quick Actions -->
        <div class="panel panel--quick">
          <header class="panel__header">
            <h3 class="panel__title">
              <i class="fas fa-bolt"></i> Quick Actions
            </h3>
            <div class="panel__sub">Frequently used functions</div>
          </header>
          <div class="panel__body">
            <div class="quick-actions-grid">
              <button class="quick-action" data-action="muster">
                <i class="quick-action__icon fas fa-life-ring"></i>
                <span class="quick-action__label">Muster Check</span>
              </button>
              <button class="quick-action" data-action="dining">
                <i class="quick-action__icon fas fa-utensils"></i>
                <span class="quick-action__label">Dining Reservations</span>
              </button>
              <button class="quick-action" data-action="excursions">
                <i class="quick-action__icon fas fa-hiking"></i>
                <span class="quick-action__label">Excursions</span>
              </button>
              <button class="quick-action" data-action="packing">
                <i class="quick-action__icon fas fa-suitcase"></i>
                <span class="quick-action__label">Packing List</span>
              </button>
              <button class="quick-action" data-action="expenses">
                <i class="quick-action__icon fas fa-receipt"></i>
                <span class="quick-action__label">Expense Tracker</span>
              </button>
              <button class="quick-action" data-action="weather">
                <i class="quick-action__icon fas fa-cloud-sun"></i>
                <span class="quick-action__label">Weather Forecast</span>
              </button>
              <button class="quick-action" data-action="notes">
                <i class="quick-action__icon fas fa-sticky-note"></i>
                <span class="quick-action__label">Quick Notes</span>
              </button>
              <button class="quick-action" data-action="emergency">
                <i class="quick-action__icon fas fa-phone-alt"></i>
                <span class="quick-action__label">Emergency Info</span>
              </button>
            </div>
          </div>
        </div>
      </section>

      <!-- Chapters Container with Loading States -->
      <section class="chapters" id="chapters">
        <div class="chapters__loading" id="chapters-loading">
          <div class="loading-spinner"></div>
          <div>Loading chapters...</div>
        </div>
        <!-- Chapters will be dynamically generated by JavaScript -->
      </section>

      <!-- Enhanced Footer -->
      <footer class="footer">
        <div class="footer__content">
          <div class="footer__section">
            <div class="footer__title">
              <i class="fas fa-lightbulb"></i> Pro Tips
            </div>
            <div class="footer__tips">
              <div class="tip">Reduce decisions by using defaults</div>
              <div class="tip">Execute critical tasks early each day</div>
              <div class="tip">Set one rendezvous point for family</div>
              <div class="tip">Enable notifications for time-sensitive items</div>
            </div>
          </div>
          <div class="footer__section">
            <div class="footer__title">
              <i class="fas fa-shield-alt"></i> Safety & Support
            </div>
            <div class="footer__links">
              <a href="#" class="footer__link">Emergency Procedures</a>
              <a href="#" class="footer__link">Medical Services</a>
              <a href="#" class="footer__link">Guest Services</a>
              <a href="#" class="footer__link">Wi-Fi Information</a>
            </div>
          </div>
          <div class="footer__section">
            <div class="footer__title">
              <i class="fas fa-info-circle"></i> System Status
            </div>
            <div class="footer__status">
              <div class="status-item">
                <span class="status-dot status-dot--online"></span>
                <span>Auto-save: Active</span>
              </div>
              <div class="status-item">
                <span class="status-dot status-dot--online"></span>
                <span>Offline Mode: Ready</span>
              </div>
              <div class="status-item">
                <span class="status-dot status-dot--online"></span>
                <span>Last Updated: <span id="last-updated">Just now</span></span>
              </div>
            </div>
          </div>
        </div>
        <div class="footer__bottom">
          <div class="footer__copyright">
            Â© 2026 Cruise Companion Â· Mission Control 3.0 Â· 
            <span id="app-version">v3.0.1</span>
          </div>
          <div class="footer__actions">
            <button class="footer__btn" id="feedback-btn">
              <i class="fas fa-comment-alt"></i> Feedback
            </button>
            <button class="footer__btn" id="export-btn">
              <i class="fas fa-download"></i> Export All
            </button>
            <button class="footer__btn" id="reset-btn">
              <i class="fas fa-redo"></i> Reset Demo
            </button>
          </div>
        </div>
      </footer>
    </main>
  </div>

  <!-- Enhanced FAB with More Actions -->
  <div class="fab" id="fab">
    <div class="fab__menu">
      <button class="fab__btn fab__btn--main" id="fab-main" aria-label="Main menu">
        <i class="fas fa-plus"></i>
      </button>
      <div class="fab__items">
        <button class="fab__btn" id="fab-top" aria-label="Back to top" title="Top">
          <i class="fas fa-arrow-up"></i>
        </button>
        <button class="fab__btn" id="fab-command" aria-label="Command palette" title="Commands">
          <i class="fas fa-terminal"></i>
        </button>
        <button class="fab__btn" id="fab-search" aria-label="Search" title="Search">
          <i class="fas fa-search"></i>
        </button>
        <button class="fab__btn" id="fab-help" aria-label="Help" title="Help">
          <i class="fas fa-question"></i>
        </button>
        <button class="fab__btn" id="fab-settings" aria-label="Settings" title="Settings">
          <i class="fas fa-cog"></i>
        </button>
      </div>
    </div>
  </div>

  <!-- Enhanced Command Palette -->
  <div id="palette" class="palette" role="dialog" aria-modal="true" aria-hidden="true" aria-label="Command palette">
    <div class="palette__overlay" id="palette-overlay"></div>
    <div class="palette__content">
      <div class="palette__header">
        <div class="palette__icon" aria-hidden="true">
          <i class="fas fa-terminal"></i>
        </div>
        <input id="palette-input" class="palette__input" type="text"
               placeholder="Type a command or search: today, muster, packing, cocoâ€¦"
               aria-label="Command palette input">
        <div class="palette__controls">
          <kbd>â†‘â†“</kbd>
          <kbd>Enter</kbd>
          <kbd>Esc</kbd>
        </div>
      </div>
      <div class="palette__body">
        <div class="palette__suggestions" id="palette-suggestions" aria-live="polite"></div>
        <ul id="palette-list" class="palette__list" role="listbox"></ul>
      </div>
      <div class="palette__footer">
        <div class="palette__category">
          <span class="palette__category-label">Navigation</span>
          <span class="palette__category-keys">â†‘â†“, Enter</span>
        </div>
        <div class="palette__category">
          <span class="palette__category-label">Selection</span>
          <span class="palette__category-keys">Tab, Space</span>
        </div>
        <div class="palette__category">
          <span class="palette__category-label">Close</span>
          <span class="palette__category-keys">Esc, Click outside</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Enhanced Toast System -->
  <div class="toast-container" id="toast-container">
    <div class="toast toast--success" id="toast" aria-hidden="true" role="status" aria-live="polite">
      <div class="toast__icon">
        <i class="fas fa-check-circle"></i>
      </div>
      <div class="toast__content">
        <div class="toast__title" id="toast-title">Success</div>
        <div class="toast__message" id="toast-message">Operation completed</div>
      </div>
      <button class="toast__close" aria-label="Close notification">
        <i class="fas fa-times"></i>
      </button>
    </div>
  </div>

  <!-- Modal System -->
  <div class="modal" id="modal" aria-hidden="true" role="dialog" aria-modal="true">
    <div class="modal__overlay" id="modal-overlay"></div>
    <div class="modal__content" id="modal-content">
      <div class="modal__header">
        <h2 class="modal__title" id="modal-title">Modal Title</h2>
        <button class="modal__close" id="modal-close" aria-label="Close modal">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="modal__body" id="modal-body">
        <!-- Modal content will be inserted here -->
      </div>
      <div class="modal__footer" id="modal-footer">
        <!-- Modal buttons will be inserted here -->
      </div>
    </div>
  </div>

  <!-- Offline Indicator -->
  <div class="offline-indicator" id="offline-indicator" aria-hidden="true">
    <div class="offline-indicator__content">
      <i class="offline-indicator__icon fas fa-wifi-slash"></i>
      <span class="offline-indicator__text">You are currently offline</span>
      <button class="offline-indicator__btn" id="offline-retry">Retry Connection</button>
    </div>
  </div>

  <!-- AI Assistant Chat (Collapsed by default) -->
  <div class="ai-assistant" id="ai-assistant">
    <button class="ai-assistant__toggle" id="ai-toggle" aria-label="Toggle AI assistant">
      <i class="fas fa-robot"></i>
      <span class="ai-assistant__badge" id="ai-badge">0</span>
    </button>
    <div class="ai-assistant__panel" id="ai-panel" aria-hidden="true">
      <div class="ai-assistant__header">
        <div class="ai-assistant__title">
          <i class="fas fa-robot"></i>
          Cruise AI Assistant
        </div>
        <button class="ai-assistant__close" id="ai-close" aria-label="Close AI assistant">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="ai-assistant__body" id="ai-messages">
        <!-- AI messages will appear here -->
      </div>
      <div class="ai-assistant__input">
        <input type="text" class="ai-assistant__input-field" 
               placeholder="Ask me anything about your cruise..." 
               id="ai-input">
        <button class="ai-assistant__send" id="ai-send" aria-label="Send message">
          <i class="fas fa-paper-plane"></i>
        </button>
      </div>
    </div>
  </div>

  <script src="app.js" defer></script>
  <!-- Optional: Service Worker for offline functionality -->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/sw.js');
      });
    }
  </script>
</body>
</html>