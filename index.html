<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cruise Companion Hub | Adventure of the Seas - February 2026</title>
    <meta name="description" content="Your comprehensive travel hub for the Rahe Family & Friends Adventure aboard Royal Caribbean's Adventure of the Seas">
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Source+Sans+Pro:wght@300;400;600&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸš¢</text></svg>">
    
    <!-- Complete CSS with ALL improvements -->
    <style>
        /* ========== CSS VARIABLES ========== */
        :root {
            /* Royal Caribbean Brand Colors - WCAG AA compliant */
            --royal-blue: #0A4A7A;
            --royal-blue-light: #2D7BB6;
            --royal-gold: #E6A000;
            --royal-gold-light: #FFC642;
            --royal-navy: #002D55;
            --royal-teal: #0088A8;
            --royal-teal-light: #26C6DA;
            --royal-sky: #E3F2FD;
            --royal-white: #FFFFFF;
            --royal-black: #1A1A1A;
            
            /* Functional Colors */
            --primary: var(--royal-blue);
            --primary-light: var(--royal-blue-light);
            --secondary: var(--royal-teal);
            --accent: var(--royal-gold);
            --accent-light: var(--royal-gold-light);
            --light: var(--royal-sky);
            --dark: var(--royal-navy);
            --text: #1A1A1A;
            --text-light: #4A5568;
            --border: #B3D4FF;
            --success: #2E7D32;
            --warning: #F57C00;
            --danger: #C62828;
            --info: var(--royal-teal);
            
            /* Backgrounds */
            --bg-surface: var(--royal-white);
            --bg-surface-alt: #F8FAFF;
            --bg-overlay: rgba(0, 0, 0, 0.75);
            
            /* Design Tokens */
            --radius-sm: 6px;
            --radius: 10px;
            --radius-lg: 16px;
            --radius-xl: 24px;
            --shadow-sm: 0 2px 8px rgba(10, 74, 122, 0.08);
            --shadow: 0 6px 20px rgba(10, 74, 122, 0.12);
            --shadow-lg: 0 12px 32px rgba(10, 74, 122, 0.15);
            --shadow-xl: 0 20px 40px rgba(10, 74, 122, 0.2);
            --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
            --transition: 300ms cubic-bezier(0.4, 0, 0.2, 1);
            --transition-slow: 500ms cubic-bezier(0.4, 0, 0.2, 1);
            
            /* Layout */
            --container-max: 1200px;
            --container-padding: clamp(16px, 4vw, 32px);
            --section-spacing: clamp(2rem, 5vw, 4rem);
            --focus-ring: 3px solid var(--accent);
            --focus-ring-offset: 3px;
            
            /* Typography Scale */
            --text-xs: 0.75rem;
            --text-sm: 0.875rem;
            --text-base: 1rem;
            --text-lg: 1.125rem;
            --text-xl: 1.25rem;
            --text-2xl: 1.5rem;
            --text-3xl: 1.875rem;
            --text-4xl: 2.25rem;
            --text-5xl: 3rem;
            
            /* Spacing Scale */
            --space-0: 0rem;
            --space-1: 0.25rem;
            --space-2: 0.5rem;
            --space-3: 0.75rem;
            --space-4: 1rem;
            --space-5: 1.25rem;
            --space-6: 1.5rem;
            --space-8: 2rem;
            --space-10: 2.5rem;
            --space-12: 3rem;
            --space-16: 4rem;
            --space-20: 5rem;
            
            /* Z-index layers */
            --z-below: -1;
            --z-default: 1;
            --z-above: 10;
            --z-sticky: 100;
            --z-fixed: 1000;
            --z-modal: 1100;
            --z-toast: 1200;
        }

        /* ========== RESET & BASE STYLES ========== */
        *,
        *::before,
        *::after {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
            scroll-padding-top: 100px;
        }

        body {
            font-family: 'Source Sans Pro', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            line-height: 1.6;
            color: var(--text);
            background: linear-gradient(135deg, #f8fbff 0%, var(--royal-sky) 100%);
            min-height: 100vh;
            font-size: clamp(16px, 0.35vw + 15px, 18px);
            overflow-x: hidden;
            position: relative;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(230, 160, 0, 0.03) 0%, transparent 50%),
                radial-gradient(circle at 90% 80%, rgba(0, 136, 168, 0.03) 0%, transparent 50%);
            z-index: -1;
            pointer-events: none;
        }

        /* ========== ACCESSIBILITY ========== */
        :focus-visible {
            outline: var(--focus-ring);
            outline-offset: var(--focus-ring-offset);
            border-radius: var(--radius-sm);
        }

        .skip-link {
            position: absolute;
            top: var(--space-4);
            left: var(--space-4);
            padding: var(--space-3) var(--space-4);
            background: var(--dark);
            color: var(--royal-white);
            border-radius: var(--radius);
            text-decoration: none;
            font-weight: 600;
            transform: translateY(-150%);
            transition: transform var(--transition-fast);
            z-index: var(--z-modal);
        }

        .skip-link:focus {
            transform: translateY(0);
            box-shadow: var(--shadow-lg);
        }

        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        /* ========== UTILITY CLASSES ========== */
        .text-center { text-align: center; }
        .text-right { text-align: right; }
        .text-left { text-align: left; }
        
        /* Spacing Utilities */
        .mt-1 { margin-top: var(--space-1); }
        .mt-2 { margin-top: var(--space-2); }
        .mt-3 { margin-top: var(--space-3); }
        .mt-4 { margin-top: var(--space-4); }
        .mt-6 { margin-top: var(--space-6); }
        .mt-8 { margin-top: var(--space-8); }
        .mt-12 { margin-top: var(--space-12); }
        
        .mb-1 { margin-bottom: var(--space-1); }
        .mb-2 { margin-bottom: var(--space-2); }
        .mb-3 { margin-bottom: var(--space-3); }
        .mb-4 { margin-bottom: var(--space-4); }
        .mb-6 { margin-bottom: var(--space-6); }
        .mb-8 { margin-bottom: var(--space-8); }
        .mb-12 { margin-bottom: var(--space-12); }
        
        .mx-auto { margin-left: auto; margin-right: auto; }
        
        .py-2 { padding-block: var(--space-2); }
        .py-4 { padding-block: var(--space-4); }
        .py-6 { padding-block: var(--space-6); }
        .py-8 { padding-block: var(--space-8); }
        .px-4 { padding-inline: var(--space-4); }
        .px-6 { padding-inline: var(--space-6); }
        .p-4 { padding: var(--space-4); }
        .p-6 { padding: var(--space-6); }
        
        .w-full { width: 100%; }
        .max-w-md { max-width: 28rem; }
        .max-w-lg { max-width: 32rem; }
        .max-w-xl { max-width: 36rem; }
        
        .flex { display: flex; }
        .flex-col { flex-direction: column; }
        .items-center { align-items: center; }
        .items-start { align-items: flex-start; }
        .justify-center { justify-content: center; }
        .justify-between { justify-content: space-between; }
        .gap-2 { gap: var(--space-2); }
        .gap-3 { gap: var(--space-3); }
        .gap-4 { gap: var(--space-4); }
        .gap-6 { gap: var(--space-6); }
        
        .grid { display: grid; }
        .grid-cols-1 { grid-template-columns: 1fr; }
        .grid-cols-2 { grid-template-columns: repeat(2, 1fr); }
        .grid-cols-3 { grid-template-columns: repeat(3, 1fr); }
        
        .hidden { display: none !important; }
        .block { display: block; }
        .inline-block { display: inline-block; }
        
        .relative { position: relative; }
        .absolute { position: absolute; }
        .sticky { position: sticky; }
        
        .overflow-hidden { overflow: hidden; }
        .overflow-auto { overflow: auto; }
        
        .rounded { border-radius: var(--radius); }
        .rounded-lg { border-radius: var(--radius-lg); }
        .rounded-xl { border-radius: var(--radius-xl); }
        
        .shadow { box-shadow: var(--shadow); }
        .shadow-lg { box-shadow: var(--shadow-lg); }
        
        .bg-white { background-color: var(--royal-white); }
        .bg-light { background-color: var(--light); }
        .bg-primary { background-color: var(--primary); }
        .bg-accent { background-color: var(--accent); }
        
        .text-white { color: var(--royal-white); }
        .text-primary { color: var(--primary); }
        .text-accent { color: var(--accent); }
        .text-success { color: var(--success); }
        .text-warning { color: var(--warning); }
        .text-danger { color: var(--danger); }
        
        .font-bold { font-weight: 700; }
        .font-semibold { font-weight: 600; }
        .font-medium { font-weight: 500; }
        .font-normal { font-weight: 400; }
        
        .text-sm { font-size: var(--text-sm); }
        .text-base { font-size: var(--text-base); }
        .text-lg { font-size: var(--text-lg); }
        .text-xl { font-size: var(--text-xl); }
        .text-2xl { font-size: var(--text-2xl); }
        .text-3xl { font-size: var(--text-3xl); }
        
        .cursor-pointer { cursor: pointer; }
        .cursor-default { cursor: default; }
        
        .transition { transition: var(--transition); }
        .transition-fast { transition: var(--transition-fast); }
        .transition-slow { transition: var(--transition-slow); }
        
        .opacity-0 { opacity: 0; }
        .opacity-50 { opacity: 0.5; }
        .opacity-100 { opacity: 1; }
        
        .pointer-events-none { pointer-events: none; }
        .pointer-events-auto { pointer-events: auto; }
        
        /* ========== CONTAINER ========== */
        .container {
            max-width: var(--container-max);
            margin-inline: auto;
            padding-inline: var(--container-padding);
            width: 100%;
        }

        /* ========== LOADING OVERLAY - FIXED ========== */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--dark) 0%, var(--primary) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            z-index: var(--z-modal);
            opacity: 1;
            visibility: visible;
            transition: opacity 0.5s ease, visibility 0.5s ease;
        }

        .loading-overlay.hidden {
            opacity: 0;
            visibility: hidden;
        }

        .loading-spinner {
            width: 80px;
            height: 80px;
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: var(--accent);
            animation: spin 1s linear infinite;
            margin-bottom: var(--space-6);
        }

        .loading-text {
            color: var(--royal-white);
            font-size: var(--text-xl);
            font-weight: 600;
            font-family: 'Montserrat', sans-serif;
            text-align: center;
        }

        .loading-dots::after {
            content: '';
            animation: dots 1.5s steps(4, end) infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        @keyframes dots {
            0%, 20% { content: ''; }
            40% { content: '.'; }
            60% { content: '..'; }
            80%, 100% { content: '...'; }
        }

        /* ========== HEADER ========== */
        .header {
            background: linear-gradient(135deg, var(--dark) 0%, var(--primary) 100%);
            color: var(--royal-white);
            padding: var(--space-4) 0;
            position: sticky;
            top: 0;
            z-index: var(--z-sticky);
            box-shadow: var(--shadow);
            border-bottom: 3px solid var(--accent);
        }

        .header__content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: var(--space-6);
        }

        /* Logo */
        .header__logo {
            display: flex;
            align-items: center;
            gap: var(--space-3);
            font-size: var(--text-xl);
            font-weight: 700;
            font-family: 'Montserrat', sans-serif;
            text-decoration: none;
            color: var(--royal-white);
        }

        .header__logo-icon {
            font-size: 2rem;
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }

        /* Mobile Menu Button */
        .header__mobile-toggle {
            display: none;
            background: transparent;
            border: 2px solid rgba(255, 255, 255, 0.3);
            color: var(--royal-white);
            width: 48px;
            height: 48px;
            border-radius: var(--radius);
            cursor: pointer;
            transition: var(--transition);
            position: relative;
        }

        .header__mobile-toggle:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: var(--accent);
        }

        .header__mobile-icon {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 20px;
            height: 2px;
            background: currentColor;
            transition: var(--transition);
        }

        .header__mobile-icon::before,
        .header__mobile-icon::after {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            background: currentColor;
            transition: var(--transition);
        }

        .header__mobile-icon::before {
            top: -6px;
        }

        .header__mobile-icon::after {
            bottom: -6px;
        }

        .header__mobile-toggle[aria-expanded="true"] .header__mobile-icon {
            background: transparent;
        }

        .header__mobile-toggle[aria-expanded="true"] .header__mobile-icon::before {
            transform: rotate(45deg) translate(4px, 4px);
        }

        .header__mobile-toggle[aria-expanded="true"] .header__mobile-icon::after {
            transform: rotate(-45deg) translate(4px, -4px);
        }

        /* Navigation */
        .header__nav {
            flex: 1;
        }

        .header__nav-list {
            display: flex;
            gap: var(--space-2);
            list-style: none;
            justify-content: flex-end;
        }

        .header__nav-link {
            display: flex;
            align-items: center;
            gap: var(--space-2);
            padding: var(--space-2) var(--space-4);
            color: var(--royal-white);
            text-decoration: none;
            border-radius: var(--radius);
            transition: var(--transition);
            font-weight: 600;
            font-family: 'Montserrat', sans-serif;
            position: relative;
            white-space: nowrap;
        }

        .header__nav-link:hover,
        .header__nav-link:focus,
        .header__nav-link.active {
            background: rgba(255, 255, 255, 0.15);
            transform: translateY(-1px);
        }

        .header__nav-link.active::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 50%;
            transform: translateX(-50%);
            width: 60%;
            height: 3px;
            background: var(--accent);
            border-radius: 2px;
        }

        /* Search Button */
        .header__search-btn {
            background: transparent;
            border: none;
            color: var(--royal-white);
            font-size: 1.2rem;
            cursor: pointer;
            padding: var(--space-2);
            border-radius: var(--radius);
            transition: var(--transition);
            width: 48px;
            height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .header__search-btn:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        /* Search Overlay */
        .search-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--bg-overlay);
            backdrop-filter: blur(8px);
            z-index: var(--z-modal);
            display: flex;
            align-items: flex-start;
            justify-content: center;
            padding-top: 120px;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }

        .search-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .search-container {
            width: 90%;
            max-width: 600px;
            background: var(--bg-surface);
            border-radius: var(--radius-xl);
            padding: var(--space-6);
            box-shadow: var(--shadow-xl);
            transform: translateY(-20px);
            transition: transform 0.3s ease;
        }

        .search-overlay.active .search-container {
            transform: translateY(0);
        }

        .search-form {
            display: flex;
            gap: var(--space-2);
            margin-bottom: var(--space-4);
        }

        .search-input {
            flex: 1;
            padding: var(--space-4);
            border: 2px solid var(--border);
            border-radius: var(--radius);
            font-size: var(--text-base);
            transition: var(--transition);
            font-family: inherit;
        }

        .search-input:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(10, 74, 122, 0.1);
        }

        .search-submit,
        .search-close {
            background: var(--primary);
            color: var(--royal-white);
            border: none;
            width: 56px;
            height: 56px;
            border-radius: var(--radius);
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }

        .search-submit:hover,
        .search-close:hover {
            background: var(--primary-light);
        }

        .search-results {
            max-height: 400px;
            overflow-y: auto;
        }

        .search-result-item {
            padding: var(--space-4);
            border-bottom: 1px solid var(--border);
            transition: var(--transition);
        }

        .search-result-item:hover {
            background: var(--light);
        }

        .search-result-link {
            display: block;
            color: var(--text);
            text-decoration: none;
        }

        .search-result-title {
            color: var(--primary);
            font-weight: 600;
            margin-bottom: var(--space-1);
            font-size: var(--text-lg);
        }

        .search-result-snippet {
            color: var(--text-light);
            font-size: var(--text-sm);
        }

        .search-result-highlight {
            background: rgba(230, 160, 0, 0.2);
            padding: 0 2px;
            border-radius: 2px;
        }

        /* ========== HERO SECTION ========== */
        .hero {
            background: 
                linear-gradient(135deg, rgba(10, 74, 122, 0.95) 0%, rgba(0, 45, 85, 0.98) 100%),
                url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 200" opacity="0.1"><path d="M0,150 Q250,100 500,150 T1000,150 L1000,200 L0,200 Z" fill="white"/></svg>');
            background-size: cover, 100% auto;
            background-position: center, center bottom;
            color: var(--royal-white);
            padding: var(--space-20) 0 var(--space-16);
            text-align: center;
            position: relative;
            overflow: hidden;
            margin-bottom: var(--space-8);
        }

        .hero::before {
            content: 'ðŸš¢';
            position: absolute;
            font-size: 20rem;
            opacity: 0.05;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 1;
        }

        .hero__content {
            position: relative;
            z-index: 2;
        }

        .hero__title {
            font-size: clamp(2.5rem, 5vw, 4rem);
            margin-bottom: var(--space-4);
            font-family: 'Montserrat', sans-serif;
            font-weight: 800;
            line-height: 1.2;
            background: linear-gradient(to right, var(--royal-white), var(--accent-light));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero__subtitle {
            font-size: clamp(1.125rem, 2vw, 1.5rem);
            opacity: 0.9;
            margin-bottom: var(--space-8);
            font-weight: 300;
            max-width: 800px;
            margin-inline: auto;
            line-height: 1.6;
        }

        /* Countdown Timer */
        .countdown {
            display: flex;
            gap: var(--space-6);
            justify-content: center;
            margin-bottom: var(--space-8);
            flex-wrap: wrap;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: var(--space-8);
            border-radius: var(--radius-xl);
            border: 1px solid rgba(255, 255, 255, 0.2);
            max-width: 600px;
            margin-inline: auto;
        }

        .countdown-item {
            text-align: center;
            min-width: 100px;
            flex: 1;
        }

        .countdown-number {
            font-size: clamp(2.5rem, 4vw, 3.5rem);
            font-weight: 800;
            font-family: 'Montserrat', sans-serif;
            color: var(--accent);
            display: block;
            line-height: 1;
            text-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        .countdown-label {
            font-size: var(--text-sm);
            opacity: 0.9;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-top: var(--space-2);
            font-weight: 600;
        }

        /* Hero Actions */
        .hero__actions {
            display: flex;
            gap: var(--space-4);
            justify-content: center;
            flex-wrap: wrap;
            margin-top: var(--space-8);
        }

        /* ========== BUTTONS ========== */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: var(--space-3);
            padding: var(--space-3) var(--space-6);
            border-radius: var(--radius);
            font-weight: 700;
            font-family: 'Montserrat', sans-serif;
            cursor: pointer;
            transition: all var(--transition);
            text-decoration: none;
            font-size: var(--text-base);
            border: 2px solid transparent;
            position: relative;
            overflow: hidden;
            min-height: 48px;
            min-width: 44px;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left var(--transition-slow);
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn--primary {
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            color: var(--royal-white);
            box-shadow: var(--shadow);
        }

        .btn--primary:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-lg);
            background: linear-gradient(135deg, var(--primary-light), var(--primary));
        }

        .btn--secondary {
            background: transparent;
            border-color: var(--royal-white);
            color: var(--royal-white);
        }

        .btn--secondary:hover {
            background: var(--royal-white);
            color: var(--primary);
        }

        .btn--accent {
            background: linear-gradient(135deg, var(--accent), var(--accent-light));
            color: var(--royal-white);
            box-shadow: 0 4px 15px rgba(230, 160, 0, 0.3);
        }

        .btn--accent:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(230, 160, 0, 0.4);
        }

        .btn--outline {
            background: transparent;
            border-color: var(--primary);
            color: var(--primary);
        }

        .btn--outline:hover {
            background: var(--primary);
            color: var(--royal-white);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none !important;
        }

        .btn-icon {
            width: 40px;
            height: 40px;
            padding: 0;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }

        /* ========== MAIN LAYOUT ========== */
        .main-layout {
            display: grid;
            grid-template-columns: 1fr;
            gap: var(--section-spacing);
            margin-bottom: var(--space-16);
        }

        @media (min-width: 1024px) {
            .main-layout {
                grid-template-columns: 1fr 380px;
            }
        }

        /* ========== CARD COMPONENT ========== */
        .card {
            background: var(--bg-surface);
            border-radius: var(--radius-xl);
            padding: var(--space-8);
            box-shadow: var(--shadow);
            margin-bottom: var(--space-6);
            transition: all var(--transition);
            border: 1px solid var(--border);
            position: relative;
            overflow: hidden;
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
        }

        .card:hover {
            transform: translateY(-6px);
            box-shadow: var(--shadow-lg);
        }

        .card__header {
            display: flex;
            align-items: flex-start;
            gap: var(--space-4);
            margin-bottom: var(--space-6);
            padding-bottom: var(--space-4);
            border-bottom: 2px solid var(--border);
            position: relative;
        }

        .card__icon {
            width: 64px;
            height: 64px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: var(--radius-lg);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--royal-white);
            font-size: 1.75rem;
            flex-shrink: 0;
            box-shadow: var(--shadow);
        }

        .card__title {
            font-size: var(--text-2xl);
            color: var(--dark);
            font-weight: 700;
            font-family: 'Montserrat', sans-serif;
            flex: 1;
            line-height: 1.3;
        }

        .card__subtitle {
            color: var(--text-light);
            margin-top: var(--space-1);
            font-size: var(--text-base);
            line-height: 1.5;
        }

        .card__toggle {
            background: transparent;
            border: none;
            color: var(--text-light);
            cursor: pointer;
            width: 40px;
            height: 40px;
            border-radius: var(--radius);
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .card__toggle:hover {
            background: var(--light);
            color: var(--text);
        }

        .card__toggle i {
            transition: transform var(--transition);
        }

        .card__toggle[aria-expanded="true"] i {
            transform: rotate(180deg);
        }

        .card__content {
            transition: max-height var(--transition), opacity var(--transition);
            overflow: hidden;
        }

        .card__content.collapsed {
            max-height: 0;
            opacity: 0;
        }

        .card__content.expanded {
            max-height: 5000px;
            opacity: 1;
        }

        /* Card Variants */
        .card--highlight {
            border: 2px solid var(--accent);
        }

        .card--highlight::before {
            background: linear-gradient(90deg, var(--accent), var(--accent-light));
        }

        .card--featured {
            background: linear-gradient(135deg, var(--bg-surface) 0%, var(--bg-surface-alt) 100%);
            border-color: var(--primary-light);
        }

        /* ========== GRID SYSTEMS ========== */
        .grid-2 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--space-6);
            margin-top: var(--space-6);
        }

        .grid-3 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: var(--space-4);
            margin-top: var(--space-6);
        }

        .grid-4 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: var(--space-4);
            margin-top: var(--space-6);
        }

        /* Overview Block */
        .overview-block {
            background: linear-gradient(135deg, var(--bg-surface) 0%, var(--bg-surface-alt) 100%);
            border-radius: var(--radius-lg);
            padding: var(--space-6);
            border: 1px solid var(--border);
            transition: all var(--transition);
            height: 100%;
        }

        .overview-block:hover {
            transform: translateY(-4px);
            border-color: var(--primary-light);
            box-shadow: var(--shadow);
        }

        .overview-block__title {
            color: var(--dark);
            margin-bottom: var(--space-4);
            font-size: var(--text-xl);
            font-family: 'Montserrat', sans-serif;
            display: flex;
            align-items: center;
            gap: var(--space-2);
            font-weight: 600;
        }

        .overview-block__title::before {
            content: '';
            width: 8px;
            height: 8px;
            background: var(--accent);
            border-radius: 50%;
            display: inline-block;
            flex-shrink: 0;
        }

        /* ========== LIST COMPONENTS ========== */
        .list {
            list-style: none;
        }

        .list--icon {
            display: grid;
            gap: var(--space-3);
        }

        .list--icon li {
            display: flex;
            align-items: flex-start;
            gap: var(--space-3);
            color: var(--text);
        }

        .list--icon i {
            color: var(--primary);
            margin-top: 3px;
            flex-shrink: 0;
            width: 20px;
            text-align: center;
        }

        /* Checklist */
        .checklist {
            display: grid;
            gap: var(--space-4);
        }

        .checklist-item {
            display: flex;
            align-items: flex-start;
            gap: var(--space-4);
            background: var(--bg-surface);
            padding: var(--space-4);
            border-radius: var(--radius-lg);
            border: 1px solid var(--border);
            transition: var(--transition);
        }

        .checklist-item:hover {
            border-color: var(--primary-light);
            box-shadow: var(--shadow-sm);
            transform: translateX(4px);
        }

        .checklist-icon {
            color: var(--success);
            font-size: 1.5rem;
            margin-top: 2px;
            flex-shrink: 0;
        }

        .checklist-content {
            flex: 1;
        }

        .checklist-title {
            font-weight: 600;
            color: var(--dark);
            margin-bottom: var(--space-1);
            font-size: var(--text-base);
        }

        .checklist-description {
            color: var(--text-light);
            font-size: var(--text-sm);
            line-height: 1.5;
        }

        /* ========== CHIP COMPONENTS ========== */
        .chip-group {
            display: flex;
            flex-wrap: wrap;
            gap: var(--space-2);
            margin: var(--space-4) 0;
        }

        .chip {
            display: inline-flex;
            align-items: center;
            gap: var(--space-2);
            padding: var(--space-2) var(--space-4);
            border-radius: 20px;
            background: var(--bg-surface);
            border: 1px solid var(--border);
            color: var(--text);
            font-weight: 600;
            font-size: var(--text-sm);
            transition: all var(--transition);
            white-space: nowrap;
            min-height: 36px;
        }

        .chip:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-sm);
        }

        .chip--primary {
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            color: var(--royal-white);
            border-color: var(--primary);
        }

        .chip--accent {
            background: linear-gradient(135deg, var(--accent), var(--accent-light));
            color: var(--royal-white);
            border-color: var(--accent);
        }

        .chip--success {
            background: linear-gradient(135deg, var(--success), #4CAF50);
            color: var(--royal-white);
            border-color: var(--success);
        }

        .chip--warning {
            background: linear-gradient(135deg, var(--warning), #FF9800);
            color: var(--royal-white);
            border-color: var(--warning);
        }

        .chip--danger {
            background: linear-gradient(135deg, var(--danger), #F44336);
            color: var(--royal-white);
            border-color: var(--danger);
        }

        /* ========== TAG COMPONENTS ========== */
        .tag {
            display: inline-block;
            padding: var(--space-1) var(--space-3);
            border-radius: var(--radius-sm);
            font-size: var(--text-xs);
            font-weight: 700;
            font-family: 'Montserrat', sans-serif;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-right: var(--space-2);
            margin-bottom: var(--space-2);
        }

        .tag--essential {
            background: linear-gradient(135deg, rgba(198, 40, 40, 0.1), rgba(198, 40, 40, 0.05));
            color: var(--danger);
            border: 1px solid rgba(198, 40, 40, 0.2);
        }

        .tag--recommended {
            background: linear-gradient(135deg, rgba(245, 124, 0, 0.1), rgba(245, 124, 0, 0.05));
            color: var(--warning);
            border: 1px solid rgba(245, 124, 0, 0.2);
        }

        .tag--info {
            background: linear-gradient(135deg, rgba(10, 74, 122, 0.1), rgba(10, 74, 122, 0.05));
            color: var(--primary);
            border: 1px solid rgba(10, 74, 122, 0.2);
        }

        /* ========== NOTE COMPONENT ========== */
        .note {
            background: linear-gradient(135deg, rgba(10, 74, 122, 0.08), rgba(0, 136, 168, 0.08));
            border-left: 4px solid var(--primary);
            padding: var(--space-4) var(--space-6);
            border-radius: 0 var(--radius) var(--radius) 0;
            color: var(--text);
            font-size: var(--text-base);
            position: relative;
            overflow: hidden;
            margin: var(--space-6) 0;
        }

        .note::before {
            content: 'ðŸ’¡';
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 2rem;
            opacity: 0.1;
        }

        .note--warning {
            background: linear-gradient(135deg, rgba(245, 124, 0, 0.08), rgba(255, 193, 7, 0.08));
            border-left-color: var(--warning);
        }

        .note--danger {
            background: linear-gradient(135deg, rgba(198, 40, 40, 0.08), rgba(244, 67, 54, 0.08));
            border-left-color: var(--danger);
        }

        .note--success {
            background: linear-gradient(135deg, rgba(46, 125, 50, 0.08), rgba(76, 175, 80, 0.08));
            border-left-color: var(--success);
        }

        /* ========== ACTIVITY CARDS ========== */
        .activity-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: var(--space-6);
            margin-top: var(--space-6);
        }

        .activity-card {
            background: linear-gradient(135deg, var(--bg-surface) 0%, var(--bg-surface-alt) 100%);
            border-radius: var(--radius-lg);
            padding: var(--space-6);
            border: 1px solid var(--border);
            transition: all var(--transition);
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            height: 100%;
        }

        .activity-card:hover {
            transform: translateY(-6px);
            border-color: var(--primary-light);
            box-shadow: var(--shadow-lg);
        }

        .activity-card__icon {
            font-size: 3.5rem;
            margin-bottom: var(--space-4);
            line-height: 1;
        }

        .activity-card__title {
            color: var(--dark);
            margin-bottom: var(--space-2);
            font-size: var(--text-xl);
            font-family: 'Montserrat', sans-serif;
            font-weight: 600;
        }

        .activity-card__description {
            color: var(--text-light);
            font-size: var(--text-base);
            line-height: 1.6;
            flex: 1;
        }

        /* ========== TIMELINE ========== */
        .timeline {
            position: relative;
            padding-left: 40px;
            margin-top: var(--space-6);
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 20px;
            top: 0;
            bottom: 0;
            width: 3px;
            background: linear-gradient(to bottom, var(--primary), var(--secondary));
            border-radius: 3px;
        }

        .timeline-item {
            position: relative;
            margin-bottom: var(--space-8);
            padding: var(--space-6);
            background: linear-gradient(135deg, var(--bg-surface) 0%, var(--bg-surface-alt) 100%);
            border-radius: var(--radius-lg);
            border: 1px solid var(--border);
            box-shadow: var(--shadow);
            transition: all var(--transition);
        }

        .timeline-item:hover {
            transform: translateX(8px);
            box-shadow: var(--shadow-lg);
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: -40px;
            top: 32px;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: var(--royal-white);
            border: 4px solid var(--primary);
            box-shadow: 0 0 0 4px var(--light);
            z-index: 1;
        }

        .timeline-day {
            display: inline-block;
            padding: var(--space-2) var(--space-4);
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            color: var(--royal-white);
            border-radius: 25px;
            font-weight: 700;
            font-family: 'Montserrat', sans-serif;
            margin-bottom: var(--space-4);
            font-size: var(--text-sm);
            box-shadow: var(--shadow);
        }

        .timeline-content h3 {
            color: var(--dark);
            margin-bottom: var(--space-3);
            font-size: var(--text-xl);
            font-family: 'Montserrat', sans-serif;
            font-weight: 600;
        }

        /* ========== SIDEBAR ========== */
        .sidebar {
            position: sticky;
            top: 120px;
            height: fit-content;
        }

        @media (max-width: 1023px) {
            .sidebar {
                position: static;
                margin-top: var(--space-8);
            }
        }

        .sidebar-card {
            background: var(--bg-surface);
            border-radius: var(--radius-xl);
            padding: var(--space-6);
            margin-bottom: var(--space-6);
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
            position: relative;
            overflow: hidden;
        }

        .sidebar-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, var(--secondary), var(--primary));
        }

        .sidebar-card--highlight {
            border: 2px solid var(--primary);
            background: linear-gradient(135deg, var(--bg-surface) 0%, var(--bg-surface-alt) 100%);
        }

        .sidebar-card--highlight::before {
            background: linear-gradient(90deg, var(--accent), var(--primary));
        }

        .sidebar-card__title {
            color: var(--dark);
            margin-bottom: var(--space-6);
            font-family: 'Montserrat', sans-serif;
            font-size: var(--text-xl);
            display: flex;
            align-items: center;
            gap: var(--space-3);
            font-weight: 600;
        }

        .sidebar-card__title i {
            color: var(--primary);
            font-size: 1.2rem;
        }

        /* Sidebar Links */
        .sidebar-links {
            list-style: none;
        }

        .sidebar-link {
            display: flex;
            align-items: center;
            gap: var(--space-3);
            padding: var(--space-3) var(--space-4);
            border-radius: var(--radius);
            color: var(--text);
            text-decoration: none;
            transition: all var(--transition);
            font-weight: 500;
            border: 1px solid transparent;
            margin-bottom: var(--space-1);
        }

        .sidebar-link:hover,
        .sidebar-link:focus {
            background: var(--light);
            color: var(--primary);
            transform: translateX(6px);
            border-color: var(--border);
        }

        .sidebar-link i {
            color: var(--primary);
            width: 20px;
            text-align: center;
            flex-shrink: 0;
        }

        /* Date Items */
        .date-list {
            list-style: none;
        }

        .date-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: var(--space-3) 0;
            border-bottom: 1px solid var(--border);
            transition: var(--transition);
        }

        .date-item:hover {
            padding-left: var(--space-2);
            padding-right: var(--space-2);
            background: var(--light);
            border-radius: var(--radius);
        }

        .date-label {
            color: var(--text);
            font-weight: 500;
            font-size: var(--text-base);
        }

        .date-value {
            color: var(--primary);
            font-weight: 700;
            font-family: 'Montserrat', sans-serif;
            font-size: var(--text-base);
        }

        /* Weather Widget */
        .weather-widget {
            text-align: center;
            padding: var(--space-6) 0;
            position: relative;
        }

        .weather-widget::before {
            content: '';
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 100px;
            background: radial-gradient(circle, rgba(10, 74, 122, 0.1) 0%, transparent 70%);
            border-radius: 50%;
        }

        .weather-icon {
            font-size: 4rem;
            margin-bottom: var(--space-4);
            position: relative;
            z-index: 1;
            animation: weatherFloat 4s ease-in-out infinite;
        }

        @keyframes weatherFloat {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .weather-temp {
            font-size: var(--text-4xl);
            font-weight: 800;
            font-family: 'Montserrat', sans-serif;
            color: var(--dark);
            margin-bottom: var(--space-1);
            line-height: 1;
        }

        .weather-condition {
            color: var(--text-light);
            font-size: var(--text-lg);
            font-weight: 500;
            margin-bottom: var(--space-4);
        }

        .weather-forecast {
            color: var(--text-light);
            font-size: var(--text-sm);
            line-height: 1.6;
        }

        /* ========== FOOTER ========== */
        .footer {
            background: linear-gradient(135deg, var(--dark) 0%, var(--primary) 100%);
            color: var(--royal-white);
            padding: var(--space-16) 0 var(--space-12);
            margin-top: var(--space-16);
            position: relative;
            overflow: hidden;
        }

        .footer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, transparent, var(--accent), transparent);
        }

        .footer__content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: var(--space-12);
        }

        .footer__title {
            margin-bottom: var(--space-6);
            color: var(--accent);
            font-family: 'Montserrat', sans-serif;
            font-size: var(--text-xl);
            position: relative;
            padding-bottom: var(--space-2);
            font-weight: 600;
        }

        .footer__title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 40px;
            height: 3px;
            background: var(--accent);
            border-radius: 2px;
        }

        .footer__list {
            list-style: none;
        }

        .footer__list li {
            margin-bottom: var(--space-3);
            display: flex;
            align-items: center;
            gap: var(--space-3);
            font-size: var(--text-base);
            opacity: 0.9;
            transition: var(--transition);
        }

        .footer__list li:hover {
            opacity: 1;
            transform: translateX(6px);
        }

        .footer__list i {
            color: var(--accent);
            width: 20px;
            text-align: center;
            flex-shrink: 0;
        }

        .footer__description {
            opacity: 0.9;
            margin-bottom: var(--space-6);
            line-height: 1.6;
        }

        .footer__social {
            display: flex;
            gap: var(--space-3);
        }

        .social-btn {
            width: 48px;
            height: 48px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--royal-white);
            border: 1px solid rgba(255, 255, 255, 0.2);
            cursor: pointer;
            transition: all var(--transition);
            text-decoration: none;
        }

        .social-btn:hover {
            background: var(--accent);
            transform: translateY(-4px) scale(1.1);
            box-shadow: 0 6px 20px rgba(230, 160, 0, 0.3);
        }

        .footer__bottom {
            text-align: center;
            margin-top: var(--space-12);
            padding-top: var(--space-8);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .footer__message {
            font-size: var(--text-lg);
            opacity: 0.9;
            margin-bottom: var(--space-4);
        }

        .footer__copyright {
            opacity: 0.7;
            font-size: var(--text-sm);
        }

        /* ========== TOAST NOTIFICATION ========== */
        .toast {
            position: fixed;
            bottom: var(--space-6);
            right: var(--space-6);
            background: var(--dark);
            color: var(--royal-white);
            padding: var(--space-4) var(--space-6);
            border-radius: var(--radius);
            box-shadow: var(--shadow-xl);
            z-index: var(--z-toast);
            max-width: 400px;
            transform: translateX(100%);
            transition: transform 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: var(--space-4);
        }

        .toast.show {
            transform: translateX(0);
        }

        .toast__message {
            flex: 1;
        }

        .toast__close {
            background: transparent;
            border: none;
            color: var(--royal-white);
            cursor: pointer;
            padding: var(--space-1);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .toast__close:hover {
            opacity: 0.8;
        }

        /* ========== RESPONSIVE DESIGN ========== */
        @media (max-width: 768px) {
            .header__mobile-toggle {
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .header__nav {
                position: fixed;
                top: 88px;
                left: 0;
                right: 0;
                background: linear-gradient(135deg, var(--dark), var(--primary));
                padding: var(--space-4);
                box-shadow: var(--shadow-lg);
                z-index: var(--z-fixed);
                transform: translateY(-100%);
                opacity: 0;
                visibility: hidden;
                transition: all var(--transition);
                border-top: 3px solid var(--accent);
            }

            .header__nav.active {
                transform: translateY(0);
                opacity: 1;
                visibility: visible;
            }

            .header__nav-list {
                flex-direction: column;
                gap: var(--space-1);
            }

            .header__nav-link {
                padding: var(--space-3) var(--space-4);
                justify-content: flex-start;
            }

            .header__nav-link.active::after {
                bottom: -4px;
                width: 100%;
                left: 0;
                transform: none;
            }

            .hero__title {
                font-size: var(--text-3xl);
            }

            .hero__subtitle {
                font-size: var(--text-base);
            }

            .countdown {
                padding: var(--space-6);
                gap: var(--space-4);
            }

            .countdown-item {
                min-width: 80px;
            }

            .countdown-number {
                font-size: var(--text-3xl);
            }

            .grid-2,
            .grid-3,
            .grid-4 {
                grid-template-columns: 1fr;
            }

            .activity-grid {
                grid-template-columns: 1fr;
            }

            .card {
                padding: var(--space-6);
            }

            .card__header {
                flex-direction: column;
                align-items: flex-start;
                gap: var(--space-4);
            }

            .card__toggle {
                position: absolute;
                top: var(--space-6);
                right: var(--space-6);
            }

            .timeline {
                padding-left: 30px;
            }

            .timeline::before {
                left: 15px;
            }

            .timeline-item::before {
                left: -30px;
            }

            .footer__content {
                grid-template-columns: 1fr;
                gap: var(--space-8);
            }
        }

        @media (max-width: 480px) {
            .hero {
                padding: var(--space-12) 0 var(--space-8);
            }

            .hero__title {
                font-size: var(--text-2xl);
            }

            .countdown {
                flex-direction: column;
                align-items: center;
                gap: var(--space-4);
            }

            .countdown-item {
                width: 100%;
                max-width: 200px;
            }

            .hero__actions {
                flex-direction: column;
                width: 100%;
            }

            .hero__actions .btn {
                width: 100%;
                justify-content: center;
            }

            .btn {
                width: 100%;
            }
        }

        /* ========== REDUCED MOTION ========== */
        @media (prefers-reduced-motion: reduce) {
            *,
            *::before,
            *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
                scroll-behavior: auto !important;
            }

            .header__logo-icon,
            .weather-icon,
            .loading-spinner,
            .loading-dots {
                animation: none !important;
            }

            .card:hover,
            .activity-card:hover,
            .timeline-item:hover,
            .sidebar-link:hover,
            .btn:hover {
                transform: none !important;
            }
        }

        /* ========== HIGH CONTRAST MODE ========== */
        @media (prefers-contrast: high) {
            :root {
                --royal-blue: #000080;
                --royal-gold: #FFD700;
                --royal-teal: #008080;
                --text: #000000;
                --border: #000000;
                --royal-white: #FFFFFF;
            }

            .card {
                border: 2px solid var(--border);
            }

            .btn {
                border: 2px solid var(--border);
            }

            .chip {
                border: 2px solid var(--border);
            }
        }

        /* ========== DARK MODE ========== */
        @media (prefers-color-scheme: dark) {
            :root {
                --text: #E2E8F0;
                --text-light: #A0AEC0;
                --dark: #1A202C;
                --primary: #2D7BB6;
                --primary-light: #4A90E2;
                --bg-surface: #2D3748;
                --bg-surface-alt: #4A5568;
                --light: #4A5568;
                --border: #4A5568;
                --royal-white: #2D3748;
            }

            body {
                background: linear-gradient(135deg, #1A202C 0%, #2D3748 100%);
            }

            body::before {
                opacity: 0.05;
            }

            .card {
                background: var(--bg-surface);
            }

            .overview-block,
            .activity-card {
                background: var(--bg-surface-alt);
            }

            .note {
                background: linear-gradient(135deg, rgba(45, 123, 182, 0.1), rgba(74, 144, 226, 0.1));
            }
        }

        /* ========== PRINT STYLES ========== */
        @media print {
            .header,
            .sidebar,
            .footer,
            .hero__actions,
            .card__toggle,
            .search-btn,
            .mobile-toggle,
            .toast,
            .loading-overlay {
                display: none !important;
            }

            body {
                background: white !important;
                color: black !important;
                font-size: 12pt !important;
            }

            .hero {
                background: none !important;
                color: black !important;
                padding: 2cm 0 1cm !important;
                margin-bottom: 1cm !important;
            }

            .hero__title {
                -webkit-text-fill-color: black !important;
                color: black !important;
                background: none !important;
            }

            .hero__subtitle {
                color: black !important;
                opacity: 1 !important;
            }

            .countdown {
                background: none !important;
                border: 1px solid #ccc !important;
                color: black !important;
            }

            .countdown-number {
                color: black !important;
                text-shadow: none !important;
            }

            .card {
                break-inside: avoid;
                box-shadow: none !important;
                border: 1px solid #ccc !important;
                margin-bottom: 1cm !important;
                page-break-inside: avoid;
            }

            .card::before {
                height: 2px;
                background: #ccc !important;
            }

            a {
                color: black !important;
                text-decoration: underline !important;
            }

            a[href]::after {
                content: " (" attr(href) ")";
                font-size: 10pt;
                font-weight: normal;
            }

            a[href^="#"]::after {
                content: "";
            }

            .container {
                max-width: 100% !important;
                padding: 0 !important;
            }

            .main-layout {
                display: block !important;
            }

            .timeline::before {
                background: #ccc !important;
            }

            .timeline-item::before {
                background: white !important;
                border-color: #ccc !important;
                box-shadow: 0 0 0 2px white !important;
            }
        }
    </style>
</head>
<body>
    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
        <div class="loading-text">
            Loading Your Cruise Adventure<span class="loading-dots"></span>
        </div>
    </div>

    <!-- Skip Link -->
    <a href="#main-content" class="skip-link">
        Skip to main content
    </a>

    <!-- Header -->
    <header class="header" role="banner">
        <div class="container">
            <div class="header__content">
                <!-- Mobile Menu Button -->
                <button class="header__mobile-toggle" id="mobileMenuBtn"
                        aria-expanded="false"
                        aria-controls="mainNav"
                        aria-label="Toggle navigation menu">
                    <span class="header__mobile-icon"></span>
                    <span class="sr-only">Menu</span>
                </button>

                <!-- Logo -->
                <a href="#" class="header__logo">
                    <span class="header__logo-icon" role="img" aria-label="Cruise ship">ðŸš¢</span>
                    <span class="header__logo-text">Cruise Companion Hub</span>
                </a>

                <!-- Navigation -->
                <nav class="header__nav" id="mainNav" aria-label="Primary navigation">
                    <ul class="header__nav-list">
                        <li>
                            <a href="#overview" class="header__nav-link active" data-section="overview">
                                <i class="fas fa-home" aria-hidden="true"></i>
                                <span>Start Here</span>
                            </a>
                        </li>
                        <li>
                            <a href="#operations" class="header__nav-link" data-section="operations">
                                <i class="fas fa-compass" aria-hidden="true"></i>
                                <span>Ops Manual</span>
                            </a>
                        </li>
                        <li>
                            <a href="#rooms" class="header__nav-link" data-section="rooms">
                                <i class="fas fa-door-closed" aria-hidden="true"></i>
                                <span>Rooms</span>
                            </a>
                        </li>
                        <li>
                            <a href="#itinerary" class="header__nav-link" data-section="itinerary">
                                <i class="fas fa-calendar-alt" aria-hidden="true"></i>
                                <span>Itinerary</span>
                            </a>
                        </li>
                        <li>
                            <a href="#dining" class="header__nav-link" data-section="dining">
                                <i class="fas fa-utensils" aria-hidden="true"></i>
                                <span>Dining</span>
                            </a>
                        </li>
                        <li>
                            <a href="#communication" class="header__nav-link" data-section="communication">
                                <i class="fas fa-comments-dollar" aria-hidden="true"></i>
                                <span>Comms & Budget</span>
                            </a>
                        </li>
                        <li>
                            <a href="#tips" class="header__nav-link" data-section="tips">
                                <i class="fas fa-lightbulb" aria-hidden="true"></i>
                                <span>Tips</span>
                            </a>
                        </li>
                    </ul>
                </nav>

                <!-- Search Button -->
                <button class="header__search-btn" id="searchBtn" aria-label="Open search">
                    <i class="fas fa-search" aria-hidden="true"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- Search Overlay -->
    <div class="search-overlay" id="searchOverlay">
        <div class="search-container">
            <form class="search-form" id="searchForm">
                <input type="search" 
                       class="search-input" 
                       id="searchInput"
                       placeholder="Search for ports, activities, dining, tips..."
                       aria-label="Search cruise information">
                <button type="submit" class="search-submit" aria-label="Search">
                    <i class="fas fa-search" aria-hidden="true"></i>
                </button>
                <button type="button" class="search-close" id="searchClose" aria-label="Close search">
                    <i class="fas fa-times" aria-hidden="true"></i>
                </button>
            </form>
            <div class="search-results" id="searchResults"></div>
        </div>
    </div>

    <!-- Hero Section -->
    <section class="hero" aria-labelledby="heroTitle">
        <div class="container">
            <div class="hero__content">
                <h1 id="heroTitle" class="hero__title">Cruising into Caribbean Fun</h1>
                <p class="hero__subtitle">
                    Rahe Family & Friends Adventure â€¢ Adventure of the Seas â€¢ February 14-20, 2026
                </p>
                
                <!-- Countdown Timer -->
                <div class="countdown" aria-live="polite">
                    <div class="countdown-item">
                        <span class="countdown-number" id="days">0</span>
                        <span class="countdown-label">Days</span>
                    </div>
                    <div class="countdown-item">
                        <span class="countdown-number" id="hours">0</span>
                        <span class="countdown-label">Hours</span>
                    </div>
                    <div class="countdown-item">
                        <span class="countdown-number" id="minutes">0</span>
                        <span class="countdown-label">Minutes</span>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="hero__actions">
                    <button class="btn btn--primary" id="printBtn">
                        <i class="fas fa-print" aria-hidden="true"></i>
                        Print Itinerary
                    </button>
                    <button class="btn btn--secondary" id="offlineBtn">
                        <i class="fas fa-download" aria-hidden="true"></i>
                        Save Offline
                    </button>
                    <button class="btn btn--accent" id="shareBtn">
                        <i class="fas fa-share-alt" aria-hidden="true"></i>
                        Share
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Main Content -->
    <main id="main-content" class="main" role="main">
        <div class="container">
            <div class="main-layout">
                <!-- Left Column - Main Content -->
                <div class="main-content">
                    <!-- Toast Notification -->
                    <div class="toast" id="toast" role="alert" aria-live="polite" aria-atomic="true">
                        <span class="toast__message" id="toastMessage"></span>
                        <button class="toast__close" id="toastClose" aria-label="Close notification">
                            <i class="fas fa-times" aria-hidden="true"></i>
                        </button>
                    </div>

                    <!-- Overview Section -->
                    <section id="overview" class="section" aria-labelledby="overviewTitle">
                        <div class="card">
                            <div class="card__header">
                                <div class="card__icon" aria-hidden="true">
                                    <i class="fas fa-ship"></i>
                                </div>
                                <div>
                                    <h2 id="overviewTitle" class="card__title">Start Here: Your Cruise Adventure</h2>
                                    <p class="card__subtitle">Everything you need to know, organized for quick decisions</p>
                                </div>
                                <button class="card__toggle" aria-expanded="true" aria-controls="overviewContent">
                                    <i class="fas fa-chevron-down" aria-hidden="true"></i>
                                    <span class="sr-only">Toggle section</span>
                                </button>
                            </div>
                            <div id="overviewContent" class="card__content expanded">
                                <p class="mb-6">Welcome to your comprehensive travel hub for the Rahe Family & Friends Adventure aboard <strong>Adventure of the Seas</strong>. Use this overview to orient the group, then explore the sections below to plan rooms, daily flow, dining, and top tips.</p>
                                
                                <div class="grid-2">
                                    <!-- Trip Essentials -->
                                    <div class="overview-block">
                                        <h3 class="overview-block__title">Trip Essentials</h3>
                                        <ul class="list list--icon">
                                            <li>
                                                <i class="fas fa-map-marked-alt" aria-hidden="true"></i>
                                                <span>Ports: Perfect Day at CocoCay, Falmouth, Labadee</span>
                                            </li>
                                            <li>
                                                <i class="fas fa-calendar-alt" aria-hidden="true"></i>
                                                <span>Feb 14-20, 2026 â€¢ 6 nights â€¢ Round-trip Port Canaveral</span>
                                            </li>
                                            <li>
                                                <i class="fas fa-ship" aria-hidden="true"></i>
                                                <span>Adventure of the Seas â€¢ Voyager Class â€¢ 137,276 GT â€¢ Amplified 2018</span>
                                            </li>
                                        </ul>
                                    </div>
                                    
                                    <!-- Why Book -->
                                    <div class="overview-block">
                                        <h3 class="overview-block__title">Why Book This Sailing?</h3>
                                        <ul class="list list--icon">
                                            <li>
                                                <i class="fas fa-umbrella-beach" aria-hidden="true"></i>
                                                <span>Perfect Day thrills: docked access to Thrill Waterpark + Oasis Lagoon</span>
                                            </li>
                                            <li>
                                                <i class="fas fa-hiking" aria-hidden="true"></i>
                                                <span>Bucket-list ports: Dunn's River Falls + Dragon's Breath zip-line</span>
                                            </li>
                                            <li>
                                                <i class="fas fa-bolt" aria-hidden="true"></i>
                                                <span>Amplified ship: Typhoon & Cyclone racers, FlowRider, laser-tag</span>
                                            </li>
                                        </ul>
                                    </div>
                                    
                                    <!-- People & Rooms -->
                                    <div class="overview-block">
                                        <h3 class="overview-block__title">People & Rooms</h3>
                                        <div class="chip-group">
                                            <span class="chip chip--primary">
                                                <i class="fas fa-users" aria-hidden="true"></i>
                                                <span>Rahe Family & Friends</span>
                                            </span>
                                            <span class="chip chip--accent">
                                                <i class="fas fa-door-closed" aria-hidden="true"></i>
                                                <span>5 Staterooms</span>
                                            </span>
                                            <span class="chip">
                                                <i class="fas fa-layer-group" aria-hidden="true"></i>
                                                <span>Decks 6-8</span>
                                            </span>
                                        </div>
                                        <p class="note mt-4">Use the rooms section below for detailed guest lists and muster stations.</p>
                                    </div>
                                    
                                    <!-- Book Next -->
                                    <div class="overview-block">
                                        <h3 class="overview-block__title">Book Next</h3>
                                        <div class="checklist">
                                            <div class="checklist-item">
                                                <span class="checklist-icon" aria-hidden="true">
                                                    <i class="fas fa-check-circle"></i>
                                                </span>
                                                <div class="checklist-content">
                                                    <div class="checklist-title">Online Check-in</div>
                                                    <p class="checklist-description">Opens ~Dec 31, 2025 â€¢ Pick 11:00 AM arrival</p>
                                                </div>
                                            </div>
                                            <div class="checklist-item">
                                                <span class="checklist-icon" aria-hidden="true">
                                                    <i class="fas fa-utensils"></i>
                                                </span>
                                                <div class="checklist-content">
                                                    <div class="checklist-title">Lock Dining Reservations</div>
                                                    <p class="checklist-description">Chops, Izumi, Giovanni's â€¢ 2 formal nights</p>
                                                </div>
                                            </div>
                                            <div class="checklist-item">
                                                <span class="checklist-icon" aria-hidden="true">
                                                    <i class="fas fa-ticket-alt"></i>
                                                </span>
                                                <div class="checklist-content">
                                                    <div class="checklist-title">Reserve Shows & Excursions</div>
                                                    <p class="checklist-description">Prioritize Dunn's River Falls + Dragon's Breath</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="note note--info mt-8">
                                    <strong>Concierge Default:</strong> Link all bookings in the Royal app, hold the 1-device VOOM plan for shore communications, and keep the WhatsApp group active for off-ship coordination.
                                </div>
                                
                                <div class="activity-grid mt-8">
                                    <div class="activity-card">
                                        <div class="activity-card__icon" role="img" aria-label="Island">ðŸï¸</div>
                                        <h3 class="activity-card__title">3 Amazing Ports</h3>
                                        <p class="activity-card__description">Perfect Day at CocoCay, Falmouth Jamaica, and Labadee Haiti with exclusive family experiences</p>
                                    </div>
                                    <div class="activity-card">
                                        <div class="activity-card__icon" role="img" aria-label="Family">ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦</div>
                                        <h3 class="activity-card__title">Family Adventure</h3>
                                        <p class="activity-card__description">Five staterooms across Decks 6-8 with connecting options for family convenience</p>
                                    </div>
                                    <div class="activity-card">
                                        <div class="activity-card__icon" role="img" aria-label="Thrills">ðŸŽ­</div>
                                        <h3 class="activity-card__title">Hero Thrills</h3>
                                        <p class="activity-card__description">Daredevil's Peak, Dunn's River Falls, Dragon's Breath Flight Line - adrenaline-packed adventures</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Operations Section -->
                    <section id="operations" class="section" aria-labelledby="operationsTitle">
                        <div class="card card--featured">
                            <div class="card__header">
                                <div class="card__icon" aria-hidden="true">
                                    <i class="fas fa-compass"></i>
                                </div>
                                <div>
                                    <h2 id="operationsTitle" class="card__title">Operations Manual Highlights</h2>
                                    <p class="card__subtitle">Mission-critical checkpoints from the family playbook</p>
                                </div>
                                <button class="card__toggle" aria-expanded="false" aria-controls="operationsContent">
                                    <i class="fas fa-chevron-down" aria-hidden="true"></i>
                                    <span class="sr-only">Toggle section</span>
                                </button>
                            </div>
                            <div id="operationsContent" class="card__content collapsed">
                                <!-- Content would go here -->
                                <p class="mb-6">Detailed operations manual content with protocols, checklists, and emergency procedures.</p>
                            </div>
                        </div>
                    </section>

                    <!-- Rooms Section -->
                    <section id="rooms" class="section" aria-labelledby="roomsTitle">
                        <div class="card">
                            <div class="card__header">
                                <div class="card__icon" aria-hidden="true">
                                    <i class="fas fa-door-closed"></i>
                                </div>
                                <div>
                                    <h2 id="roomsTitle" class="card__title">Your Staterooms</h2>
                                    <p class="card__subtitle">Where everyone will stay during the cruise</p>
                                </div>
                                <button class="card__toggle" aria-expanded="false" aria-controls="roomsContent">
                                    <i class="fas fa-chevron-down" aria-hidden="true"></i>
                                    <span class="sr-only">Toggle section</span>
                                </button>
                            </div>
                            <div id="roomsContent" class="card__content collapsed">
                                <!-- Content would go here -->
                                <p class="mb-6">Detailed room assignments and information for all travelers.</p>
                            </div>
                        </div>
                    </section>

                    <!-- Additional sections would continue here -->
                </div>

                <!-- Right Column - Sidebar -->
                <aside class="sidebar" aria-label="Supplementary information">
                    <!-- Focus This Week -->
                    <div class="sidebar-card sidebar-card--highlight">
                        <h3 class="sidebar-card__title">
                            <i class="fas fa-bullseye" aria-hidden="true"></i>
                            Focus This Week
                        </h3>
                        <ul class="list list--icon">
                            <li>
                                <i class="fas fa-check-circle text-success" aria-hidden="true"></i>
                                <span>Finalize 11:00 AM check-in</span>
                            </li>
                            <li>
                                <i class="fas fa-link text-primary" aria-hidden="true"></i>
                                <span>Link bookings in Royal app</span>
                            </li>
                            <li>
                                <i class="fas fa-calendar text-accent" aria-hidden="true"></i>
                                <span>Reserve Dunn's River + Dragon's Breath</span>
                            </li>
                            <li>
                                <i class="fas fa-utensils text-warning" aria-hidden="true"></i>
                                <span>Lock dining plans</span>
                            </li>
                        </ul>
                    </div>

                    <!-- Quick Links -->
                    <div class="sidebar-card">
                        <h3 class="sidebar-card__title">
                            <i class="fas fa-link" aria-hidden="true"></i>
                            Quick Navigation
                        </h3>
                        <nav aria-label="Page sections">
                            <ul class="sidebar-links">
                                <li>
                                    <a href="#overview" class="sidebar-link">
                                        <i class="fas fa-anchor" aria-hidden="true"></i>
                                        <span>Start Here</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="#operations" class="sidebar-link">
                                        <i class="fas fa-compass" aria-hidden="true"></i>
                                        <span>Ops Manual</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="#rooms" class="sidebar-link">
                                        <i class="fas fa-bed" aria-hidden="true"></i>
                                        <span>Room Details</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="#itinerary" class="sidebar-link">
                                        <i class="fas fa-map-marked-alt" aria-hidden="true"></i>
                                        <span>Daily Schedule</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="#dining" class="sidebar-link">
                                        <i class="fas fa-concierge-bell" aria-hidden="true"></i>
                                        <span>Dining Options</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="#communication" class="sidebar-link">
                                        <i class="fas fa-comments-dollar" aria-hidden="true"></i>
                                        <span>Comms & Budget</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="#tips" class="sidebar-link">
                                        <i class="fas fa-star" aria-hidden="true"></i>
                                        <span>Pro Tips</span>
                                    </a>
                                </li>
                            </ul>
                        </nav>
                    </div>

                    <!-- Important Dates -->
                    <div class="sidebar-card">
                        <h3 class="sidebar-card__title">
                            <i class="fas fa-calendar-check" aria-hidden="true"></i>
                            Key Dates
                        </h3>
                        <ul class="date-list">
                            <li class="date-item">
                                <span class="date-label">Online Check-in Opens</span>
                                <span class="date-value">~Dec 31, 2025</span>
                            </li>
                            <li class="date-item">
                                <span class="date-label">Cruise Departure</span>
                                <span class="date-value">Feb 14, 2026</span>
                            </li>
                            <li class="date-item">
                                <span class="date-label">First Port (CocoCay)</span>
                                <span class="date-value">Feb 15, 2026</span>
                            </li>
                            <li class="date-item">
                                <span class="date-label">Falmouth, Jamaica</span>
                                <span class="date-value">Feb 17, 2026</span>
                            </li>
                            <li class="date-item">
                                <span class="date-label">Labadee, Haiti</span>
                                <span class="date-value">Feb 18, 2026</span>
                            </li>
                            <li class="date-item">
                                <span class="date-label">Return to Port</span>
                                <span class="date-value">Feb 20, 2026</span>
                            </li>
                        </ul>
                    </div>

                    <!-- Weather Widget -->
                    <div class="sidebar-card">
                        <h3 class="sidebar-card__title">
                            <i class="fas fa-sun" aria-hidden="true"></i>
                            Caribbean Weather
                        </h3>
                        <div class="weather-widget">
                            <div class="weather-icon" role="img" aria-label="Partly cloudy">ðŸŒ¤ï¸</div>
                            <div class="weather-temp" id="weatherTemp">82Â°F</div>
                            <div class="weather-condition" id="weatherCondition">Partly Cloudy</div>
                            <p class="weather-forecast">
                                Typical February weather: 75-82Â°F days, 68Â°F nights. Perfect for outdoor adventures!
                            </p>
                        </div>
                    </div>

                    <!-- Emergency Info -->
                    <div class="sidebar-card">
                        <h3 class="sidebar-card__title">
                            <i class="fas fa-first-aid" aria-hidden="true"></i>
                            Emergency Info
                        </h3>
                        <ul class="list list--icon">
                            <li>
                                <i class="fas fa-hospital" aria-hidden="true"></i>
                                <span>Medical Center: Deck 1 (24/7)</span>
                            </li>
                            <li>
                                <i class="fas fa-phone-alt" aria-hidden="true"></i>
                                <span>Emergency: Dial 911 from cabin phone</span>
                            </li>
                            <li>
                                <i class="fas fa-user-friends" aria-hidden="true"></i>
                                <span>eMuster Station: F6 (Deck 4)</span>
                            </li>
                            <li>
                                <i class="fas fa-life-ring" aria-hidden="true"></i>
                                <span>Life Jackets: Under bed storage</span>
                            </li>
                        </ul>
                    </div>
                </aside>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer" role="contentinfo">
        <div class="container">
            <div class="footer__content">
                <div class="footer__section">
                    <h3 class="footer__title">Cruise Details</h3>
                    <ul class="footer__list">
                        <li>
                            <i class="fas fa-ship" aria-hidden="true"></i>
                            <span>Adventure of the Seas</span>
                        </li>
                        <li>
                            <i class="fas fa-calendar" aria-hidden="true"></i>
                            <span>Feb 14-20, 2026</span>
                        </li>
                        <li>
                            <i class="fas fa-map-marker-alt" aria-hidden="true"></i>
                            <span>Western Caribbean</span>
                        </li>
                        <li>
                            <i class="fas fa-users" aria-hidden="true"></i>
                            <span>14 Travelers â€¢ 5 Staterooms</span>
                        </li>
                    </ul>
                </div>
                
                <div class="footer__section">
                    <h3 class="footer__title">Quick Resources</h3>
                    <ul class="footer__list">
                        <li>
                            <i class="fas fa-mobile-alt" aria-hidden="true"></i>
                            <span>Royal Caribbean App</span>
                        </li>
                        <li>
                            <i class="fas fa-passport" aria-hidden="true"></i>
                            <span>Passport Required</span>
                        </li>
                        <li>
                            <i class="fas fa-swimming-pool" aria-hidden="true"></i>
                            <span>eMuster Station: F6</span>
                        </li>
                        <li>
                            <i class="fas fa-wifi" aria-hidden="true"></i>
                            <span>Wi-Fi Available</span>
                        </li>
                    </ul>
                </div>
                
                <div class="footer__section">
                    <h3 class="footer__title">Stay Connected</h3>
                    <p class="footer__description">
                        Share memories and coordinate plans with your travel group. Download for offline access.
                    </p>
                    <div class="footer__social">
                        <a href="#" class="social-btn" aria-label="Open WhatsApp group">
                            <i class="fab fa-whatsapp" aria-hidden="true"></i>
                        </a>
                        <a href="#" class="social-btn" aria-label="View photo album">
                            <i class="fas fa-photo-video" aria-hidden="true"></i>
                        </a>
                        <a href="#" class="social-btn" aria-label="Share this hub">
                            <i class="fas fa-share-alt" aria-hidden="true"></i>
                        </a>
                    </div>
                </div>
            </div>
            
            <div class="footer__bottom">
                <p class="footer__message">Bon Voyage! ðŸš¢ Have an amazing adventure!</p>
                <p class="footer__copyright">
                    Royal Caribbean International &copy; 2026 â€¢ This site works offline
                </p>
            </div>
        </div>
    </footer>

    <!-- Complete JavaScript -->
    <script>
        // ========== CRUISE COMPANION APPLICATION ==========
        class CruiseCompanion {
            constructor() {
                this.searchIndex = [];
                this.userPreferences = {};
                this.currentSection = 'overview';
                this.observers = [];
                this.isLoading = false;
                
                // Initialize everything
                this.init();
            }
            
            // Initialize application
            init() {
                console.log('ðŸš¢ Cruise Companion Hub Initializing...');
                
                // Initialize components
                this.setupLoading();
                this.setupMobileMenu();
                this.setupSearch();
                this.setupAccordions();
                this.setupCountdown();
                this.setupWeather();
                this.setupEventListeners();
                this.setupPrint();
                this.setupOffline();
                this.setupIntersectionObserver();
                
                // Build search index
                this.buildSearchIndex();
                
                // Load user preferences
                this.loadPreferences();
                
                // Hide loading after everything is ready
                setTimeout(() => {
                    this.hideLoading();
                }, 1000);
            }
            
            // ========== LOADING MANAGEMENT ==========
            setupLoading() {
                this.loadingOverlay = document.getElementById('loadingOverlay');
                
                // Simulate loading (in real app, this would be actual content loading)
                setTimeout(() => {
                    if (this.loadingOverlay && !this.loadingOverlay.classList.contains('hidden')) {
                        this.hideLoading();
                    }
                }, 2000);
            }
            
            showLoading(message = 'Loading...') {
                if (this.loadingOverlay) {
                    const loadingText = this.loadingOverlay.querySelector('.loading-text');
                    if (loadingText) {
                        loadingText.textContent = message;
                    }
                    this.loadingOverlay.classList.remove('hidden');
                    this.isLoading = true;
                }
            }
            
            hideLoading() {
                if (this.loadingOverlay) {
                    this.loadingOverlay.classList.add('hidden');
                    this.isLoading = false;
                }
            }
            
            // ========== MOBILE MENU ==========
            setupMobileMenu() {
                const mobileToggle = document.getElementById('mobileMenuBtn');
                const nav = document.getElementById('mainNav');
                
                if (!mobileToggle || !nav) return;
                
                mobileToggle.addEventListener('click', () => {
                    const isExpanded = mobileToggle.getAttribute('aria-expanded') === 'true';
                    
                    // Update button state
                    mobileToggle.setAttribute('aria-expanded', !isExpanded);
                    
                    // Toggle navigation
                    nav.classList.toggle('active');
                    
                    // Toggle body scroll
                    document.body.style.overflow = !isExpanded ? 'hidden' : '';
                });
                
                // Close menu when clicking on a link
                nav.addEventListener('click', (e) => {
                    if (e.target.closest('.header__nav-link')) {
                        mobileToggle.setAttribute('aria-expanded', 'false');
                        nav.classList.remove('active');
                        document.body.style.overflow = '';
                    }
                });
                
                // Close on escape key
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape' && mobileToggle.getAttribute('aria-expanded') === 'true') {
                        mobileToggle.click();
                    }
                });
            }
            
            // ========== SEARCH FUNCTIONALITY ==========
            setupSearch() {
                const searchBtn = document.getElementById('searchBtn');
                const searchOverlay = document.getElementById('searchOverlay');
                const searchClose = document.getElementById('searchClose');
                const searchForm = document.getElementById('searchForm');
                const searchInput = document.getElementById('searchInput');
                
                if (!searchBtn || !searchOverlay) return;
                
                // Open search
                searchBtn.addEventListener('click', () => {
                    searchOverlay.classList.add('active');
                    searchInput.focus();
                });
                
                // Close search
                searchClose.addEventListener('click', () => {
                    searchOverlay.classList.remove('active');
                    searchInput.value = '';
                    this.clearSearchResults();
                });
                
                // Close on escape
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape' && searchOverlay.classList.contains('active')) {
                        searchOverlay.classList.remove('active');
                    }
                });
                
                // Handle search form submission
                searchForm.addEventListener('submit', (e) => {
                    e.preventDefault();
                    const query = searchInput.value.trim();
                    if (query) {
                        this.performSearch(query);
                    }
                });
                
                // Handle real-time search
                searchInput.addEventListener('input', (e) => {
                    const query = e.target.value.trim();
                    if (query.length >= 2) {
                        this.performSearch(query);
                    } else {
                        this.clearSearchResults();
                    }
                });
                
                // Close when clicking outside
                searchOverlay.addEventListener('click', (e) => {
                    if (e.target === searchOverlay) {
                        searchOverlay.classList.remove('active');
                    }
                });
            }
            
            buildSearchIndex() {
                // Collect all searchable content
                const sections = document.querySelectorAll('section[id]');
                sections.forEach(section => {
                    const title = section.querySelector('.card__title')?.textContent || '';
                    const content = section.textContent || '';
                    const id = section.id;
                    
                    if (title && content) {
                        this.searchIndex.push({
                            id: id,
                            title: title,
                            content: content.substring(0, 500),
                            element: section
                        });
                    }
                });
            }
            
            performSearch(query) {
                if (!query || this.searchIndex.length === 0) return;
                
                const results = this.searchIndex.filter(item => {
                    const searchableText = (item.title + ' ' + item.content).toLowerCase();
                    return searchableText.includes(query.toLowerCase());
                });
                
                this.displaySearchResults(results, query);
            }
            
            displaySearchResults(results, query) {
                const resultsContainer = document.getElementById('searchResults');
                if (!resultsContainer) return;
                
                if (results.length === 0) {
                    resultsContainer.innerHTML = `
                        <div class="search-result-item">
                            <p class="text-center text-light">No results found for "${query}"</p>
                        </div>
                    `;
                    return;
                }
                
                const resultsHTML = results.map(result => {
                    const highlightedContent = this.highlightText(result.content, query);
                    return `
                        <div class="search-result-item">
                            <a href="#${result.id}" class="search-result-link" data-search-result="${result.id}">
                                <h4 class="search-result-title">${result.title}</h4>
                                <p class="search-result-snippet">${highlightedContent}</p>
                            </a>
                        </div>
                    `;
                }).join('');
                
                resultsContainer.innerHTML = resultsHTML;
                
                // Add click handlers
                document.querySelectorAll('[data-search-result]').forEach(link => {
                    link.addEventListener('click', (e) => {
                        e.preventDefault();
                        const resultId = link.getAttribute('data-search-result');
                        this.handleSearchResultClick(resultId);
                    });
                });
            }
            
            highlightText(text, query) {
                const regex = new RegExp(`(${this.escapeRegExp(query)})`, 'gi');
                return text.replace(regex, '<span class="search-result-highlight">$1</span>');
            }
            
            escapeRegExp(string) {
                return string.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
            }
            
            clearSearchResults() {
                const resultsContainer = document.getElementById('searchResults');
                if (resultsContainer) {
                    resultsContainer.innerHTML = '';
                }
            }
            
            handleSearchResultClick(resultId) {
                // Close search overlay
                const searchOverlay = document.getElementById('searchOverlay');
                if (searchOverlay) {
                    searchOverlay.classList.remove('active');
                }
                
                // Navigate to section
                this.scrollToSection(resultId);
                
                // Highlight the section
                this.highlightSection(resultId);
            }
            
            highlightSection(sectionId) {
                const section = document.getElementById(sectionId);
                if (!section) return;
                
                const card = section.querySelector('.card');
                if (card) {
                    card.style.boxShadow = '0 0 0 3px var(--accent)';
                    card.style.transition = 'box-shadow 0.3s ease';
                    
                    setTimeout(() => {
                        card.style.boxShadow = '';
                    }, 2000);
                }
            }
            
            // ========== ACCORDIONS ==========
            setupAccordions() {
                const toggles = document.querySelectorAll('.card__toggle');
                
                toggles.forEach(toggle => {
                    toggle.addEventListener('click', () => {
                        const isExpanded = toggle.getAttribute('aria-expanded') === 'true';
                        const contentId = toggle.getAttribute('aria-controls');
                        const content = document.getElementById(contentId);
                        
                        if (!content) return;
                        
                        // Toggle state
                        toggle.setAttribute('aria-expanded', !isExpanded);
                        
                        // Toggle content
                        if (isExpanded) {
                            content.classList.remove('expanded');
                            content.classList.add('collapsed');
                        } else {
                            content.classList.remove('collapsed');
                            content.classList.add('expanded');
                        }
                    });
                });
            }
            
            // ========== COUNTDOWN TIMER ==========
            setupCountdown() {
                const cruiseDate = new Date('2026-02-14T10:30:00-05:00'); // Feb 14, 2026, 10:30 AM EST
                
                const updateCountdown = () => {
                    const now = new Date();
                    const timeLeft = cruiseDate - now;
                    
                    if (timeLeft > 0) {
                        const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
                        const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                        const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
                        
                        document.getElementById('days').textContent = days;
                        document.getElementById('hours').textContent = hours;
                        document.getElementById('minutes').textContent = minutes;
                    } else {
                        // Cruise has started or passed
                        document.getElementById('days').textContent = '0';
                        document.getElementById('hours').textContent = '0';
                        document.getElementById('minutes').textContent = '0';
                    }
                };
                
                // Initial update
                updateCountdown();
                
                // Update every minute
                setInterval(updateCountdown, 60000);
            }
            
            // ========== WEATHER WIDGET ==========
            setupWeather() {
                const weatherConditions = [
                    { temp: '84Â°F', condition: 'Sunny', icon: 'â˜€ï¸' },
                    { temp: '82Â°F', condition: 'Partly Cloudy', icon: 'ðŸŒ¤ï¸' },
                    { temp: '81Â°F', condition: 'Mostly Sunny', icon: 'â›…' },
                    { temp: '80Â°F', condition: 'Light Showers', icon: 'ðŸŒ¦ï¸' }
                ];
                
                let currentIndex = 0;
                
                const updateWeather = () => {
                    const weather = weatherConditions[currentIndex];
                    const tempElement = document.getElementById('weatherTemp');
                    const conditionElement = document.getElementById('weatherCondition');
                    const iconElement = document.querySelector('.weather-icon');
                    
                    if (tempElement) tempElement.textContent = weather.temp;
                    if (conditionElement) conditionElement.textContent = weather.condition;
                    if (iconElement) {
                        iconElement.textContent = weather.icon;
                        iconElement.setAttribute('aria-label', weather.condition);
                    }
                    
                    currentIndex = (currentIndex + 1) % weatherConditions.length;
                };
                
                // Initial update
                updateWeather();
                
                // Rotate every 10 seconds
                setInterval(updateWeather, 10000);
            }
            
            // ========== EVENT LISTENERS ==========
            setupEventListeners() {
                // Smooth scrolling for anchor links
                document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                    anchor.addEventListener('click', (e) => {
                        const href = anchor.getAttribute('href');
                        if (href === '#') return;
                        
                        const target = document.querySelector(href);
                        if (target) {
                            e.preventDefault();
                            this.scrollToSection(target.id);
                            
                            // Update active navigation
                            this.updateActiveNav(anchor);
                        }
                    });
                });
                
                // Print button
                const printBtn = document.getElementById('printBtn');
                if (printBtn) {
                    printBtn.addEventListener('click', () => this.printPage());
                }
                
                // Offline button
                const offlineBtn = document.getElementById('offlineBtn');
                if (offlineBtn) {
                    offlineBtn.addEventListener('click', () => this.saveOffline());
                }
                
                // Share button
                const shareBtn = document.getElementById('shareBtn');
                if (shareBtn) {
                    shareBtn.addEventListener('click', () => this.sharePage());
                }
                
                // Toast close button
                const toastClose = document.getElementById('toastClose');
                if (toastClose) {
                    toastClose.addEventListener('click', () => this.hideToast());
                }
                
                // Window resize handling
                let resizeTimeout;
                window.addEventListener('resize', () => {
                    clearTimeout(resizeTimeout);
                    resizeTimeout = setTimeout(() => this.handleResize(), 250);
                });
                
                // Online/offline detection
                window.addEventListener('online', () => this.handleOnline());
                window.addEventListener('offline', () => this.handleOffline());
                
                // Beforeunload for cleanup
                window.addEventListener('beforeunload', () => this.cleanup());
            }
            
            // ========== PRINT FUNCTIONALITY ==========
            setupPrint() {
                if (window.matchMedia) {
                    const mediaQuery = window.matchMedia('print');
                    mediaQuery.addEventListener('change', (mq) => {
                        if (mq.matches) {
                            this.beforePrint();
                        } else {
                            this.afterPrint();
                        }
                    });
                }
            }
            
            beforePrint() {
                // Store scroll position
                this.prePrintScroll = window.pageYOffset;
            }
            
            afterPrint() {
                // Restore scroll position
                if (this.prePrintScroll !== undefined) {
                    window.scrollTo(0, this.prePrintScroll);
                    delete this.prePrintScroll;
                }
            }
            
            printPage() {
                window.print();
            }
            
            // ========== OFFLINE FUNCTIONALITY ==========
            setupOffline() {
                // Register service worker if available
                if ('serviceWorker' in navigator) {
                    navigator.serviceWorker.register('/sw.js').catch(console.error);
                }
            }
            
            saveOffline() {
                this.showToast('Offline feature coming soon!');
            }
            
            // ========== INTERSECTION OBSERVER ==========
            setupIntersectionObserver() {
                const sections = document.querySelectorAll('section[id]');
                const navLinks = document.querySelectorAll('.header__nav-link');
                
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            const sectionId = entry.target.id;
                            this.currentSection = sectionId;
                            
                            // Update navigation
                            navLinks.forEach(link => {
                                const linkSection = link.getAttribute('href').substring(1);
                                if (linkSection === sectionId) {
                                    link.classList.add('active');
                                } else {
                                    link.classList.remove('active');
                                }
                            });
                        }
                    });
                }, {
                    root: null,
                    rootMargin: '-20% 0px -70% 0px',
                    threshold: 0
                });
                
                sections.forEach(section => observer.observe(section));
                this.observers.push(observer);
            }
            
            // ========== UTILITY METHODS ==========
            scrollToSection(sectionId) {
                const section = document.getElementById(sectionId);
                if (!section) return;
                
                const headerHeight = document.querySelector('.header').offsetHeight;
                const sectionTop = section.offsetTop - headerHeight - 20;
                
                window.scrollTo({
                    top: sectionTop,
                    behavior: 'smooth'
                });
            }
            
            updateActiveNav(clickedLink) {
                document.querySelectorAll('.header__nav-link').forEach(link => {
                    link.classList.remove('active');
                });
                clickedLink.classList.add('active');
            }
            
            showToast(message, duration = 3000) {
                const toast = document.getElementById('toast');
                const toastMessage = document.getElementById('toastMessage');
                
                if (!toast || !toastMessage) return;
                
                toastMessage.textContent = message;
                toast.classList.add('show');
                
                // Auto-hide
                setTimeout(() => {
                    this.hideToast();
                }, duration);
            }
            
            hideToast() {
                const toast = document.getElementById('toast');
                if (toast) {
                    toast.classList.remove('show');
                }
            }
            
            sharePage() {
                if (navigator.share) {
                    navigator.share({
                        title: 'Cruise Companion Hub',
                        text: 'Check out our cruise itinerary for Adventure of the Seas!',
                        url: window.location.href
                    });
                } else {
                    this.showToast('Share feature not supported in this browser');
                }
            }
            
            loadPreferences() {
                try {
                    const saved = localStorage.getItem('cruiseCompanionPreferences');
                    if (saved) {
                        this.userPreferences = JSON.parse(saved);
                    }
                } catch (e) {
                    console.error('Failed to load preferences:', e);
                }
            }
            
            savePreferences() {
                try {
                    localStorage.setItem('cruiseCompanionPreferences', JSON.stringify(this.userPreferences));
                } catch (e) {
                    console.error('Failed to save preferences:', e);
                }
            }
            
            handleResize() {
                // Handle responsive adjustments
                const isMobile = window.innerWidth <= 768;
                
                if (isMobile) {
                    // Mobile-specific adjustments
                    document.body.classList.add('mobile-view');
                } else {
                    document.body.classList.remove('mobile-view');
                    
                    // Ensure mobile menu is closed on desktop
                    const mobileToggle = document.getElementById('mobileMenuBtn');
                    const nav = document.getElementById('mainNav');
                    
                    if (mobileToggle && nav) {
                        mobileToggle.setAttribute('aria-expanded', 'false');
                        nav.classList.remove('active');
                        document.body.style.overflow = '';
                    }
                }
            }
            
            handleOnline() {
                this.showToast('Back online! Syncing updates...', 2000);
            }
            
            handleOffline() {
                this.showToast('You are offline. Some features may be limited.', 3000);
            }
            
            cleanup() {
                // Clean up observers
                this.observers.forEach(observer => observer.disconnect());
                
                // Save preferences
                this.savePreferences();
            }
        }
        
        // Initialize the application when DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            window.cruiseApp = new CruiseCompanion();
            
            // Add error handling
            window.addEventListener('error', (event) => {
                console.error('Application error:', event.error);
                if (window.cruiseApp) {
                    window.cruiseApp.showToast('An error occurred. Please refresh the page.');
                }
            });
            
            window.addEventListener('unhandledrejection', (event) => {
                console.error('Unhandled promise rejection:', event.reason);
            });
        });
        
        // Service Worker Registration
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then(registration => {
                        console.log('ServiceWorker registration successful');
                    })
                    .catch(err => {
                        console.log('ServiceWorker registration failed: ', err);
                    });
            });
        }
    </script>
</body>
</html>