<!DOCTYPE html>
<html lang="en" style="--header-height: 100px; --day-selector-offset: 100px; --scroll-padding: 120px;">
   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Your Caribbean Cruise Guide | Adventure of the Seas | Feb 14-20, 2026</title>
      <meta name="description" content="Complete cruise planning guide for the Rahe Family Caribbean adventure aboard Adventure of the Seas. Room details, daily itinerary, dining, tips, and everything you need for an amazing vacation.">
      <!-- Preconnect for fonts -->
      <link rel="preconnect" href="https://fonts.googleapis.com">
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
      <!-- Fonts with performance optimization -->
      <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;800&amp;family=Source+Sans+Pro:wght@300;400;600&amp;display=swap" rel="stylesheet">
      <!-- Font Awesome -->
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
      <!-- Favicon -->
      <link rel="icon" href="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text y=%22.9em%22 font-size=%2290%22&gt;üö¢&lt;/text&gt;&lt;/svg&gt;">
      <!-- Complete CSS with all fixes -->
      <style>
         /* ==========================================================================
         Royal Caribbean-inspired UI (Light Only) ‚Äî Full Styles Block (drop-in)
         - No dark mode
         - Brighter ocean gradients, crisp whites, ‚Äúgold‚Äù accents
         - Fully styles: header/nav, hero, cards, chips, search overlay, drawer,
         toast, floating actions, bottom nav, footer, responsive iPhone polish
         ========================================================================== */
         /* ---------- Root Tokens ---------- */
         :root{
         /* Official Royal Caribbean palette */
         --rc-blue:#0054a4;      /* Primary Royal Caribbean blue */
         --rc-navy:#002d5b;      /* Dark navy */
         --rc-gold:#f2a900;      /* Official gold accent */
         --rc-teal:#00b2a9;      /* Royal Caribbean teal */
         --rc-red:#e4002b;       /* Alert/CTA red */
         /* Brand-ish palette (ocean / ink / gold) */
         --royal-ink:var(--rc-navy);
         --royal-navy:#013a6b;
         --royal-blue:var(--rc-blue);
         --royal-blue-2:#0a66c2;
         --royal-teal:var(--rc-teal);
         --royal-gold:var(--rc-gold);
         --royal-gold-2:#ffc72c;
         --royal-white:#ffffff;
         /* Semantics */
         --primary:var(--royal-blue);
         --primary-2:var(--royal-blue-2);
         --accent:var(--royal-teal);
         --accent-2:#44d3e1;
         --highlight:var(--royal-gold);
         --danger:var(--rc-red);
         --success:#1f9d55;
         --warning:#e6a100;
         /* Surfaces (light-first) */
         --bg:#f7fbff;
         --bg-2:#eef7ff;
         --bg-3:#f6fffe;
         --surface:#ffffff;
         --surface-2:#f3f8ff;
         --surface-3:#edf6ff;
         /* Text */
         --text:#0b2c44;
         --text-2:#244c66;
         --muted:#5a7486;
         /* Borders & shadows */
         --border:rgba(8,42,67,.12);
         --border-2:rgba(8,42,67,.18);
         --shadow-sm:0 2px 10px rgba(8,42,67,.08);
         --shadow:0 10px 30px rgba(8,42,67,.12);
         --shadow-lg:0 18px 55px rgba(8,42,67,.18);
         /* Radii */
         --r-sm:10px;
         --r:16px;
         --r-lg:22px;
         --r-xl:28px;
         /* Spacing */
         --s-1:6px;
         --s-2:10px;
         --s-3:14px;
         --s-4:18px;
         --s-5:24px;
         --s-6:32px;
         --s-7:44px;
         --s-8:60px;
         /* Motion */
         --ease:cubic-bezier(.2,.8,.2,1);
         --t:220ms var(--ease);
         /* Layout */
         --container:1180px;
         }
         /* ---------- Base / Reset ---------- */
         *{box-sizing:border-box}
         html,body{height:100%}
         body{
         margin:0;
         font-family:'Source Sans Pro',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
         color:var(--text);
         background:
         radial-gradient(900px 500px at 20% -10%, rgba(0,84,164,.18), transparent 55%),
         radial-gradient(700px 480px at 90% 0%, rgba(0,178,169,.18), transparent 60%),
         linear-gradient(180deg, var(--bg) 0%, var(--bg-2) 52%, var(--bg-3) 100%);
         line-height:1.45;
         -webkit-font-smoothing:antialiased;
         -moz-osx-font-smoothing:grayscale;
         }
         img{max-width:100%;display:block}
         a{color:inherit}
         button,input{font:inherit}
         section[hidden]{display:none !important}
         :focus-visible{
         outline:3px solid rgba(242,193,78,.55);
         outline-offset:2px;
         border-radius:10px;
         }
         /* ---------- Utility ---------- */
         .container{
         width:min(var(--container), calc(100% - 2*var(--s-5)));
         margin:0 auto;
         }
         .sr-only{
         position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;
         clip:rect(0,0,0,0);white-space:nowrap;border:0
         }
         .text-sm{font-size:.95rem;color:var(--muted)}
         .mb-0{margin-bottom:0}
         .emoji{font-size:1.05rem;line-height:1}
         /* ---------- Royal Caribbean Typography ---------- */
         h1, .rc-display{
         font-family:'Montserrat',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
         font-weight:900;
         letter-spacing:-.02em;
         color:var(--rc-navy);
         }
         h2, .rc-headline{
         font-family:'Montserrat',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
         font-weight:700;
         text-transform:uppercase;
         letter-spacing:.5px;
         color:var(--rc-blue);
         }
         .rc-body{
         font-family:'Source Sans Pro',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
         line-height:1.6;
         color:#333;
         }
         .rc-caption{
         font-family:'Source Sans Pro',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
         font-size:.9rem;
         color:#666;
         text-transform:uppercase;
         letter-spacing:1px;
         }
         /* ---------- Header / Top Nav ---------- */
         .header{
         position:sticky;
         top:0;
         z-index:50;
         background:
         linear-gradient(180deg, rgba(8,42,67,.92) 0%, rgba(10,63,102,.86) 100%);
         backdrop-filter: blur(12px);
         border-bottom:1px solid rgba(255,255,255,.08);
         }
         .header__inner{
         display:flex;
         align-items:center;
         justify-content:space-between;
         padding:14px 0;
         gap:var(--s-4);
         }
         .brand{
         display:flex;
         align-items:center;
         gap:12px;
         min-width:220px;
         }
         .brand__badge{
         width:42px;height:42px;border-radius:14px;
         background:
         radial-gradient(16px 16px at 30% 25%, rgba(255,255,255,.35), transparent 55%),
         linear-gradient(135deg, var(--primary), var(--accent));
         box-shadow:0 10px 24px rgba(0,0,0,.18);
         display:flex;align-items:center;justify-content:center;
         color:#fff;
         position:relative;
         }
         .brand__badge::after{
         content:"üëë";
         position:absolute;
         top:-4px;
         right:-4px;
         font-size:12px;
         }
         .brand__title{
         display:flex;flex-direction:column;line-height:1.05;
         color:#fff;
         font-family:'Montserrat',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
         }
         .brand__title strong{font-size:1.15rem;letter-spacing:-.01em}
         .brand__title span{font-size:.9rem;color:rgba(255,255,255,.78)}
         .header__nav{
         display:flex;
         align-items:center;
         gap:10px;
         flex:1;
         justify-content:center;
         }
         .nav-link{
         display:flex;
         align-items:center;
         gap:10px;
         padding:10px 12px;
         border-radius:999px;
         color:rgba(255,255,255,.9);
         text-decoration:none;
         border:1px solid rgba(255,255,255,.10);
         background:rgba(255,255,255,.05);
         transition:transform var(--t), background var(--t), border-color var(--t), color var(--t);
         font-family:'Montserrat',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
         font-weight:700;
         text-transform:uppercase;
         letter-spacing:.06em;
         font-size:.78rem;
         }
         .nav-link i{opacity:.92}
         .nav-link:hover{
         transform:translateY(-1px);
         background:rgba(255,255,255,.10);
         border-color:rgba(255,255,255,.18);
         }
         .nav-link.active{
         background:
         linear-gradient(135deg, rgba(242,193,78,.22), rgba(23,182,199,.12));
         border-color:rgba(242,193,78,.35);
         color:#fff;
         }
         .header__actions{
         display:flex;
         align-items:center;
         gap:10px;
         min-width:220px;
         justify-content:flex-end;
         }
         .header__search-btn{
         width:44px;height:44px;border-radius:14px;
         border:1px solid rgba(255,255,255,.12);
         background:rgba(255,255,255,.06);
         color:#fff;
         display:flex;align-items:center;justify-content:center;
         cursor:pointer;
         transition:transform var(--t), background var(--t), border-color var(--t);
         }
         .header__search-btn:hover{
         transform:translateY(-1px);
         background:rgba(255,255,255,.10);
         border-color:rgba(255,255,255,.18);
         }
         /* ---------- Official Royal Caribbean Banner ---------- */
         .rc-official-banner{
         background:linear-gradient(90deg, var(--rc-blue), var(--rc-navy));
         color:#fff;
         border-bottom:1px solid rgba(255,255,255,.2);
         }
         .rc-banner-content{
         display:flex;
         align-items:center;
         justify-content:space-between;
         gap:var(--s-4);
         padding:10px 0;
         font-family:'Montserrat',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
         font-weight:700;
         font-size:.9rem;
         }
         .rc-banner-content img{height:24px}
         .rc-banner-text{
         display:flex;
         align-items:center;
         gap:10px;
         flex-wrap:wrap;
         }
         .crown-anchor-status{
         display:flex;
         align-items:center;
         gap:8px;
         padding:6px 12px;
         border-radius:999px;
         background:rgba(255,255,255,.14);
         font-size:.8rem;
         }
         .crown-anchor-status .crown-spin{font-size:1rem}
         /* ---------- Top Bar Hint ---------- */
         .top-bar-hint{
         background:
         linear-gradient(90deg, rgba(11,111,209,.10), rgba(23,182,199,.08));
         border-bottom:1px solid var(--border);
         }
         .top-bar-hint.is-hidden{display:none}
         .top-bar-hint__content{
         display:flex;
         align-items:center;
         justify-content:space-between;
         padding:10px 0;
         gap:var(--s-4);
         }
         .top-bar-hint__title{
         display:flex;align-items:center;gap:10px;
         font-weight:800;color:var(--royal-ink);
         }
         .top-bar-hint__detail{color:var(--muted);font-size:.95rem}
         .top-bar-hint__close{
         width:38px;height:38px;border-radius:12px;
         border:1px solid var(--border);
         background:rgba(255,255,255,.75);
         cursor:pointer;
         transition:transform var(--t), box-shadow var(--t), background var(--t);
         }
         .top-bar-hint__close:hover{
         transform:translateY(-1px);
         box-shadow:var(--shadow-sm);
         background:#fff;
         }
         /* ---------- Hero ---------- */
         .hero{
         position:relative;
         padding:var(--s-8) 0 var(--s-7);
         overflow:hidden;
         background:
         radial-gradient(900px 520px at 15% 10%, rgba(255,255,255,.22), transparent 60%),
         radial-gradient(800px 520px at 85% 0%, rgba(242,169,0,.18), transparent 62%),
         linear-gradient(135deg, rgba(0,84,164,.92) 0%, rgba(0,102,204,.88) 45%, rgba(0,178,169,.84) 100%);
         color:#fff;
         }
         .hero::before{
         content:"";
         position:absolute;
         bottom:0;
         right:0;
         width:300px;
         height:150px;
         background:url("data:image/svg+xml;utf8,
         <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 300 150'>
            <path d='M10 110 L110 110 L140 70 L260 70 L290 110 Z' fill='%23ffffff' opacity='0.12'/>
            <rect x='120' y='40' width='40' height='30' fill='%23ffffff' opacity='0.12'/>
            <rect x='170' y='30' width='30' height='40' fill='%23ffffff' opacity='0.12'/>
         </svg>
         ") no-repeat;
         background-size:contain;
         opacity:.15;
         pointer-events:none;
         }
         .hero::after{
         content:"";
         position:absolute;left:0;right:0;bottom:-1px;height:120px;
         background:
         radial-gradient(90px 90px at 15% 30%, rgba(255,255,255,.18), transparent 60%),
         radial-gradient(120px 120px at 45% 70%, rgba(255,255,255,.14), transparent 65%),
         radial-gradient(120px 120px at 80% 20%, rgba(255,255,255,.18), transparent 60%),
         linear-gradient(180deg, rgba(255,255,255,0) 0%, rgba(247,251,255,1) 92%);
         }
         .hero__content{position:relative;z-index:1;text-align:center}
         .hero__title{
         margin:0;
         font-family:'Montserrat',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
         font-weight:900;
         letter-spacing:-.03em;
         font-size:clamp(2.1rem, 4.2vw, 3.6rem);
         color:#fff;
         text-shadow:0 16px 45px rgba(0,0,0,.22);
         }
         .hero__subtitle{
         margin:14px auto 0;
         max-width:820px;
         font-size:clamp(1.05rem, 1.8vw, 1.25rem);
         color:rgba(255,255,255,.9);
         text-shadow:0 10px 35px rgba(0,0,0,.18);
         }
         /* ---------- Main Layout ---------- */
         .main{
         padding:var(--s-7) 0 var(--s-8);
         }
         .main-layout{
         display:grid;
         grid-template-columns: 1.35fr .65fr;
         gap:var(--s-6);
         align-items:start;
         }
         .main-content{min-width:0}
         .sidebar{position:sticky;top:92px}
         /* ---------- Sections ---------- */
         .section{margin-bottom:var(--s-6)}
         .section--critical .card{
         border:1px solid rgba(242,193,78,.35);
         box-shadow:0 16px 55px rgba(8,42,67,.12);
         }
         .section--critical .card::before{
         content:"";
         position:absolute;left:0;top:0;bottom:0;width:5px;
         background:linear-gradient(180deg, var(--royal-gold), rgba(23,182,199,.55));
         border-radius:var(--r-lg) 0 0 var(--r-lg);
         }
         /* ---------- Card ---------- */
         .card{
         position:relative;
         background:
         radial-gradient(1100px 220px at 20% 0%, rgba(11,111,209,.06), transparent 65%),
         radial-gradient(900px 220px at 85% 10%, rgba(23,182,199,.06), transparent 62%),
         var(--surface);
         border:1px solid var(--border);
         border-radius:var(--r-xl);
         box-shadow:var(--shadow);
         padding:var(--s-6);
         overflow:hidden;
         }
         .card__header{
         display:flex;
         align-items:flex-start;
         gap:var(--s-4);
         margin-bottom:var(--s-5);
         padding-bottom:var(--s-4);
         border-bottom:1px solid var(--border);
         }
         .card__icon{
         width:72px;height:72px;border-radius:20px;
         background:
         radial-gradient(18px 18px at 30% 25%, rgba(255,255,255,.35), transparent 55%),
         linear-gradient(135deg, var(--primary), var(--accent));
         color:#fff;
         display:flex;align-items:center;justify-content:center;
         font-size:1.9rem;
         box-shadow:0 14px 35px rgba(8,42,67,.18);
         transition:transform var(--t);
         flex-shrink:0;
         }
         .card:hover .card__icon{transform:translateY(-1px) rotate(2deg)}
         .card__title{
         margin:0;
         font-family:'Montserrat',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
         font-weight:900;
         letter-spacing:-.02em;
         font-size:clamp(1.55rem, 2vw, 2rem);
         background:linear-gradient(90deg, var(--royal-ink), var(--primary));
         -webkit-background-clip:text;background-clip:text;
         color:transparent;
         }
         .card__subtitle{
         margin:8px 0 0;
         color:var(--muted);
         font-size:1.05rem;
         }
         .card__toggle{
         margin-left:auto;
         width:42px;height:42px;border-radius:14px;
         border:1px solid var(--border);
         background:rgba(255,255,255,.8);
         color:var(--text-2);
         cursor:pointer;
         display:flex;align-items:center;justify-content:center;
         transition:transform var(--t), box-shadow var(--t), background var(--t);
         }
         .card__toggle:hover{
         transform:translateY(-1px);
         box-shadow:var(--shadow-sm);
         background:#fff;
         }
         .card__content{overflow:hidden}
         .card__content.collapsed{max-height:0;opacity:0}
         .card__content.expanded{max-height:none;opacity:1}
         /* ---------- Royal Caribbean Signature Components ---------- */
         .rc-card{
         border:2px solid var(--rc-blue);
         border-radius:12px;
         background:#fff;
         position:relative;
         overflow:hidden;
         box-shadow:var(--shadow-sm);
         padding:var(--s-5);
         }
         .rc-card::before{
         content:"";
         position:absolute;
         top:0;left:0;right:0;
         height:4px;
         background:linear-gradient(90deg, var(--rc-blue), var(--rc-teal));
         }
         .rc-badge{
         background:linear-gradient(135deg, var(--rc-gold), #ffc72c);
         color:var(--rc-navy);
         font-weight:900;
         padding:4px 12px;
         border-radius:20px;
         font-size:.8rem;
         border:2px solid #fff;
         box-shadow:0 3px 10px rgba(0,84,164,.2);
         display:inline-flex;
         align-items:center;
         gap:6px;
         }
         .rc-btn{
         background:linear-gradient(to right, var(--rc-blue), #0066cc);
         border:none;
         border-radius:25px;
         color:#fff;
         font-weight:700;
         font-family:'Montserrat',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
         text-transform:uppercase;
         letter-spacing:.5px;
         padding:12px 18px;
         display:inline-flex;
         align-items:center;
         gap:10px;
         cursor:pointer;
         transition:all 0.3s;
         }
         .rc-btn:hover{
         background:linear-gradient(to right, #0066cc, var(--rc-blue));
         transform:translateY(-2px);
         box-shadow:0 5px 15px rgba(0,84,164,.3);
         }
         /* ---------- RC Key Benefits ---------- */
         .rc-key-benefits{
         display:flex;
         flex-wrap:wrap;
         gap:12px;
         justify-content:center;
         margin-top:var(--s-5);
         }
         .key-benefit{
         display:flex;
         align-items:center;
         gap:10px;
         padding:10px 16px;
         background:rgba(255,255,255,.18);
         border-radius:999px;
         color:#fff;
         border:1px solid rgba(255,255,255,.35);
         font-weight:700;
         box-shadow:0 12px 30px rgba(0,0,0,.12);
         }
         .key-benefit .emoji{font-size:1.1rem}
         /* ---------- RC App Integration ---------- */
         .rc-app-integration{
         display:grid;
         grid-template-columns:120px 1fr;
         gap:var(--s-4);
         align-items:center;
         background:linear-gradient(135deg, rgba(0,84,164,.08), rgba(0,178,169,.08));
         border-radius:16px;
         padding:var(--s-5);
         border:1px solid var(--border);
         }
         .app-qr-code{
         background:#fff;
         border-radius:12px;
         padding:10px;
         border:1px solid var(--border);
         box-shadow:var(--shadow-sm);
         }
         .app-features h3{
         margin:0 0 10px;
         font-family:'Montserrat',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
         color:var(--rc-blue);
         }
         .app-features ul{padding-left:0;list-style:none;margin:0 0 16px}
         .app-features li{display:flex;align-items:center;gap:10px;margin-bottom:8px;color:var(--text-2)}
         /* ---------- Official Muster Info ---------- */
         .official-muster-info{
         background:#fff;
         border-radius:16px;
         border:1px solid var(--border);
         padding:var(--s-5);
         box-shadow:var(--shadow-sm);
         }
         .muster-header{
         display:flex;
         align-items:center;
         justify-content:space-between;
         gap:12px;
         margin-bottom:12px;
         }
         .muster-header h3{
         margin:0;
         font-family:'Montserrat',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
         color:var(--rc-blue);
         }
         .muster-badge{
         background:var(--rc-blue);
         color:#fff;
         border-radius:999px;
         padding:6px 14px;
         font-weight:900;
         }
         .muster-progress{
         display:flex;
         align-items:center;
         gap:12px;
         margin-top:10px;
         }
         .muster-progress .progress-track{
         flex:1;
         height:8px;
         background:rgba(0,84,164,.15);
         border-radius:999px;
         overflow:hidden;
         }
         .muster-progress .progress-bar{
         height:100%;
         background:linear-gradient(90deg, var(--rc-blue), var(--rc-teal));
         }
         /* ---------- RC Progress Tracker ---------- */
         .rc-progress-tracker{
         background:#fff;
         border:1px solid var(--border);
         border-radius:16px;
         padding:var(--s-5);
         box-shadow:var(--shadow-sm);
         }
         .rc-progress-tracker h4{
         margin:0 0 12px;
         font-family:'Montserrat',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
         color:var(--rc-navy);
         }
         .tracker-item{
         display:flex;
         align-items:center;
         justify-content:space-between;
         gap:12px;
         padding:10px 0;
         border-bottom:1px solid var(--border);
         }
         .tracker-item:last-child{border-bottom:none}
         .tracker-status{
         display:inline-flex;
         align-items:center;
         gap:6px;
         font-weight:700;
         color:var(--text-2);
         }
         .tracker-status.completed{color:var(--success)}
         .tracker-status.pending{color:var(--warning)}
         .tracker-status.in-progress{
         position:relative;
         min-width:120px;
         padding-right:12px;
         }
         .tracker-status.in-progress .progress-bar{
         position:absolute;
         left:0;bottom:-6px;
         height:4px;
         width:var(--progress, 60%);
         background:linear-gradient(90deg, var(--rc-blue), var(--rc-teal));
         border-radius:999px;
         }
         /* ---------- Perfect Day Card ---------- */
         .perfect-day-card{
         position:relative;
         background:
         linear-gradient(rgba(0,84,164,.9), rgba(0,178,169,.9)),
         url("data:image/svg+xml;utf8,
         <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 600 200'>
            <path d='M0 160 Q150 120 300 160 T600 160 V200 H0 Z' fill='%23ffffff' opacity='0.15'/>
            <circle cx='480' cy='60' r='34' fill='%23ffffff' opacity='0.2'/>
         </svg>
         ");
         background-size:cover;
         color:#fff;
         border-radius:16px;
         overflow:hidden;
         padding:var(--s-6);
         }
         .perfect-day-card::before{
         content:"PERFECT DAY AT";
         position:absolute;
         top:15px;
         left:15px;
         font-size:.7rem;
         letter-spacing:2px;
         opacity:.8;
         }
         .perfect-day-card::after{
         content:"COCOCAY";
         position:absolute;
         top:30px;
         left:15px;
         font-size:1.8rem;
         font-weight:900;
         letter-spacing:1px;
         }
         /* ---------- RC Wave + Loyalty Animation ---------- */
         .rc-wave-bg{
         position:absolute;
         bottom:0;
         width:200%;
         height:60px;
         background:url("data:image/svg+xml;utf8,
         <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 120 20'>
            <path d='M0 10 Q15 0 30 10 T60 10 T90 10 T120 10 V20 H0 Z' fill='%23ffffff' opacity='0.35'/>
         </svg>
         ") repeat-x;
         animation:rc-wave 15s linear infinite;
         opacity:.3;
         }
         @keyframes rc-wave{
         0%{transform:translateX(0)}
         100%{transform:translateX(-50%)}
         }
         .crown-spin{
         display:inline-block;
         animation:crown-spin 2s ease-in-out;
         }
         @keyframes crown-spin{
         0%{transform:rotate(0deg) scale(1)}
         50%{transform:rotate(180deg) scale(1.2)}
         100%{transform:rotate(360deg) scale(1)}
         }
         /* ---------- Quick Start ---------- */
         .quick-start__list{list-style:none;padding:0;margin:0}
         .quick-start__item{
         display:flex;
         gap:var(--s-4);
         padding:var(--s-5);
         border-radius:var(--r-lg);
         border:1px solid var(--border);
         background:linear-gradient(180deg, var(--surface-2), #fff);
         margin-bottom:var(--s-3);
         box-shadow:0 10px 30px rgba(8,42,67,.08);
         transition:transform var(--t), box-shadow var(--t), border-color var(--t);
         }
         .quick-start__item:hover{
         transform:translateY(-2px);
         box-shadow:0 18px 45px rgba(8,42,67,.14);
         border-color:rgba(11,111,209,.22);
         }
         .quick-start__item-showcase{
         width:58px;height:58px;border-radius:18px;
         display:flex;align-items:center;justify-content:center;
         background:
         radial-gradient(18px 18px at 30% 25%, rgba(255,255,255,.55), transparent 60%),
         linear-gradient(135deg, rgba(11,111,209,.10), rgba(23,182,199,.10));
         border:1px solid rgba(8,42,67,.10);
         font-size:1.6rem;
         flex-shrink:0;
         }
         .quick-start__actions{
         display:flex;flex-wrap:wrap;gap:12px;
         margin-top:var(--s-5);
         padding-top:var(--s-5);
         border-top:1px solid var(--border);
         }
         /* ---------- Buttons ---------- */
         .btn{
         border:1px solid var(--border);
         background:#fff;
         color:var(--text);
         border-radius:999px;
         padding:12px 14px;
         display:inline-flex;align-items:center;gap:10px;
         cursor:pointer;
         transition:transform var(--t), box-shadow var(--t), border-color var(--t);
         font-weight:800;
         }
         .btn:hover{
         transform:translateY(-1px);
         box-shadow:var(--shadow-sm);
         border-color:rgba(11,111,209,.25);
         }
         .btn--primary{
         border:none;
         color:#fff;
         background:
         radial-gradient(18px 18px at 30% 25%, rgba(255,255,255,.25), transparent 60%),
         linear-gradient(135deg, var(--primary), var(--accent));
         box-shadow:0 18px 40px rgba(8,42,67,.18);
         }
         .btn--primary:hover{box-shadow:0 24px 55px rgba(8,42,67,.22)}
         .btn--ghost{
         background:rgba(255,255,255,.75);
         }
         /* ---------- Chips ---------- */
         .chips{display:flex;flex-wrap:wrap;gap:10px}
         .chip, .search-chip{
         border:1px solid rgba(8,42,67,.14);
         background:rgba(255,255,255,.92);
         color:var(--text-2);
         padding:10px 12px;
         border-radius:999px;
         font-weight:800;
         cursor:pointer;
         transition:transform var(--t), box-shadow var(--t), border-color var(--t), background var(--t);
         }
         .chip:hover, .search-chip:hover{
         transform:translateY(-1px);
         box-shadow:var(--shadow-sm);
         border-color:rgba(11,111,209,.28);
         background:#fff;
         }
         .search-suggestions__title{
         font-family:'Montserrat',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
         font-weight:900;
         color:var(--royal-ink);
         margin:14px 0 10px;
         }
         .search-suggestion-chips{display:flex;flex-wrap:wrap;gap:10px}
         /* ---------- Toast ---------- */
         .toast{
         position:fixed;
         left:50%;
         bottom:20px;
         transform:translateX(-50%) translateY(120px);
         opacity:0;
         display:flex;align-items:center;gap:12px;
         padding:14px 16px;
         border-radius:18px;
         color:#fff;
         background:
         radial-gradient(18px 18px at 30% 25%, rgba(255,255,255,.25), transparent 60%),
         linear-gradient(135deg, var(--primary), var(--accent));
         box-shadow:0 22px 70px rgba(8,42,67,.28);
         z-index:90;
         width:min(560px, calc(100% - 28px));
         }
         .toast.show{transform:translateX(-50%) translateY(0);opacity:1;transition:transform 320ms var(--ease), opacity 320ms var(--ease)}
         .toast__message{flex:1;font-weight:900}
         .toast__close{
         width:38px;height:38px;border-radius:12px;
         border:1px solid rgba(255,255,255,.22);
         background:rgba(255,255,255,.10);
         color:#fff;cursor:pointer;
         display:flex;align-items:center;justify-content:center;
         transition:transform var(--t), background var(--t);
         }
         .toast__close:hover{transform:rotate(10deg);background:rgba(255,255,255,.18)}
         /* ---------- Search Overlay (fixes ‚Äúunstyled/dark block‚Äù feel) ---------- */
         .search-overlay{
         position:fixed;
         inset:0;
         display:none;
         z-index:80;
         padding:18px;
         background:
         radial-gradient(900px 500px at 15% 0%, rgba(11,111,209,.14), transparent 65%),
         radial-gradient(900px 500px at 85% 0%, rgba(23,182,199,.14), transparent 65%),
         rgba(8,42,67,.22);
         backdrop-filter: blur(10px);
         }
         .search-overlay.open{display:flex;align-items:flex-start;justify-content:center}
         .search-container{
         width:min(900px, 100%);
         margin-top:72px;
         background:
         radial-gradient(1100px 260px at 20% 0%, rgba(11,111,209,.07), transparent 65%),
         radial-gradient(900px 240px at 85% 10%, rgba(23,182,199,.07), transparent 62%),
         #fff;
         border:1px solid rgba(255,255,255,.65);
         border-radius:26px;
         box-shadow:0 30px 90px rgba(8,42,67,.28);
         padding:18px;
         }
         .search-form{
         display:flex;
         align-items:center;
         gap:10px;
         padding:10px;
         border-radius:18px;
         border:1px solid var(--border);
         background:linear-gradient(180deg, var(--surface-2), #fff);
         }
         .search-input{
         flex:1;
         border:none;
         outline:none;
         background:transparent;
         padding:10px 8px;
         font-size:1.05rem;
         color:var(--text);
         }
         .search-submit, .search-close{
         width:44px;height:44px;border-radius:14px;
         border:1px solid var(--border);
         background:#fff;
         cursor:pointer;
         display:flex;align-items:center;justify-content:center;
         transition:transform var(--t), box-shadow var(--t), border-color var(--t);
         }
         .search-submit{
         border:none;
         color:#fff;
         background:linear-gradient(135deg, var(--primary), var(--accent));
         }
         .search-submit:hover, .search-close:hover{
         transform:translateY(-1px);
         box-shadow:var(--shadow-sm);
         border-color:rgba(11,111,209,.25);
         }
         .search-chips{display:flex;flex-wrap:wrap;gap:10px;margin:14px 0}
         .search-suggestions{margin-top:10px}
         .search-results{
         margin-top:12px;
         border:1px solid var(--border);
         border-radius:18px;
         overflow:hidden;
         background:#fff;
         }
         .no-results{
         padding:24px;
         color:var(--muted);
         text-align:center;
         }
         /* ---------- Drawer (Mobile ‚ÄúMore‚Äù) ---------- */
         .section-drawer-overlay{
         position:fixed;
         inset:0;
         background:rgba(8,42,67,.22);
         backdrop-filter:blur(8px);
         z-index:70;
         opacity:0;
         pointer-events:none;
         transition:opacity var(--t);
         }
         .section-drawer-overlay.open{opacity:1;pointer-events:auto}
         .section-drawer{
         position:fixed;
         top:0;right:0;
         width:min(360px, 92vw);
         height:100%;
         z-index:71;
         transform:translateX(110%);
         transition:transform 320ms var(--ease);
         background:
         radial-gradient(900px 340px at 20% 0%, rgba(11,111,209,.10), transparent 65%),
         radial-gradient(900px 340px at 90% 10%, rgba(23,182,199,.10), transparent 62%),
         #fff;
         border-left:1px solid var(--border);
         box-shadow:-20px 0 70px rgba(8,42,67,.22);
         padding:18px;
         }
         .section-drawer.open{transform:translateX(0)}
         .section-drawer__header{
         display:flex;align-items:center;justify-content:space-between;
         padding:10px 6px 14px;
         border-bottom:1px solid var(--border);
         margin-bottom:10px;
         }
         .section-drawer__title{
         font-family:'Montserrat',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
         font-weight:900;
         color:var(--royal-ink);
         }
         .section-drawer__close{
         width:40px;height:40px;border-radius:14px;
         border:1px solid var(--border);
         background:#fff;
         cursor:pointer;
         transition:transform var(--t), box-shadow var(--t);
         }
         .section-drawer__close:hover{transform:translateY(-1px);box-shadow:var(--shadow-sm)}
         .section-drawer__list{display:flex;flex-direction:column;gap:10px;padding:10px 4px}
         .drawer-nav-item{
         border:1px solid var(--border);
         background:linear-gradient(180deg, var(--surface-2), #fff);
         border-radius:16px;
         padding:12px 14px;
         display:flex;align-items:center;justify-content:space-between;
         cursor:pointer;
         transition:transform var(--t), box-shadow var(--t), border-color var(--t);
         text-align:left;
         }
         .drawer-label{display:flex;align-items:center;gap:10px;font-weight:900;color:var(--text)}
         .drawer-nav-item:hover{
         transform:translateY(-1px);
         box-shadow:var(--shadow-sm);
         border-color:rgba(11,111,209,.25);
         }
         .drawer-nav-item.active{
         border-color:rgba(242,193,78,.45);
         box-shadow:0 18px 45px rgba(8,42,67,.14);
         }
         .drawer-badge{
         font-weight:1000;
         font-size:.72rem;
         padding:6px 10px;
         border-radius:999px;
         border:1px solid var(--border);
         background:#fff;
         }
         .drawer-badge--critical{
         border-color:rgba(216,58,58,.35);
         background:rgba(216,58,58,.10);
         color:#a32727;
         }
         .drawer-badge--vip{
         border-color:rgba(242,193,78,.55);
         background:rgba(242,193,78,.16);
         color:#7a4d00;
         }
         /* ---------- Floating Actions ---------- */
         .floating-actions{
         position:fixed;
         right:18px;
         bottom:92px;
         display:flex;
         flex-direction:column;
         gap:10px;
         z-index:60;
         }
         .fab{
         width:56px;height:56px;border-radius:999px;
         border:none;
         cursor:pointer;
         color:#fff;
         display:flex;align-items:center;justify-content:center;
         box-shadow:0 22px 60px rgba(8,42,67,.22);
         transition:transform var(--t), box-shadow var(--t), filter var(--t);
         background:linear-gradient(135deg, var(--primary), var(--accent));
         }
         .fab:hover{transform:translateY(-2px);box-shadow:0 28px 75px rgba(8,42,67,.26);filter:saturate(1.05)}
         .fab--critical{background:linear-gradient(135deg, #e04646, #c62929)}
         .fab--compact{background:linear-gradient(135deg, var(--accent), var(--accent-2))}
         .fab--hidden{opacity:0;visibility:hidden;transform:scale(.85)}
         /* ---------- Bottom Navigation (Mobile) ---------- */
         .bottom-nav{
         position:fixed;
         left:0;right:0;bottom:0;
         z-index:65;
         display:none;
         padding:10px 12px calc(10px + env(safe-area-inset-bottom));
         background:rgba(255,255,255,.78);
         border-top:1px solid rgba(8,42,67,.10);
         backdrop-filter: blur(14px);
         }
         .nav-item{
         flex:1;
         border:none;
         background:transparent;
         padding:10px 10px;
         border-radius:16px;
         cursor:pointer;
         display:flex;flex-direction:column;align-items:center;gap:6px;
         color:var(--text-2);
         font-family:'Montserrat',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
         font-weight:900;
         text-transform:uppercase;
         letter-spacing:.06em;
         font-size:.72rem;
         transition:transform var(--t), background var(--t), color var(--t);
         position:relative;
         }
         .nav-item i{font-size:1.15rem}
         .nav-item:hover{transform:translateY(-1px);background:rgba(11,111,209,.08);color:var(--royal-ink)}
         .nav-item.active{background:rgba(242,193,78,.20);color:var(--royal-ink)}
         .nav-badge{
         position:absolute;
         top:6px;
         right:22%;
         width:18px;height:18px;border-radius:999px;
         background:#e04646;color:#fff;
         display:flex;align-items:center;justify-content:center;
         font-size:10px;font-weight:1000;
         box-shadow:0 10px 22px rgba(216,58,58,.28);
         }
         /* ---------- Footer ---------- */
         .footer{
         margin-top:var(--s-8);
         padding:var(--s-8) 0 calc(var(--s-7) + env(safe-area-inset-bottom));
         background:
         radial-gradient(900px 420px at 20% 0%, rgba(11,111,209,.30), transparent 60%),
         radial-gradient(900px 420px at 90% 10%, rgba(23,182,199,.26), transparent 62%),
         linear-gradient(180deg, rgba(8,42,67,.96) 0%, rgba(10,63,102,.94) 100%);
         color:#fff;
         position:relative;
         overflow:hidden;
         }
         .footer::before{
         content:"";
         position:absolute;left:0;right:0;top:0;height:4px;
         background:linear-gradient(90deg, var(--royal-gold), var(--accent));
         }
         .footer__content{
         display:grid;
         grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
         gap:var(--s-6);
         margin-bottom:var(--s-6);
         }
         .footer__title{
         margin:0 0 14px;
         font-family:'Montserrat',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
         font-weight:900;
         letter-spacing:-.01em;
         }
         .footer__list{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:10px}
         .footer__list li{
         display:flex;align-items:center;gap:10px;
         color:rgba(255,255,255,.86);
         }
         .footer__list i{color:rgba(255,255,255,.92)}
         .footer__description{color:rgba(255,255,255,.82);line-height:1.6}
         .footer__social{display:flex;gap:10px;margin:14px 0}
         .social-btn{
         width:44px;height:44px;border-radius:999px;
         border:1px solid rgba(255,255,255,.22);
         background:rgba(255,255,255,.08);
         color:#fff;
         display:flex;align-items:center;justify-content:center;
         cursor:pointer;
         transition:transform var(--t), background var(--t);
         }
         .social-btn:hover{transform:translateY(-1px);background:rgba(255,255,255,.14)}
         /* ---------- Official Royal Caribbean Footer ---------- */
         .rc-official-footer{
         background:linear-gradient(180deg, var(--rc-navy), #001d3d);
         color:#fff;
         padding:var(--s-7) 0 var(--s-6);
         }
         .rc-footer-main{
         display:grid;
         grid-template-columns:1.2fr 1fr 1fr;
         gap:var(--s-6);
         align-items:start;
         }
         .rc-logo-section img{margin-bottom:10px}
         .rc-tagline{margin:0;color:rgba(255,255,255,.85);font-weight:600}
         .rc-legal-links{
         color:rgba(255,255,255,.8);
         font-size:.95rem;
         line-height:1.6;
         }
         .rc-legal-links a{color:rgba(255,255,255,.9);text-decoration:none}
         .rc-contact-info p{margin:4px 0}
         .rc-footer-disclaimer{
         margin-top:var(--s-6);
         padding-top:var(--s-5);
         border-top:1px solid rgba(255,255,255,.18);
         color:rgba(255,255,255,.75);
         font-size:.9rem;
         }
         .rc-footer-disclaimer .rc-copyright{
         font-weight:700;
         letter-spacing:.5px;
         margin-top:8px;
         }
         /* ---------- Responsive (iPhone-first) ---------- */
         @media (max-width: 980px){
         .main-layout{grid-template-columns:1fr}
         .sidebar{position:static}
         .brand{min-width:auto}
         .header__nav{display:none} /* desktop nav collapses; mobile uses bottom nav + drawer */
         .bottom-nav{display:flex}
         .floating-actions{bottom:110px}
         .search-container{margin-top:58px}
         .rc-footer-main{grid-template-columns:1fr}
         .rc-app-integration{grid-template-columns:1fr}
         }
         @media (max-width: 560px){
         .container{width:calc(100% - 22px)}
         .hero{padding:46px 0 44px}
         .card{padding:18px}
         .card__header{gap:12px}
         .card__icon{width:58px;height:58px;border-radius:18px;font-size:1.55rem}
         .search-container{padding:14px;border-radius:22px}
         .search-form{padding:8px}
         .nav-item{font-size:.68rem}
         }
         /* ---------- Reduced Motion ---------- */
         @media (prefers-reduced-motion: reduce){
         *{transition:none!important;scroll-behavior:auto!important}
         }
         /* Grid utilities */
         .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: var(--s-4); }
         .gap-4 { gap: var(--s-4); }
         .mt-8 { margin-top: var(--s-8); }
         .mb-6 { margin-bottom: var(--s-6); }
         /* Component styles */
         .overview-block { /* styling */ }
         .checklist { /* styling */ }
         .timeline { /* styling */ }
         .room-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: var(--s-4); }
         /* Loading overlay */
         .loading-overlay {
         position: fixed;
         inset: 0;
         background: var(--rc-navy);
         display: flex;
         flex-direction: column;
         align-items: center;
         justify-content: center;
         z-index: 1000;
         }
         .loading-overlay.hidden { display: none; }
         .loading-spinner {
         width: 60px;
         height: 60px;
         border: 5px solid rgba(255,255,255,0.3);
         border-radius: 50%;
         border-top-color: var(--royal-gold);
         animation: spin 1s linear infinite;
         }
         @keyframes spin { to { transform: rotate(360deg); } }
         .loading-text {
         color: white;
         margin-top: 20px;
         font-size: 1.2rem;
         }
         /* Countdown */
         .countdown {
         display: flex;
         gap: 20px;
         justify-content: center;
         margin: 30px 0;
         }
         .countdown-item {
         text-align: center;
         }
         .countdown-number {
         display: block;
         font-size: 2.5rem;
         font-weight: 900;
         color: white;
         text-shadow: 0 4px 12px rgba(0,0,0,0.3);
         }
         .countdown-label {
         font-size: 0.9rem;
         color: rgba(255,255,255,0.8);
         }
         /* Day selector */
         .day-selector {
         background: white;
         border-bottom: 1px solid var(--border);
         padding: 15px 0;
         position: sticky;
         top: var(--header-height);
         z-index: 40;
         }
         .day-selector--hidden { display: none; }
         .day-nav {
         display: flex;
         gap: 10px;
         overflow-x: auto;
         padding-bottom: 5px;
         }
         .day-btn {
         padding: 8px 16px;
         border: 1px solid var(--border);
         background: white;
         border-radius: 20px;
         white-space: nowrap;
         cursor: pointer;
         }
         .day-btn.active {
         background: var(--primary);
         color: white;
         border-color: var(--primary);
         }
         /* Basic utility classes */
         .text-xl { font-size: 1.25rem; }
         .text-2xl { font-size: 1.5rem; }
         .text-3xl { font-size: 2rem; }
         .font-bold { font-weight: 700; }
         .text-center { text-align: center; }
         .p-4 { padding: 1rem; }
         .rounded-lg { border-radius: 0.5rem; }
         .bg-light { background: var(--surface-2); }
         .text-primary { color: var(--primary); }
         .text-accent { color: var(--accent); }
         .text-success { color: var(--success); }
         .text-light { color: var(--muted); }
         /* Tag styles */
         .tag {
         display: inline-block;
         padding: 4px 10px;
         border-radius: 12px;
         font-size: 0.8rem;
         font-weight: 700;
         }
         .tag--essential {
         background: rgba(228, 70, 70, 0.15);
         color: #a32727;
         border: 1px solid rgba(228, 70, 70, 0.3);
         }
         .tag--recommended {
         background: rgba(242, 169, 0, 0.15);
         color: #7a4d00;
         border: 1px solid rgba(242, 169, 0, 0.3);
         }
         .tag--info {
         background: rgba(0, 84, 164, 0.15);
         color: var(--rc-blue);
         border: 1px solid rgba(0, 84, 164, 0.3);
         }
         /* List styles */
         .list {
         list-style: none;
         padding: 0;
         margin: 0;
         }
         .list--icon li {
         display: flex;
         align-items: flex-start;
         gap: 10px;
         margin-bottom: 10px;
         }
         /* Add these styles to your existing CSS file */
         /* Error states */
         .error-toast {
         position: fixed;
         top: 20px;
         right: 20px;
         background: linear-gradient(135deg, #e04646, #c62929);
         color: white;
         border-radius: 12px;
         padding: 16px;
         box-shadow: 0 10px 30px rgba(0,0,0,0.3);
         z-index: 1000;
         max-width: 400px;
         transform: translateX(150%);
         transition: transform 0.3s cubic-bezier(0.2, 0.8, 0.2, 1);
         }
         .error-toast.show {
         transform: translateX(0);
         }
         .error-content {
         display: flex;
         align-items: center;
         gap: 12px;
         }
         .error-content i {
         font-size: 1.2rem;
         }
         .error-close {
         margin-left: auto;
         background: rgba(255,255,255,0.2);
         border: none;
         color: white;
         width: 32px;
         height: 32px;
         border-radius: 8px;
         cursor: pointer;
         display: flex;
         align-items: center;
         justify-content: center;
         }
         /* Search enhancements */
         .search-highlight {
         background: linear-gradient(135deg, var(--royal-gold), #ffc72c);
         color: var(--rc-navy);
         padding: 2px 4px;
         border-radius: 4px;
         font-weight: 900;
         }
         .search-loading {
         padding: 40px 20px;
         text-align: center;
         }
         .search-loading .loading-spinner {
         width: 40px;
         height: 40px;
         border: 3px solid rgba(0,84,164,0.2);
         border-radius: 50%;
         border-top-color: var(--rc-blue);
         animation: spin 1s linear infinite;
         margin: 0 auto 20px;
         }
         .search-result {
         border-bottom: 1px solid var(--border);
         padding: 16px;
         cursor: pointer;
         transition: background-color 0.2s;
         }
         .search-result:hover {
         background-color: var(--surface-2);
         }
         .search-result.critical {
         border-left: 4px solid var(--rc-red);
         }
         .search-result-header {
         display: flex;
         justify-content: space-between;
         align-items: center;
         margin-bottom: 8px;
         }
         .search-result-category {
         font-size: 0.8rem;
         color: var(--muted);
         display: flex;
         align-items: center;
         gap: 6px;
         }
         .search-result-badge {
         background: var(--rc-red);
         color: white;
         font-size: 0.7rem;
         padding: 2px 8px;
         border-radius: 10px;
         font-weight: 700;
         }
         .search-result-title {
         margin: 0 0 8px;
         font-size: 1.1rem;
         color: var(--rc-navy);
         }
         .search-result-snippet {
         margin: 0 0 12px;
         color: var(--text-2);
         font-size: 0.95rem;
         line-height: 1.4;
         }
         .search-result-footer {
         display: flex;
         justify-content: space-between;
         align-items: center;
         }
         .search-result-priority {
         font-size: 0.8rem;
         color: var(--muted);
         display: flex;
         align-items: center;
         gap: 4px;
         }
         .search-result-action {
         background: var(--rc-blue);
         color: white;
         border: none;
         padding: 6px 12px;
         border-radius: 6px;
         font-size: 0.85rem;
         cursor: pointer;
         display: flex;
         align-items: center;
         gap: 6px;
         transition: background-color 0.2s;
         }
         .search-result-action:hover {
         background: var(--rc-navy);
         }
         /* Toast enhancements */
         .toast-container {
         position: fixed;
         bottom: 20px;
         right: 20px;
         z-index: 1000;
         display: flex;
         flex-direction: column;
         gap: 10px;
         max-width: 400px;
         }
         .toast {
         background: linear-gradient(135deg, var(--rc-blue), var(--rc-teal));
         color: white;
         border-radius: 12px;
         padding: 16px;
         box-shadow: 0 10px 30px rgba(0,0,0,0.2);
         transform: translateY(100%);
         opacity: 0;
         transition: transform 0.3s, opacity 0.3s;
         }
         .toast.show {
         transform: translateY(0);
         opacity: 1;
         }
         .toast-content {
         display: flex;
         align-items: center;
         gap: 12px;
         }
         .toast-icon {
         font-size: 1.2rem;
         }
         .toast-message {
         flex: 1;
         line-height: 1.4;
         }
         .toast-action {
         background: rgba(255,255,255,0.2);
         border: none;
         color: white;
         padding: 6px 12px;
         border-radius: 6px;
         cursor: pointer;
         font-size: 0.9rem;
         margin-right: 8px;
         }
         .toast-close {
         background: rgba(255,255,255,0.2);
         border: none;
         color: white;
         width: 32px;
         height: 32px;
         border-radius: 8px;
         cursor: pointer;
         display: flex;
         align-items: center;
         justify-content: center;
         }
         /* Countdown animations */
         .countdown-changing {
         animation: countdownPulse 0.3s ease;
         }
         @keyframes countdownPulse {
         0% { transform: scale(1); }
         50% { transform: scale(1.1); }
         100% { transform: scale(1); }
         }
         /* Critical highlight */
         .critical-highlight {
         animation: criticalFlash 2s ease;
         }
         @keyframes criticalFlash {
         0%, 100% { background-color: transparent; }
         50% { background-color: rgba(242,169,0,0.1); }
         }
         /* Compact mode adjustments */
         .compact-mode .card {
         padding: var(--s-4);
         }
         .compact-mode .card__icon {
         width: 48px;
         height: 48px;
         font-size: 1.3rem;
         }
         .compact-mode .hero__title {
         font-size: clamp(1.8rem, 3.5vw, 2.8rem);
         }
         /* Keyboard shortcuts */
         .keyboard-shortcuts {
         text-align: left;
         }
         .keyboard-shortcuts h4 {
         margin: 0 0 12px;
         color: white;
         font-size: 1rem;
         }
         .shortcut-item {
         display: flex;
         justify-content: space-between;
         align-items: center;
         padding: 6px 0;
         border-bottom: 1px solid rgba(255,255,255,0.1);
         }
         .shortcut-item:last-child {
         border-bottom: none;
         }
         .shortcut-item kbd {
         background: rgba(255,255,255,0.2);
         color: white;
         padding: 4px 8px;
         border-radius: 4px;
         font-family: monospace;
         font-size: 0.85rem;
         }
         /* Screen reader announcements */
         .sr-announcement {
         position: absolute;
         width: 1px;
         height: 1px;
         padding: 0;
         margin: -1px;
         overflow: hidden;
         clip: rect(0, 0, 0, 0);
         white-space: nowrap;
         border: 0;
         }
         /* Error screen */
         .error-screen {
         position: fixed;
         top: 0;
         left: 0;
         right: 0;
         bottom: 0;
         background: linear-gradient(135deg, var(--rc-blue), var(--rc-navy));
         color: white;
         display: flex;
         align-items: center;
         justify-content: center;
         z-index: 9999;
         }
         .error-content {
         text-align: center;
         max-width: 500px;
         padding: 40px;
         }
         .error-content h1 {
         margin: 0 0 20px;
         font-size: 2.5rem;
         }
         .error-content p {
         margin: 0 0 20px;
         font-size: 1.1rem;
         line-height: 1.5;
         }
         /* Loading dots animation */
         .loading-dots {
         display: flex;
         justify-content: center;
         gap: 8px;
         margin-top: 20px;
         }
         .loading-dots span {
         width: 8px;
         height: 8px;
         background: white;
         border-radius: 50%;
         opacity: 0.6;
         animation: loadingDots 1.4s infinite ease-in-out both;
         }
         .loading-dots span:nth-child(1) { animation-delay: -0.32s; }
         .loading-dots span:nth-child(2) { animation-delay: -0.16s; }
         @keyframes loadingDots {
         0%, 80%, 100% { transform: scale(0); opacity: 0.6; }
         40% { transform: scale(1); opacity: 1; }
         }
      </style>
   </head>
   <body class="compact-mode mobile-view">
      <!-- Loading Overlay -->
      <div class="loading-overlay hidden" id="loadingOverlay">
         <div class="loading-spinner"></div>
         <div class="loading-text">
            Loading Your Cruise Adventure<span class="loading-dots"></span>
         </div>
      </div>
      <!-- Skip Link -->
      <a href="#main-content" class="skip-link">
      Skip to main content
      </a>
      <!-- Official Royal Caribbean Banner -->
      <div class="rc-official-banner" role="status">
         <div class="container">
            <div class="rc-banner-content">
               <div class="rc-banner-text">
                  <img src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 220 40'><rect width='220' height='40' fill='%230054a4'/><text x='12' y='26' font-family='Montserrat, Arial, sans-serif' font-size='18' fill='white'>Royal Caribbean</text></svg>" alt="Royal Caribbean International">
                  <span>Official Cruise Planner ‚Ä¢ Adventure of the Seas ‚Ä¢ Booking #: 12345678</span>
               </div>
               <div class="crown-anchor-status">
                  <span class="crown-spin" aria-hidden="true">üëë</span>
                  <span>Crown &amp; Anchor¬Æ ‚Ä¢ Gold Status</span>
               </div>
            </div>
         </div>
      </div>
      <!-- Header -->
      <header class="header" role="banner">
         <div class="container">
            <div class="header__inner">
               <!-- Logo -->
               <a href="#" class="brand" aria-label="Go to top">
               <span class="brand__badge" role="img" aria-label="Royal Caribbean">‚öì</span>
               <span class="brand__title">
               <strong>Royal Caribbean Cruise Planner</strong>
               <span>Adventure of the Seas ¬∑ Feb 14-20, 2026</span>
               </span>
               </a>
               <!-- Navigation -->
               <nav class="header__nav" id="mainNav" aria-label="Primary navigation">
                  <ul class="header__nav-list">
                     <li>
                        <button class="nav-link" data-section="overview" type="button">
                        <span class="emoji" aria-hidden="true">üö¢</span><span>Start Here</span>
                        </button>
                     </li>
                     <li>
                        <button class="nav-link" data-section="operations" type="button">
                        <span class="emoji" aria-hidden="true">‚öì</span><span>Guide</span>
                        </button>
                     </li>
                     <li>
                        <button class="nav-link" data-section="rooms" type="button">
                        <span class="emoji" aria-hidden="true">‚öì</span><span>Rooms</span>
                        </button>
                     </li>
                     <li>
                        <button class="nav-link" data-section="itinerary" type="button">
                        <span class="emoji" aria-hidden="true">üå¥</span><span>Itinerary</span>
                        </button>
                     </li>
                     <li>
                        <button class="nav-link" data-section="dining" type="button">
                        <span class="emoji" aria-hidden="true">üåä</span><span>Dining</span>
                        </button>
                     </li>
                     <li>
                        <button class="nav-link" data-section="communication" type="button">
                        <span class="emoji" aria-hidden="true">‚öì</span><span>Comms &amp; Budget</span>
                        </button>
                     </li>
                     <li>
                        <button class="nav-link" data-section="tips" type="button">
                        <span class="emoji" aria-hidden="true">üåä</span><span>Tips</span>
                        </button>
                     </li>
                     <li>
                        <!-- ‚úÖ FIX: This was incorrectly labeled "Tips" -->
                        <button class="nav-link" data-section="integrate" type="button">
                        <span class="emoji" aria-hidden="true">üëë</span><span>VIP</span>
                        </button>
                     </li>
                  </ul>
               </nav>
               <!-- Header Actions -->
               <div class="header__actions">
                  <!-- Mobile drawer toggle -->
                  <button class="header__mobile-toggle" id="mobileMenuBtn" type="button" aria-label="Open navigation drawer">
                  <span class="header__mobile-icon" aria-hidden="true"></span>
                  </button>
                  <!-- Search -->
                  <button class="header__search-btn" id="searchBtn" type="button" aria-label="Open search">
                  <i class="fas fa-search" aria-hidden="true"></i>
                  </button>
               </div>
            </div>
         </div>
      </header>
      <!-- Sticky Top Bar Hint -->
      <div class="top-bar-hint is-hidden" id="topBarHint" role="status" aria-live="polite" aria-atomic="true">
         <div class="container">
            <div class="top-bar-hint__content">
               <div class="top-bar-hint__left">
                  <div class="top-bar-hint__title" id="topBarHintTitleWrap">
                     <i class="fas fa-sun" aria-hidden="true"></i>
                     <span id="topBarHintTitle">Today: Preparation</span>
                     <span class="top-bar-hint__badge" id="topBarHintBadge" aria-hidden="true">LIVE</span>
                  </div>
                  <div class="top-bar-hint__detail" id="topBarHintDetail">
                     Tap a day to see port highlights and all-aboard times.
                  </div>
                  <div class="top-bar-hint__meta" aria-hidden="true">
                     <span class="top-bar-hint__meta-item">
                     <i class="fas fa-mouse-pointer" aria-hidden="true"></i> Tap
                     </span>
                     <span class="top-bar-hint__meta-dot">‚Ä¢</span>
                     <span class="top-bar-hint__meta-item">
                     <i class="fas fa-keyboard" aria-hidden="true"></i> Use ‚Üê ‚Üí
                     </span>
                  </div>
               </div>
               <button class="top-bar-hint__close" id="topBarHintClose" type="button" aria-label="Hide today hint">
               <i class="fas fa-times" aria-hidden="true"></i>
               </button>
            </div>
         </div>
      </div>
      <!-- Search Overlay -->
      <div class="search-overlay" id="searchOverlay" role="dialog" aria-modal="true" aria-labelledby="searchTitle" aria-hidden="true">
         <div class="search-container" role="document">
            <div class="search-header">
               <div class="search-header__title">
                  <i class="fas fa-search" aria-hidden="true"></i>
                  <span id="searchTitle">Search Cruise Guide</span>
               </div>
               <div class="search-header__hint" aria-hidden="true">
                  <kbd>Esc</kbd> to close
               </div>
            </div>
            <form class="search-form" id="searchForm" role="search" aria-label="Search the cruise guide">
               <input
                  type="search"
                  class="search-input"
                  id="searchInput"
                  placeholder="Search ports, dining, rooms, eMuster, budget‚Ä¶"
                  aria-label="Search cruise information"
                  autocomplete="off"
                  inputmode="search"
                  enterkeyhint="search"
                  >
               <button type="submit" class="search-submit" aria-label="Search">
               <i class="fas fa-search" aria-hidden="true"></i>
               </button>
               <button type="button" class="search-close" id="searchClose" aria-label="Close search">
               <i class="fas fa-times" aria-hidden="true"></i>
               </button>
            </form>
            <div class="search-chips" aria-label="Quick search shortcuts">
               <div class="search-suggestions__title">Quick</div>
               <div class="search-suggestion-chips">
                  <button type="button" class="search-chip" data-query="critical info">
                  <i class="fas fa-triangle-exclamation" aria-hidden="true"></i> Critical Info
                  </button>
                  <button type="button" class="search-chip" data-query="today plan">
                  <i class="fas fa-calendar-day" aria-hidden="true"></i> Today's Plan
                  </button>
                  <button type="button" class="search-chip" data-query="emergency">
                  <i class="fas fa-phone" aria-hidden="true"></i> Emergency
                  </button>
               </div>
            </div>
            <div class="search-suggestions" id="searchSuggestions" aria-live="polite" aria-atomic="false">
               <div class="search-suggestions__group">
                  <div class="search-suggestions__title">Suggested</div>
                  <div class="search-suggestion-chips" id="suggestedSearchChips">
                     <button type="button" class="search-chip" data-query="What time do I board?">What time do I board?</button>
                     <button type="button" class="search-chip" data-query="Where is my room?">Where is my room?</button>
                     <button type="button" class="search-chip" data-query="eMuster Station F6">eMuster Station F6</button>
                     <button type="button" class="search-chip" data-query="Dining reservations">Dining reservations</button>
                     <button type="button" class="search-chip" data-query="Shore excursions">Shore excursions</button>
                  </div>
               </div>
               <div class="search-suggestions__group" id="recentSearchesGroup" hidden>
                  <div class="search-suggestions__title">Recent</div>
                  <div class="search-suggestion-chips" id="recentSearchChips"></div>
               </div>
            </div>
            <div class="search-results" id="searchResults" aria-live="polite">
               <div class="no-results">
                  <p>Type to search for cruise information‚Ä¶</p>
               </div>
            </div>
         </div>
      </div>
      <!-- Section Drawer (Mobile Navigation) -->
      <div class="section-drawer-overlay" id="sectionDrawerOverlay" aria-hidden="true"></div>
      <aside
         class="section-drawer"
         id="sectionDrawer"
         role="dialog"
         aria-modal="true"
         aria-hidden="true"
         aria-labelledby="sectionDrawerTitle"
         tabindex="-1"
         >
         <div class="section-drawer__header">
            <div class="section-drawer__title-wrap">
               <span class="section-drawer__title" id="sectionDrawerTitle">Navigate</span>
               <span class="section-drawer__subtitle" aria-hidden="true">Cruise Companion</span>
            </div>
            <button
               class="section-drawer__close"
               id="sectionDrawerClose"
               type="button"
               aria-label="Close navigation drawer"
               >
            <i class="fas fa-times" aria-hidden="true"></i>
            </button>
         </div>
         <nav class="section-drawer__list" aria-label="Sections">
            <button class="drawer-nav-item" type="button" data-section="overview">
            <span class="drawer-label"><i class="fas fa-home" aria-hidden="true"></i>Start Here</span>
            <span class="drawer-badge" aria-hidden="true">Home</span>
            </button>
            <button class="drawer-nav-item" type="button" data-section="operations">
            <span class="drawer-label"><i class="fas fa-compass" aria-hidden="true"></i>Operations Manual</span>
            <span class="drawer-badge drawer-badge--critical">Critical</span>
            </button>
            <button class="drawer-nav-item" type="button" data-section="itinerary">
            <span class="drawer-label"><i class="fas fa-calendar-alt" aria-hidden="true"></i>Itinerary</span>
            <span class="drawer-badge" aria-hidden="true">Daily</span>
            </button>
            <button class="drawer-nav-item" type="button" data-section="rooms">
            <span class="drawer-label"><i class="fas fa-bed" aria-hidden="true"></i>Rooms</span>
            <span class="drawer-badge" aria-hidden="true">Keys</span>
            </button>
            <button class="drawer-nav-item" type="button" data-section="dining">
            <span class="drawer-label"><i class="fas fa-utensils" aria-hidden="true"></i>Dining</span>
            <span class="drawer-badge" aria-hidden="true">Plan</span>
            </button>
            <button class="drawer-nav-item" type="button" data-section="communication">
            <span class="drawer-label"><i class="fas fa-comments-dollar" aria-hidden="true"></i>Comms &amp; Budget</span>
            <span class="drawer-badge" aria-hidden="true">Money</span>
            </button>
            <button class="drawer-nav-item" type="button" data-section="tips">
            <span class="drawer-label"><i class="fas fa-lightbulb" aria-hidden="true"></i>Pro Tips</span>
            <span class="drawer-badge" aria-hidden="true">Smart</span>
            </button>
            <button class="drawer-nav-item" type="button" data-section="integrate">
            <span class="drawer-label"><i class="fas fa-star" aria-hidden="true"></i>VIP Upgrades</span>
            <span class="drawer-badge drawer-badge--vip">VIP</span>
            </button>
         </nav>
         <div class="section-drawer__footer" aria-hidden="true">
            <div class="section-drawer__footer-row">
               <i class="fas fa-ship" aria-hidden="true"></i>
               Adventure of the Seas ‚Ä¢ Feb 14‚Äì20, 2026
            </div>
            <div class="section-drawer__footer-row">
               <i class="fas fa-circle-info" aria-hidden="true"></i>
               Tap a section to jump instantly.
            </div>
         </div>
      </aside>
      <!-- Hero Section -->
      <section class="hero" aria-labelledby="heroTitle">
         <div class="container">
            <div class="hero__content">
               <div class="hero__badge-row" aria-hidden="true">
                  <span class="hero__badge"><span class="emoji" aria-hidden="true">üö¢</span> Adventure of the Seas</span>
                  <span class="hero__badge"><span class="emoji" aria-hidden="true">üå¥</span> Western Caribbean</span>
                  <span class="hero__badge hero__badge--gold"><span class="emoji" aria-hidden="true">üóìÔ∏è</span> Feb 14‚Äì20, 2026</span>
               </div>
               <h1 id="heroTitle" class="hero__title">Your Caribbean Cruise Adventure</h1>
               <p class="hero__subtitle">
                  Rahe Family &amp; Friends ‚Ä¢ Adventure of the Seas ‚Ä¢ February 14‚Äì20, 2026
               </p>
               <!-- Countdown Timer -->
               <div class="countdown" role="timer" aria-live="polite" aria-label="Countdown to cruise departure">
                  <div class="countdown-item">
                     <span class="countdown-number" id="days">12</span>
                     <span class="countdown-label">Days</span>
                  </div>
                  <div class="countdown-item">
                     <span class="countdown-number" id="hours">1</span>
                     <span class="countdown-label">Hours</span>
                  </div>
                  <div class="countdown-item">
                     <span class="countdown-number" id="minutes">52</span>
                     <span class="countdown-label">Minutes</span>
                  </div>
               </div>
               <!-- Quick Actions -->
               <div class="hero__actions" role="group" aria-label="Quick actions">
                  <button class="btn btn--primary" id="printBtn" type="button">
                  <i class="fas fa-print" aria-hidden="true"></i>
                  Print Itinerary
                  </button>
                  <button class="btn btn--ghost" id="offlineBtn" type="button">
                  <i class="fas fa-download" aria-hidden="true"></i>
                  Save Offline
                  </button>
                  <button class="btn btn--ghost" id="shareBtn" type="button">
                  <i class="fas fa-share-alt" aria-hidden="true"></i>
                  Share
                  </button>
               </div>
               <div class="rc-key-benefits" aria-label="Royal Caribbean The Key benefits">
                  <div class="key-benefit">
                     <span class="emoji" aria-hidden="true">üîë</span>
                     <span>The Key¬Æ ‚Ä¢ Priority Boarding ‚Ä¢ 11:00 AM</span>
                  </div>
                  <div class="key-benefit">
                     <span class="emoji" aria-hidden="true">üì∂</span>
                     <span>VOOM¬Æ Surf + Stream ‚Ä¢ 1 Device</span>
                  </div>
               </div>
            </div>
         </div>
         <div class="rc-wave-bg" aria-hidden="true"></div>
      </section>
      <!-- Day Selector -->
      <div class="day-selector day-selector--hidden" id="daySelector">
         <div class="container">
            <nav class="day-nav" aria-label="Day navigation">
               <button class="day-btn active" data-day="all">All Days</button>
               <button class="day-btn" data-day="1">Day 1: Embark</button>
               <button class="day-btn" data-day="2">Day 2: CocoCay</button>
               <button class="day-btn" data-day="3">Day 3: Sea Day</button>
               <button class="day-btn" data-day="4">Day 4: Jamaica</button>
               <button class="day-btn" data-day="5">Day 5: Labadee</button>
               <button class="day-btn" data-day="6">Day 6: Sea Day</button>
            </nav>
         </div>
      </div>
      <!-- Traveler Selector -->
      <div class="traveler-selector" id="travelerSelector">
         <div class="container">
            <label for="travelerSelect" class="traveler-label">View for:</label>
            <select id="travelerSelect" aria-label="Select traveler view">
               <option value="all">üë• All Travelers</option>
               <option value="family">üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Family View</option>
               <option value="adults">üë®‚Äçüë©‚Äçüë¶ Adults Only</option>
               <option value="kids">üßí Kids Activities</option>
            </select>
         </div>
      </div>
      <!-- Main Content -->
      <main id="main-content" class="main" role="main">
         <div class="container">
            <div class="main-layout">
               <!-- Left Column - Main Content -->
               <div class="main-content">
                  <!-- Toast Notification -->
                  <div class="toast" id="toast" role="alert" aria-live="polite" aria-atomic="true">
                     <span class="toast__message" id="toastMessage">Welcome to your Cruise Companion Hub! üö¢</span>
                     <button class="toast__close" id="toastClose" aria-label="Close notification">
                     <i class="fas fa-times" aria-hidden="true"></i>
                     </button>
                  </div>
                  <!-- Quick Start Guide -->
                  <section id="quick-start" class="section section--critical" aria-labelledby="quickStartTitle">
                     <div class="card quick-start">
                        <div class="card__header">
                           <div class="card__icon" aria-hidden="true">
                              <i class="fas fa-bolt"></i>
                           </div>
                           <div>
                              <h2 id="quickStartTitle" class="card__title">Quick Start Guide</h2>
                              <p class="card__subtitle">Five essentials to handle first, with fewer clicks</p>
                           </div>
                        </div>
                        <ul class="quick-start__list">
                           <li class="quick-start__item">
                              <span class="quick-start__item-showcase" aria-hidden="true">üß≠</span>
                              <div>
                                 <strong>Confirm embarkation timeline.</strong>
                                 <p class="text-sm mb-0">Arrive at 11:00 AM, regroup by 3:00 PM, all aboard by 4:30 PM.</p>
                              </div>
                           </li>
                           <li class="quick-start__item">
                              <span class="quick-start__item-showcase" aria-hidden="true">üõü</span>
                              <div>
                                 <strong>Complete eMuster &amp; safety checklist.</strong>
                                 <p class="text-sm mb-0">Finish the important checklist in the Guide highlights.</p>
                              </div>
                           </li>
                           <li class="quick-start__item">
                              <span class="quick-start__item-showcase" aria-hidden="true">üè∑Ô∏è</span>
                              <div>
                                 <strong>Verify rooms and muster stations.</strong>
                                 <p class="text-sm mb-0">Confirm stateroom assignments and station F6 in the Rooms section.</p>
                              </div>
                           </li>
                           <li class="quick-start__item">
                              <span class="quick-start__item-showcase" aria-hidden="true">üóìÔ∏è</span>
                              <div>
                                 <strong>Scan the day-by-day itinerary.</strong>
                                 <p class="text-sm mb-0">Check port plans and all-aboard times for each day.</p>
                              </div>
                           </li>
                           <li class="quick-start__item">
                              <span class="quick-start__item-showcase" aria-hidden="true">üì∂</span>
                              <div>
                                 <strong>Get connected fast.</strong>
                                 <p class="text-sm mb-0">Join the Royal app chat + connect to Royal-WiFi.</p>
                              </div>
                           </li>
                        </ul>
                        <div class="quick-start__actions">
                           <button class="btn btn--primary quick-start__link" data-section="operations">
                           <i class="fas fa-clipboard-check" aria-hidden="true"></i>
                           Open Important Checklist
                           </button>
                           <button class="btn btn--outline quick-start__link" data-section="itinerary">
                           <i class="fas fa-route" aria-hidden="true"></i>
                           View Itinerary
                           </button>
                           <button class="btn btn--outline quick-start__link" data-section="rooms">
                           <i class="fas fa-bed" aria-hidden="true"></i>
                           Rooms &amp; Muster
                           </button>
                           <div class="critical-toggle" aria-live="polite">
                              <button class="btn btn--outline" id="criticalToggleBtn" aria-pressed="false">
                              <i class="fas fa-filter" aria-hidden="true"></i>
                              Important Info Only
                              </button>
                              <span class="critical-toggle__status" id="criticalToggleStatus">Showing all sections</span>
                           </div>
                        </div>
                     </div>
                  </section>
                  <!-- Overview Section -->
                  <section id="overview" class="section section--critical" aria-labelledby="overviewTitle">
                     <div class="card">
                        <div class="card__header">
                           <div class="card__icon" aria-hidden="true">
                              <i class="fas fa-ship"></i>
                           </div>
                           <div>
                              <h2 id="overviewTitle" class="card__title">Start Here: Your Cruise Adventure</h2>
                              <p class="card__subtitle">Everything you need to know, organized for quick decisions</p>
                           </div>
                           <button class="card__toggle" aria-expanded="false" aria-controls="overviewContent">
                           <i class="fas fa-chevron-down" aria-hidden="true"></i>
                           <span class="sr-only">Toggle section</span>
                           </button>
                        </div>
                        <div id="overviewContent" class="card__content collapsed" style="">
                           <p class="mb-6">Welcome to your comprehensive travel hub for the Rahe Family &amp; Friends Adventure aboard <strong>Adventure of the Seas</strong>. Use this overview to orient the group, then explore the sections below to plan rooms, daily flow, dining, and top tips.</p>
                           <div class="grid-2">
                              <div class="rc-card">
                                 <span class="rc-badge">Royal Amplified‚Ñ¢ ‚Ä¢ Voyager Class</span>
                                 <h3 class="rc-headline" style="margin:14px 0 8px;">Official Booking Snapshot</h3>
                                 <p class="rc-body mb-0">SeaPass¬Æ linked ‚Ä¢ Adventure of the Seas ‚Ä¢ Booking #: 12345678</p>
                                 <p class="rc-caption" style="margin:8px 0 0;">Health &amp; Safety ‚Ä¢ eMuster¬Æ required by 4:00 PM</p>
                              </div>
                              <div class="perfect-day-card">
                                 <div style="position:relative;z-index:1;margin-top:40px;">
                                    <p class="rc-body" style="color:rgba(255,255,255,.9);margin:0 0 12px;">Thrill Waterpark + Oasis Lagoon access included for Day 2.</p>
                                    <span class="rc-badge">Perfect Day at CocoCay¬Æ</span>
                                 </div>
                              </div>
                           </div>
                           <div class="grid-2" style="margin-top:24px;">
                              <div class="rc-app-integration">
                                 <div class="app-qr-code">
                                    <img src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 120 120'><rect width='120' height='120' fill='white'/><rect x='10' y='10' width='30' height='30' fill='%230054a4'/><rect x='80' y='10' width='30' height='30' fill='%230054a4'/><rect x='10' y='80' width='30' height='30' fill='%230054a4'/><rect x='50' y='50' width='20' height='20' fill='%2300b2a9'/><rect x='70' y='70' width='15' height='15' fill='%230054a4'/></svg>" alt="Scan for Royal Caribbean App">
                                 </div>
                                 <div class="app-features">
                                    <h3><span class="emoji" aria-hidden="true">üì±</span> Royal Caribbean App</h3>
                                    <ul>
                                       <li><span class="emoji" aria-hidden="true">‚úÖ</span> Linked to your booking</li>
                                       <li><span class="emoji" aria-hidden="true">üí¨</span> Free onboard messaging</li>
                                       <li><span class="emoji" aria-hidden="true">üóìÔ∏è</span> Daily schedule updates</li>
                                       <li><span class="emoji" aria-hidden="true">üó∫Ô∏è</span> Interactive deck plans</li>
                                    </ul>
                                    <button class="rc-btn" type="button">
                                    <span class="emoji" aria-hidden="true">üîó</span> Open in Royal App
                                    </button>
                                 </div>
                              </div>
                              <div class="official-muster-info">
                                 <div class="muster-header">
                                    <h3><span class="emoji" aria-hidden="true">‚öì</span> Official Muster Station</h3>
                                    <div class="muster-badge">F6</div>
                                 </div>
                                 <div class="muster-details">
                                    <p><strong>Deck 4 ‚Ä¢ Starboard Side</strong></p>
                                    <p>Complete eMuster¬Æ in Royal App before 4:00 PM.</p>
                                    <div class="muster-progress">
                                       <div class="progress-track">
                                          <div class="progress-bar" style="width: 75%"></div>
                                       </div>
                                       <span>3/4 Guests Complete</span>
                                    </div>
                                 </div>
                              </div>
                           </div>
                           <div class="rc-progress-tracker" style="margin-top:24px;">
                              <h4><span class="emoji" aria-hidden="true">‚úÖ</span> Cruise Checklist</h4>
                              <div class="tracker-item">
                                 <span>Online Check-in</span>
                                 <div class="tracker-status completed">
                                    <span class="emoji" aria-hidden="true">‚úÖ</span> Complete
                                 </div>
                              </div>
                              <div class="tracker-item">
                                 <span>Excursions Booked</span>
                                 <div class="tracker-status in-progress" style="--progress: 60%">
                                    <div class="progress-bar"></div>
                                    3/5 Booked
                                 </div>
                              </div>
                              <div class="tracker-item">
                                 <span>Dining Reservations</span>
                                 <div class="tracker-status pending">
                                    <span class="emoji" aria-hidden="true">‚è≥</span> Opens Dec 31
                                 </div>
                              </div>
                           </div>
                           <div class="grid-2">
                              <!-- Trip Essentials -->
                              <div class="overview-block">
                                 <h3 class="overview-block__title">Trip Essentials</h3>
                                 <ul class="list list--icon">
                                    <li>
                                       <i class="fas fa-map-marked-alt" aria-hidden="true"></i>
                                       <span>Ports: Perfect Day at CocoCay, Falmouth, Labadee</span>
                                    </li>
                                    <li>
                                       <i class="fas fa-calendar-alt" aria-hidden="true"></i>
                                       <span>Feb 14-20, 2026 ‚Ä¢ 6 nights ‚Ä¢ Round-trip Port Canaveral</span>
                                    </li>
                                    <li>
                                       <i class="fas fa-ship" aria-hidden="true"></i>
                                       <span>Adventure of the Seas ‚Ä¢ Voyager Class ‚Ä¢ 137,276 GT ‚Ä¢ Amplified 2018</span>
                                    </li>
                                 </ul>
                              </div>
                              <!-- Why Book -->
                              <div class="overview-block">
                                 <h3 class="overview-block__title">Why Book This Sailing?</h3>
                                 <ul class="list list--icon">
                                    <li>
                                       <i class="fas fa-umbrella-beach" aria-hidden="true"></i>
                                       <span>Perfect Day thrills: docked access to Thrill Waterpark + Oasis Lagoon</span>
                                    </li>
                                    <li>
                                       <i class="fas fa-hiking" aria-hidden="true"></i>
                                       <span>Bucket-list ports: Dunn's River Falls + Dragon's Breath zip-line</span>
                                    </li>
                                    <li>
                                       <i class="fas fa-bolt" aria-hidden="true"></i>
                                       <span>Amplified ship: Typhoon &amp; Cyclone racers, FlowRider, laser-tag</span>
                                    </li>
                                 </ul>
                              </div>
                              <!-- People & Rooms -->
                              <div class="overview-block">
                                 <h3 class="overview-block__title">People &amp; Rooms</h3>
                                 <div class="chips">
                                    <span class="chip chip--primary">
                                    <i class="fas fa-users" aria-hidden="true"></i>
                                    <span>Rahe Family &amp; Friends</span>
                                    </span>
                                    <span class="chip chip--accent">
                                    <i class="fas fa-door-closed" aria-hidden="true"></i>
                                    <span>5 Staterooms</span>
                                    </span>
                                    <span class="chip chip--teal">
                                    <i class="fas fa-layer-group" aria-hidden="true"></i>
                                    <span>Decks 6-8</span>
                                    </span>
                                 </div>
                                 <p class="note mt-4">Use the rooms section below for detailed guest lists and muster stations.</p>
                              </div>
                              <!-- Book Next -->
                              <div class="overview-block">
                                 <h3 class="overview-block__title">Book Next</h3>
                                 <div class="checklist">
                                    <div class="checklist-item">
                                       <span class="checklist-icon" aria-hidden="true">
                                       <i class="fas fa-check-circle"></i>
                                       </span>
                                       <div class="checklist-content">
                                          <div class="checklist-title">Online Check-in</div>
                                          <p class="checklist-description">Opens ~Dec 31, 2025 ‚Ä¢ Pick 11:00 AM arrival</p>
                                       </div>
                                    </div>
                                    <div class="checklist-item">
                                       <span class="checklist-icon" aria-hidden="true">
                                       <i class="fas fa-utensils"></i>
                                       </span>
                                       <div class="checklist-content">
                                          <div class="checklist-title">Lock Dining Reservations</div>
                                          <p class="checklist-description">Chops, Izumi, Giovanni's ‚Ä¢ 2 formal nights</p>
                                       </div>
                                    </div>
                                    <div class="checklist-item">
                                       <span class="checklist-icon" aria-hidden="true">
                                       <i class="fas fa-ticket-alt"></i>
                                       </span>
                                       <div class="checklist-content">
                                          <div class="checklist-title">Reserve Shows &amp; Excursions</div>
                                          <p class="checklist-description">Prioritize Dunn's River Falls + Dragon's Breath</p>
                                       </div>
                                    </div>
                                 </div>
                              </div>
                           </div>
                           <div class="note note--info mt-8">
                              <strong>Concierge Default:</strong> Link all bookings in the Royal app, hold the 1-device VOOM plan for shore communications, and keep the WhatsApp group active for off-ship coordination.
                           </div>
                           <div class="activity-grid mt-8">
                              <div class="activity-card">
                                 <div class="activity-card__icon" role="img" aria-label="Island">üèùÔ∏è</div>
                                 <h3 class="activity-card__title">3 Amazing Ports</h3>
                                 <p class="activity-card__description">Perfect Day at CocoCay, Falmouth Jamaica, and Labadee Haiti with exclusive family experiences</p>
                              </div>
                              <div class="activity-card">
                                 <div class="activity-card__icon" role="img" aria-label="Family">üë®‚Äçüë©‚Äçüëß‚Äçüë¶</div>
                                 <h3 class="activity-card__title">Family Adventure</h3>
                                 <p class="activity-card__description">Five staterooms across Decks 6-8 with connecting options for family convenience</p>
                              </div>
                              <div class="activity-card">
                                 <div class="activity-card__icon" role="img" aria-label="Thrills">üé≠</div>
                                 <h3 class="activity-card__title">Hero Thrills</h3>
                                 <p class="activity-card__description">Daredevil's Peak, Dunn's River Falls, Dragon's Breath Flight Line - adrenaline-packed adventures</p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </section>
                  <!-- Guide Section -->
                  <section id="operations" class="section section--critical" aria-labelledby="operationsTitle">
                     <div class="card card--featured">
                        <div class="card__header">
                           <div class="card__icon" aria-hidden="true">
                              <i class="fas fa-compass"></i>
                           </div>
                           <div>
                              <h2 id="operationsTitle" class="card__title">Operations Manual Highlights</h2>
                              <p class="card__subtitle">Important checkpoints from the family playbook</p>
                           </div>
                           <button class="card__toggle" aria-expanded="false" aria-controls="operationsContent">
                           <i class="fas fa-chevron-down" aria-hidden="true"></i>
                           <span class="sr-only">Toggle section</span>
                           </button>
                        </div>
                        <div id="operationsContent" class="card__content collapsed">
                           <p class="mb-6">This guide contains essential protocols, checklists, and procedures to ensure a smooth and successful cruise experience for the entire group.</p>
                           <div class="grid-2">
                              <!-- Pre-Cruise Command Center -->
                              <div class="overview-block">
                                 <h3 class="overview-block__title">Pre-Cruise Hub</h3>
                                 <div class="checklist">
                                    <div class="checklist-item">
                                       <span class="checklist-icon" aria-hidden="true">
                                       <i class="fas fa-check-circle"></i>
                                       </span>
                                       <div class="checklist-content">
                                          <div class="checklist-title">Royal App Access</div>
                                          <p class="checklist-description">All adults downloaded + linked to booking</p>
                                       </div>
                                    </div>
                                    <div class="checklist-item">
                                       <span class="checklist-icon" aria-hidden="true">
                                       <i class="fas fa-id-card"></i>
                                       </span>
                                       <div class="checklist-content">
                                          <div class="checklist-title">Online Check-in</div>
                                          <p class="checklist-description">Upload photos + select 11:00 AM arrival</p>
                                       </div>
                                    </div>
                                    <div class="checklist-item">
                                       <span class="checklist-icon" aria-hidden="true">
                                       <i class="fas fa-link"></i>
                                       </span>
                                       <div class="checklist-content">
                                          <div class="checklist-title">Link Bookings</div>
                                          <p class="checklist-description">Confirm all staterooms appear in the app</p>
                                       </div>
                                    </div>
                                    <div class="checklist-item">
                                       <span class="checklist-icon" aria-hidden="true">
                                       <i class="fas fa-passport"></i>
                                       </span>
                                       <div class="checklist-content">
                                          <div class="checklist-title">Docs &amp; Backup</div>
                                          <p class="checklist-description">Passports valid past Aug 2026. Print SetSail + tags</p>
                                       </div>
                                    </div>
                                 </div>
                              </div>
                              <!-- Golden Hour Protocol -->
                              <div class="overview-block">
                                 <h3 class="overview-block__title">Golden Hour Protocol</h3>
                                 <p class="mb-4"><strong>Goal:</strong> Onboard control within 60 minutes</p>
                                 <div class="protocol-grid">
                                    <div class="protocol-step">
                                       <div class="protocol-time">11:00 AM üî¥</div>
                                       <p><strong>Arrive at terminal</strong> with SetSail + passport ready</p>
                                    </div>
                                    <div class="protocol-step">
                                       <div class="protocol-time">12:00 PM üî¥</div>
                                       <p><strong>The huddle</strong> on Deck 4/5 Promenade. No dispersing yet</p>
                                    </div>
                                    <div class="protocol-step">
                                       <div class="protocol-time">12:05 PM üî¥</div>
                                       <p><strong>Digital activation</strong> on ROYAL-WIFI; confirm linked bookings</p>
                                    </div>
                                    <div class="protocol-step">
                                       <div class="protocol-time">12:10 PM üî¥</div>
                                       <p><strong>Priority bookings</strong> for dining + any reservable shows</p>
                                    </div>
                                    <div class="protocol-step">
                                       <div class="protocol-time">12:30 PM üî¥</div>
                                       <p><strong>eMuster 2.0</strong> watch video, then tap SeaPass at Station F6</p>
                                    </div>
                                    <div class="protocol-step">
                                       <div class="protocol-time">1:00 PM üü¢</div>
                                       <p><strong>Complete</strong> lunch + cabins ready ~1:30 PM</p>
                                    </div>
                                 </div>
                              </div>
                           </div>
                           <div class="card mt-8">
                              <h3 class="text-2xl font-bold mb-6">Embarkation Day Must-Dos (In Order)</h3>
                              <div class="checklist" id="criticalChecklist">
                                 <div class="checklist-item critical-item">
                                    <span class="checklist-icon" aria-hidden="true">
                                    <i class="fas fa-life-ring"></i>
                                    </span>
                                    <div class="checklist-content">
                                       <div class="checklist-title">Complete eMuster</div>
                                       <p class="checklist-description">Watch safety video, then scan SeaPass at Station F6</p>
                                    </div>
                                 </div>
                                 <div class="checklist-item critical-item">
                                    <span class="checklist-icon" aria-hidden="true">
                                    <i class="fas fa-wifi"></i>
                                    </span>
                                    <div class="checklist-content">
                                       <div class="checklist-title">Connect to Royal-WiFi + App Chat</div>
                                       <p class="checklist-description">Create the family group chat; app messaging is free onboard</p>
                                    </div>
                                 </div>
                                 <div class="checklist-item critical-item">
                                    <span class="checklist-icon" aria-hidden="true">
                                    <i class="fas fa-utensils"></i>
                                    </span>
                                    <div class="checklist-content">
                                       <div class="checklist-title">Confirm Dining</div>
                                       <p class="checklist-description">Link all bookings; book 3 specialty dinners at the Promenade dining desk</p>
                                    </div>
                                 </div>
                                 <div class="checklist-item critical-item">
                                    <span class="checklist-icon" aria-hidden="true">
                                    <i class="fas fa-child"></i>
                                    </span>
                                    <div class="checklist-content">
                                       <div class="checklist-title">Adventure Ocean Open House</div>
                                       <p class="checklist-description">Register kids early for faster drop-offs later</p>
                                    </div>
                                 </div>
                                 <div class="checklist-item critical-item">
                                    <span class="checklist-icon" aria-hidden="true">
                                    <i class="fas fa-users"></i>
                                    </span>
                                    <div class="checklist-content">
                                       <div class="checklist-title">3:00 PM Regroup</div>
                                       <p class="checklist-description">Confirm everyone completed muster, dining bookings, and app access</p>
                                    </div>
                                 </div>
                              </div>
                           </div>
                           <div class="grid-2 mt-8">
                              <!-- Daily Rhythm -->
                              <div class="card">
                                 <h3 class="text-xl font-bold mb-6">Daily Rhythm</h3>
                                 <ul class="list list--icon">
                                    <li>
                                       <i class="fas fa-coffee" aria-hidden="true"></i>
                                       <span><strong>7:30‚Äì9:00 AM</strong> Breakfast + plan review</span>
                                    </li>
                                    <li>
                                       <i class="fas fa-route" aria-hidden="true"></i>
                                       <span><strong>10:00 AM</strong> Choose Path (Adventure/Culture/Chill)</span>
                                    </li>
                                    <li>
                                       <i class="fas fa-sun" aria-hidden="true"></i>
                                       <span><strong>1:00‚Äì4:00 PM</strong> Lunch + flex time</span>
                                    </li>
                                    <li>
                                       <i class="fas fa-glass-martini-alt" aria-hidden="true"></i>
                                       <span><strong>6:45 PM</strong> R Bar meetup (mandatory)</span>
                                    </li>
                                    <li>
                                       <i class="fas fa-moon" aria-hidden="true"></i>
                                       <span><strong>7:30 PM+</strong> Dinner, show, or music</span>
                                    </li>
                                 </ul>
                              </div>
                              <!-- Entertainment Truths -->
                              <div class="card">
                                 <h3 class="text-xl font-bold mb-6">Entertainment Truths</h3>
                                 <ul class="list list--icon">
                                    <li>
                                       <i class="fas fa-water" aria-hidden="true"></i>
                                       <span><strong>Pool Deck:</strong> Perfect Storm slides, FlowRider surf, Rock-Climbing Wall</span>
                                    </li>
                                    <li>
                                       <i class="fas fa-snowflake" aria-hidden="true"></i>
                                       <span><strong>Studio B:</strong> Ice shows + glow-in-the-dark laser-tag</span>
                                    </li>
                                    <li>
                                       <i class="fas fa-store" aria-hidden="true"></i>
                                       <span><strong>Royal Promenade:</strong> Parades, duty-free, Caf√© Promenade 24/7 snacks</span>
                                    </li>
                                    <li>
                                       <i class="fas fa-spa" aria-hidden="true"></i>
                                       <span><strong>Vitality Spa &amp; Fitness:</strong> Hot-stone massage + free-weight zone</span>
                                    </li>
                                 </ul>
                              </div>
                           </div>
                           <div class="card mt-8">
                              <h3 class="text-2xl font-bold mb-6">Port Playbook</h3>
                              <div class="activity-grid mt-6">
                                 <div class="activity-card">
                                    <div class="activity-card__icon" role="img" aria-label="Beach">üèñÔ∏è</div>
                                    <h3 class="activity-card__title">Perfect Day at CocoCay</h3>
                                    <p class="activity-card__description">Docked (no tender). Hit Thrill Waterpark early; Chill Island cabanas include snorkel gear + lunch</p>
                                    <div class="chips mt-4">
                                       <span class="tag tag--essential">Docked Access</span>
                                       <span class="tag tag--recommended">Early Arrival</span>
                                    </div>
                                 </div>
                                 <div class="activity-card">
                                    <div class="activity-card__icon" role="img" aria-label="Palm tree">üå¥</div>
                                    <h3 class="activity-card__title">Falmouth, Jamaica</h3>
                                    <p class="activity-card__description">Combine Dunn's River Falls with Blue Hole. Bring water shoes and quick-dry gear</p>
                                    <div class="chips mt-4">
                                       <span class="tag tag--essential">Water Shoes</span>
                                       <span class="tag tag--recommended">Combo Tour</span>
                                    </div>
                                 </div>
                                 <div class="activity-card">
                                    <div class="activity-card__icon" role="img" aria-label="Parachute">ü™Ç</div>
                                    <h3 class="activity-card__title">Labadee, Haiti</h3>
                                    <p class="activity-card__description">Dragon's Breath zip-line is best in the cooler morning. Photo package ~$59</p>
                                    <div class="chips mt-4">
                                       <span class="tag tag--essential">Morning Slot</span>
                                       <span class="tag tag--recommended">Photo Package</span>
                                    </div>
                                 </div>
                              </div>
                           </div>
                           <div class="grid-2 mt-8">
                              <!-- Medical Contingencies -->
                              <div class="card">
                                 <h3 class="text-xl font-bold mb-6">Medical Contingencies</h3>
                                 <ul class="list list--icon">
                                    <li>
                                       <i class="fas fa-briefcase-medical" aria-hidden="true"></i>
                                       <span><strong>Medical Center:</strong> Deck 1 (24h emergencies)</span>
                                    </li>
                                    <li>
                                       <i class="fas fa-pills" aria-hidden="true"></i>
                                       <span><strong>Split critical meds</strong> across two carry-ons</span>
                                    </li>
                                    <li>
                                       <i class="fas fa-user-friends" aria-hidden="true"></i>
                                       <span><strong>One adult escorts</strong> to Medical, one stays with kids</span>
                                    </li>
                                 </ul>
                              </div>
                              <!-- Weather & Tender Backup -->
                              <div class="card">
                                 <h3 class="text-xl font-bold mb-6">Weather &amp; Tender Backup</h3>
                                 <ul class="list list--icon">
                                    <li>
                                       <i class="fas fa-wind" aria-hidden="true"></i>
                                       <span><strong>If winds spike:</strong> Pivot to Oasis Lagoon or onboard pools</span>
                                    </li>
                                    <li>
                                       <i class="fas fa-sun" aria-hidden="true"></i>
                                       <span><strong>Schedule outdoor thrills</strong> early for cooler temps</span>
                                    </li>
                                    <li>
                                       <i class="fas fa-umbrella" aria-hidden="true"></i>
                                       <span><strong>Accept half-day wins</strong> if weather turns</span>
                                    </li>
                                 </ul>
                              </div>
                           </div>
                           <div class="legend-bar mt-8">
                              <span class="legend-chip critical">üî¥ Critical</span>
                              <span class="legend-chip optional">üü° Recommended</span>
                              <span class="legend-chip info">üü¢ Informational</span>
                           </div>
                        </div>
                     </div>
                  </section>
                  <!-- Rooms Section -->
                  <section id="rooms" class="section section--critical" aria-labelledby="roomsTitle">
                     <div class="card">
                        <div class="card__header">
                           <div class="card__icon" aria-hidden="true">
                              <i class="fas fa-door-closed"></i>
                           </div>
                           <div>
                              <h2 id="roomsTitle" class="card__title">Your Staterooms</h2>
                              <p class="card__subtitle">Where everyone will stay during the cruise</p>
                           </div>
                           <button class="card__toggle" aria-expanded="false" aria-controls="roomsContent">
                           <i class="fas fa-chevron-down" aria-hidden="true"></i>
                           <span class="sr-only">Toggle section</span>
                           </button>
                        </div>
                        <div id="roomsContent" class="card__content collapsed">
                           <p class="mb-6">Here's where everyone will be staying during the cruise. All rooms include interactive TV, a mini-safe, and Royal Dream bedding. Suites add an espresso maker and concierge access.</p>
                           <div class="table-responsive mb-8">
                              <table class="info-table">
                                 <thead>
                                    <tr>
                                       <th>Stateroom</th>
                                       <th>Type &amp; Size</th>
                                       <th>Deck &amp; Notes</th>
                                       <th>Guests</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr>
                                       <td><strong>6650</strong></td>
                                       <td>Balcony ‚Ä¢ 198 sq ft + 46 sq ft deck</td>
                                       <td>Deck 6 ‚Ä¢ Connecting to 6652</td>
                                       <td>Bill, Melissa, Owen, Declan</td>
                                    </tr>
                                    <tr>
                                       <td><strong>6443</strong></td>
                                       <td>Interior ‚Ä¢ 160 sq ft</td>
                                       <td>Deck 6 ‚Ä¢ Opposite laundry</td>
                                       <td>Cadance, Alexander, Abel, Amy</td>
                                    </tr>
                                    <tr>
                                       <td><strong>4B 8528</strong></td>
                                       <td>Balcony</td>
                                       <td>Deck 8 ‚Ä¢ Midship access</td>
                                       <td>Aimee, Reese</td>
                                    </tr>
                                    <tr>
                                       <td><strong>8370</strong></td>
                                       <td>Ocean View Balcony</td>
                                       <td>Deck 8 ‚Ä¢ Balcony views</td>
                                       <td>Lea, Calab</td>
                                    </tr>
                                    <tr>
                                       <td><strong>2D 8612</strong></td>
                                       <td>Ocean View Balcony</td>
                                       <td>Deck 8 ‚Ä¢ Quiet aft corridor</td>
                                       <td>Bella, TJ</td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <div class="note note--info mb-8">
                              <strong>Final stateroom numbers</strong> can be updated once assigned. Keep the Royal app current so all guests see onboard chat and daily schedules.
                           </div>
                           <div class="room-grid">
                              <!-- Room 1 - Primary Room -->
                              <div class="room-card featured">
                                 <div class="room-header">
                                    <div>
                                       <div class="room-number">6650</div>
                                       <div class="room-location">
                                          <i class="fas fa-map-marker-alt" aria-hidden="true"></i>
                                          Deck 6 ‚Ä¢ Connecting to 6652
                                       </div>
                                    </div>
                                    <span class="tag tag--info">Primary Room</span>
                                 </div>
                                 <div class="room-guests">
                                    <p class="room-label">Guests:</p>
                                    <ul class="guest-list">
                                       <li>Bill</li>
                                       <li>Melissa</li>
                                       <li>Owen</li>
                                       <li>Declan</li>
                                    </ul>
                                 </div>
                                 <p><strong>Room Type:</strong> Balcony ‚Ä¢ 198 sq ft + 46 sq ft deck</p>
                                 <p class="mt-2"><strong>Location Tip:</strong> Easy access to aft elevators for dinner runs</p>
                              </div>
                              <!-- Room 2 - Interior Room -->
                              <div class="room-card">
                                 <div class="room-header">
                                    <div>
                                       <div class="room-number">6443</div>
                                       <div class="room-location">
                                          <i class="fas fa-map-marker-alt" aria-hidden="true"></i>
                                          Deck 6 ‚Ä¢ Opposite laundry
                                       </div>
                                    </div>
                                    <span class="tag tag--info">Interior Room</span>
                                 </div>
                                 <div class="room-guests">
                                    <p class="room-label">Guests:</p>
                                    <ul class="guest-list">
                                       <li>Cadance</li>
                                       <li>Alexander</li>
                                       <li>Abel</li>
                                       <li>Amy</li>
                                    </ul>
                                 </div>
                                 <p><strong>Room Type:</strong> Interior ‚Ä¢ 160 sq ft</p>
                                 <p class="mt-2"><strong>Note:</strong> Great for quick laundry swaps and mid-day breaks</p>
                              </div>
                              <!-- Room 3 - Pool Access -->
                              <div class="room-card">
                                 <div class="room-header">
                                    <div>
                                       <div class="room-number">4B 8528</div>
                                       <div class="room-location">
                                          <i class="fas fa-map-marker-alt" aria-hidden="true"></i>
                                          Deck 8 ‚Ä¢ Midship access
                                       </div>
                                    </div>
                                    <span class="tag tag--info">Pool Access</span>
                                 </div>
                                 <div class="room-guests">
                                    <p class="room-label">Guests:</p>
                                    <ul class="guest-list">
                                       <li>Aimee</li>
                                       <li>Reese</li>
                                    </ul>
                                 </div>
                                 <p><strong>Room Type:</strong> Balcony</p>
                                 <p class="mt-2"><strong>Location Tip:</strong> Quick walk to Royal Promenade elevators</p>
                              </div>
                              <!-- Room 4 - Ocean View -->
                              <div class="room-card">
                                 <div class="room-header">
                                    <div>
                                       <div class="room-number">8370</div>
                                       <div class="room-location">
                                          <i class="fas fa-map-marker-alt" aria-hidden="true"></i>
                                          Deck 8 ‚Ä¢ Ocean view balcony
                                       </div>
                                    </div>
                                    <span class="tag tag--info">Ocean View</span>
                                 </div>
                                 <div class="room-guests">
                                    <p class="room-label">Guests:</p>
                                    <ul class="guest-list">
                                       <li>Lea</li>
                                       <li>Calab</li>
                                    </ul>
                                 </div>
                                 <p><strong>Room Type:</strong> Ocean View Balcony</p>
                                 <p class="mt-2"><strong>Location Tip:</strong> Sunset-friendly balcony with fresh sea air</p>
                              </div>
                              <!-- Room 5 - Ocean View -->
                              <div class="room-card">
                                 <div class="room-header">
                                    <div>
                                       <div class="room-number">2D 8612</div>
                                       <div class="room-location">
                                          <i class="fas fa-map-marker-alt" aria-hidden="true"></i>
                                          Deck 8 ‚Ä¢ Quiet aft corridor
                                       </div>
                                    </div>
                                    <span class="tag tag--info">Ocean View</span>
                                 </div>
                                 <div class="room-guests">
                                    <p class="room-label">Guests:</p>
                                    <ul class="guest-list">
                                       <li>Bella</li>
                                       <li>TJ</li>
                                    </ul>
                                 </div>
                                 <p><strong>Room Type:</strong> Ocean View Balcony</p>
                                 <p class="mt-2"><strong>Location Tip:</strong> Peaceful evenings away from promenade traffic</p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </section>
                  <!-- Itinerary Section -->
                  <section id="itinerary" class="section section--critical" aria-labelledby="itineraryTitle">
                     <div class="card">
                        <div class="card__header">
                           <div class="card__icon" aria-hidden="true">
                              <i class="fas fa-calendar-alt"></i>
                           </div>
                           <div>
                              <h2 id="itineraryTitle" class="card__title">7-Day Itinerary (6 Nights)</h2>
                              <p class="card__subtitle">Day-by-day adventure schedule</p>
                           </div>
                           <button class="card__toggle" aria-expanded="false" aria-controls="itineraryContent">
                           <i class="fas fa-chevron-down" aria-hidden="true"></i>
                           <span class="sr-only">Toggle section</span>
                           </button>
                        </div>
                        <div id="itineraryContent" class="card__content collapsed">
                           <div class="timeline">
                              <!-- Day 1 -->
                              <div class="timeline-item" data-day="1">
                                 <span class="timeline-day">Day 1 ‚Ä¢ Feb 14</span>
                                 <div class="timeline-content">
                                    <h3>Port Canaveral - Embarkation Day</h3>
                                    <p><strong>Departure:</strong> 4:00 PM</p>
                                    <div class="activity-grid mt-6">
                                       <div class="activity-card">
                                          <div class="activity-card__icon" role="img" aria-label="Target">üéØ</div>
                                          <h4 class="activity-card__title">Embarkation Tips</h4>
                                          <p class="activity-card__description">Arrive by 10:30 AM for the smoothest boarding</p>
                                       </div>
                                       <div class="activity-card">
                                          <div class="activity-card__icon" role="img" aria-label="Phone">üì±</div>
                                          <h4 class="activity-card__title">First Hour Tasks</h4>
                                          <p class="activity-card__description">eMuster 2.0, app chat setup, book specialty dinners</p>
                                       </div>
                                       <div class="activity-card">
                                          <div class="activity-card__icon" role="img" aria-label="Map">üó∫Ô∏è</div>
                                          <h4 class="activity-card__title">Ship Tour @ 2:00 PM</h4>
                                          <p class="activity-card__description">Meet at Guest Services for a quick orientation loop</p>
                                       </div>
                                       <div class="activity-card">
                                          <div class="activity-card__icon" role="img" aria-label="Salad">ü•ó</div>
                                          <h4 class="activity-card__title">Lunch Strategy</h4>
                                          <p class="activity-card__description">Skip Windjammer crowds and grab Solarium Bistro (Deck 11 aft)</p>
                                       </div>
                                    </div>
                                    <div class="chips mt-6">
                                       <span class="tag tag--essential">All Aboard 3:30 PM</span>
                                       <span class="tag tag--recommended">Early Arrival</span>
                                    </div>
                                 </div>
                              </div>
                              <!-- Day 2 -->
                              <div class="timeline-item" data-day="2">
                                 <span class="timeline-day">Day 2 ‚Ä¢ Feb 15</span>
                                 <div class="timeline-content">
                                    <h3>Perfect Day at CocoCay</h3>
                                    <p><strong>Time:</strong> 7:00 AM - 5:00 PM</p>
                                    <p><strong>Signature:</strong> Daredevil's Peak, Oasis Lagoon, Up Up &amp; Away</p>
                                    <div class="chips mt-4">
                                       <span class="tag tag--essential">All Aboard 4:30 PM</span>
                                       <span class="tag tag--recommended">Thrill Waterpark Early Entry</span>
                                    </div>
                                 </div>
                              </div>
                              <!-- Day 3 -->
                              <div class="timeline-item" data-day="3">
                                 <span class="timeline-day">Day 3 ‚Ä¢ Feb 16</span>
                                 <div class="timeline-content">
                                    <h3>At Sea</h3>
                                    <p><strong>Signature:</strong> FlowRider clinic, ice show "Cool Art"</p>
                                    <p><strong>Family Fun:</strong> FlowRider private lesson at 9:00 AM, cupcake decorating at 3:00 PM</p>
                                    <p><strong>Couples' Escape:</strong> Adults-only hot tub at 7:00 PM (Deck 11 aft)</p>
                                    <div class="chips mt-4">
                                       <span class="tag tag--recommended">Formal Night #1</span>
                                       <span class="tag tag--info">Captain's Welcome</span>
                                    </div>
                                 </div>
                              </div>
                              <!-- Day 4 -->
                              <div class="timeline-item" data-day="4">
                                 <span class="timeline-day">Day 4 ‚Ä¢ Feb 17</span>
                                 <div class="timeline-content">
                                    <h3>Falmouth, Jamaica</h3>
                                    <p><strong>Time:</strong> 7:00 AM - 4:00 PM</p>
                                    <p><strong>Signature:</strong> Dunn's River Falls + Blue Hole combo</p>
                                    <div class="chips mt-4">
                                       <span class="tag tag--essential">All Aboard 3:30 PM</span>
                                       <span class="tag tag--recommended">Water Shoes Required</span>
                                       <span class="tag tag--info">Local Cuisine</span>
                                    </div>
                                 </div>
                              </div>
                              <!-- Day 5 -->
                              <div class="timeline-item" data-day="5">
                                 <span class="timeline-day">Day 5 ‚Ä¢ Feb 18</span>
                                 <div class="timeline-content">
                                    <h3>Labadee, Haiti</h3>
                                    <p><strong>Time:</strong> 9:30 AM - 5:00 PM</p>
                                    <p><strong>Signature:</strong> Dragon's Breath Flight Line, Nellie's cabana</p>
                                    <div class="chips mt-4">
                                       <span class="tag tag--essential">All Aboard 4:30 PM</span>
                                       <span class="tag tag--recommended">Morning Zip-line Slot</span>
                                       <span class="tag tag--info">Photo Package Available</span>
                                    </div>
                                 </div>
                              </div>
                              <!-- Day 6 -->
                              <div class="timeline-item" data-day="6">
                                 <span class="timeline-day">Day 6 ‚Ä¢ Feb 19</span>
                                 <div class="timeline-content">
                                    <h3>At Sea</h3>
                                    <p><strong>Signature:</strong> Captain's Gala, formal night portraits</p>
                                    <div class="chips mt-4">
                                       <span class="tag tag--essential">Formal Night #2</span>
                                       <span class="tag tag--recommended">Portrait Sessions</span>
                                       <span class="tag tag--info">Farewell Events</span>
                                    </div>
                                 </div>
                              </div>
                              <!-- Day 7 -->
                              <div class="timeline-item" data-day="7">
                                 <span class="timeline-day">Day 7 ‚Ä¢ Feb 20</span>
                                 <div class="timeline-content">
                                    <h3>Port Canaveral - Return</h3>
                                    <p><strong>Arrival:</strong> 6:30 AM</p>
                                    <p><strong>Disembarkation:</strong> Facial-recognition customs (~10 minutes)</p>
                                    <div class="chips mt-4">
                                       <span class="tag tag--essential">Bags Out by Midnight</span>
                                       <span class="tag tag--info">Early Breakfast Available</span>
                                    </div>
                                 </div>
                              </div>
                           </div>
                        </div>
                     </div>
                  </section>
                  <!-- Dining Section -->
                  <section id="dining" class="section" aria-labelledby="diningTitle">
                     <div class="card">
                        <div class="card__header">
                           <div class="card__icon" aria-hidden="true">
                              <i class="fas fa-utensils"></i>
                           </div>
                           <div>
                              <h2 id="diningTitle" class="card__title">Dining &amp; Restaurants</h2>
                              <p class="card__subtitle">Culinary experiences onboard</p>
                           </div>
                           <button class="card__toggle" aria-expanded="false" aria-controls="diningContent">
                           <i class="fas fa-chevron-down" aria-hidden="true"></i>
                           <span class="sr-only">Toggle section</span>
                           </button>
                        </div>
                        <div id="diningContent" class="card__content collapsed">
                           <div class="dining-grid">
                              <!-- Specialty Dining -->
                              <div class="dining-card featured">
                                 <h3>Specialty Favorites</h3>
                                 <p class="mb-4">Reserve early for the most popular venues:</p>
                                 <ul class="guest-list mb-6">
                                    <li><strong>Chops Grille¬Æ:</strong> Prime steaks ‚Ä¢ $54 pp ‚Ä¢ ask for secret chimichurri</li>
                                    <li><strong>Izumi Hibachi &amp; Sushi:</strong> Teppanyaki + rolls ‚Ä¢ √† la carte ‚Ä¢ shout "Arigato" for bonus fried rice</li>
                                    <li><strong>Giovanni's Table:</strong> Rustic Italian ‚Ä¢ $46 pp ‚Ä¢ half-price lunch on port days</li>
                                    <li><strong>Izumi Sushi Roulette:</strong> Ask the chef for a surprise roll</li>
                                    <li><strong>Chef's Table Backstage:</strong> Tip ~$50 for a kitchen tour</li>
                                 </ul>
                                 <p class="text-sm text-light mb-4">Plan specialty dining around at-sea evenings to maximize time in port</p>
                                 <div class="dining-type">Premium Experience</div>
                              </div>
                              <!-- Main Dining -->
                              <div class="dining-card">
                                 <h3>Main Dining Room</h3>
                                 <p class="mb-4">Dress Code: 2 formal nights; smart casual other evenings</p>
                                 <p class="mb-2"><strong>My Time Dining:</strong> Pre-book or expect a wait</p>
                                 <p class="mb-6"><strong>Tip:</strong> Captain's Gala and formal portraits on the final sea day</p>
                                 <div class="dining-type">Included</div>
                              </div>
                              <!-- Casual Options -->
                              <div class="dining-card">
                                 <h3>Casual Dining &amp; Snacks</h3>
                                 <ul class="guest-list mb-6">
                                    <li><strong>Windjammer Caf√©:</strong> Global buffet ‚Ä¢ complimentary</li>
                                    <li><strong>Caf√© Promenade:</strong> 24/7 snacks and coffee</li>
                                    <li><strong>Room Service:</strong> Free continental breakfast (order via TV), $7.95 fee after 6 PM</li>
                                    <li><strong>Johnny Rockets:</strong> Classic burgers &amp; shakes ‚Ä¢ √† la carte</li>
                                    <li><strong>Ben &amp; Jerry's:</strong> Ice cream treats ‚Ä¢ extra charge</li>
                                 </ul>
                                 <div class="dining-type">Included</div>
                              </div>
                           </div>
                        </div>
                     </div>
                  </section>
                  <!-- Communication & Budget Section -->
                  <section id="communication" class="section" aria-labelledby="communicationTitle">
                     <div class="card">
                        <div class="card__header">
                           <div class="card__icon" aria-hidden="true">
                              <i class="fas fa-comments-dollar"></i>
                           </div>
                           <div>
                              <h2 id="communicationTitle" class="card__title">Communication &amp; Budget Plan</h2>
                              <p class="card__subtitle">Stay connected and manage expenses</p>
                           </div>
                           <button class="card__toggle" aria-expanded="false" aria-controls="communicationContent">
                           <i class="fas fa-chevron-down" aria-hidden="true"></i>
                           <span class="sr-only">Toggle section</span>
                           </button>
                        </div>
                        <div id="communicationContent" class="card__content collapsed">
                           <div class="tips-grid">
                              <!-- Connectivity Plan -->
                              <div class="tip-card">
                                 <div class="tip-header">
                                    <div class="tip-icon">üì±</div>
                                    <h4>Connectivity Plan</h4>
                                 </div>
                                 <ul class="guest-list">
                                    <li><strong>Royal app chat:</strong> Free on ship Wi-Fi for group updates</li>
                                    <li><strong>VOOM Surf + Stream:</strong> From ~$16 pp/day (pre-cruise)</li>
                                    <li><strong>In port:</strong> WhatsApp if on cellular or local Wi-Fi</li>
                                    <li><strong>Best Wi-Fi signal:</strong> Deck 4 library zones</li>
                                    <li><strong>Before sailaway:</strong> Set airplane mode to avoid roaming fees</li>
                                 </ul>
                                 <div class="chips mt-4">
                                    <span class="tag tag--info">110V/220V Outlets + USB</span>
                                    <span class="tag tag--recommended">WhatsApp: RaheCruise2026</span>
                                 </div>
                              </div>
                              <!-- Policies & Gratuities -->
                              <div class="tip-card">
                                 <div class="tip-header">
                                    <div class="tip-icon">üßæ</div>
                                    <h4>Policies &amp; Gratuities</h4>
                                 </div>
                                 <ul class="guest-list">
                                    <li><strong>Daily gratuities:</strong> $18.50 pp/day ($21 suites) auto-charge or pre-pay</li>
                                    <li><strong>Alcohol policy:</strong> 1 sealed 750 ml wine/champagne per adult at embarkation</li>
                                    <li><strong>Smoking areas:</strong> Port side Deck 11 + Casino Royale designated zone</li>
                                    <li><strong>Dress code:</strong> 2 formal nights, smart casual other nights</li>
                                    <li><strong>Age restrictions:</strong> Must be 21 to drink, 18 to gamble</li>
                                 </ul>
                                 <div class="chips mt-4">
                                    <span class="tag tag--recommended">Review SeaPass Charges Nightly</span>
                                 </div>
                              </div>
                              <!-- Budget Dashboard -->
                              <div class="tip-card">
                                 <div class="tip-header">
                                    <div class="tip-icon">üí≥</div>
                                    <h4>Budget Dashboard</h4>
                                 </div>
                                 <ul class="guest-list">
                                    <li><strong>Excursions:</strong> $800 (Dunn's River Falls, Dragon's Breath, CocoCay)</li>
                                    <li><strong>Specialty Dining:</strong> $300 (3 restaurants for 2 people)</li>
                                    <li><strong>Drinks Package:</strong> $400 (Deluxe Beverage for 2)</li>
                                    <li><strong>VOOM Wi-Fi:</strong> $150 (2 devices for 6 nights)</li>
                                    <li><strong>Souvenirs:</strong> $300 (gifts, photos, keepsakes)</li>
                                    <li><strong>Onboard Credits:</strong> $200 (applied to SeaPass)</li>
                                 </ul>
                                 <p class="text-sm text-light mt-4">Use a shared Google Sheet for real-time expense tracking</p>
                                 <div class="chips mt-4">
                                    <span class="tag tag--essential">Track Totals Nightly</span>
                                 </div>
                              </div>
                           </div>
                        </div>
                     </div>
                  </section>
                  <!-- Tips Section -->
                  <section id="tips" class="section" aria-labelledby="tipsTitle">
                     <div class="card">
                        <div class="card__header">
                           <div class="card__icon" aria-hidden="true">
                              <i class="fas fa-lightbulb"></i>
                           </div>
                           <div>
                              <h2 id="tipsTitle" class="card__title">Pro Tips &amp; Recommendations</h2>
                              <p class="card__subtitle">Expert advice for the perfect cruise</p>
                           </div>
                           <button class="card__toggle" aria-expanded="false" aria-controls="tipsContent">
                           <i class="fas fa-chevron-down" aria-hidden="true"></i>
                           <span class="sr-only">Toggle section</span>
                           </button>
                        </div>
                        <div id="tipsContent" class="card__content collapsed">
                           <div class="tips-grid">
                              <!-- Tip 1 -->
                              <div class="tip-card">
                                 <div class="tip-header">
                                    <div class="tip-icon">üì±</div>
                                    <h4>Royal App is Essential</h4>
                                 </div>
                                 <p>Download before you sail. Use for daily schedules, onboard chat, and account monitoring. Enable notifications for important announcements.</p>
                                 <div class="chips mt-4">
                                    <span class="tag tag--essential">Must Do</span>
                                    <span class="tag tag--info">Free Onboard</span>
                                 </div>
                              </div>
                              <!-- Tip 2 -->
                              <div class="tip-card">
                                 <div class="tip-header">
                                    <div class="tip-icon">üëï</div>
                                    <h4>Packing Checklist</h4>
                                 </div>
                                 <p>Mid-Feb temps: 75-82¬∞F days, 68¬∞F nights. Pack light layers, reef-safe SPF 50, quick-dry swimwear, water shoes, and two formal outfits.</p>
                                 <ul class="guest-list mt-2">
                                    <li>Passports valid beyond Aug 2026</li>
                                    <li>Excursions booked in Cruise Planner</li>
                                    <li>Magnetic hooks, USB-C hub, night-light</li>
                                    <li>Motion sickness remedies</li>
                                 </ul>
                                 <div class="chips mt-4">
                                    <span class="tag tag--recommended">Ready-to-Print</span>
                                 </div>
                              </div>
                              <!-- Tip 3 -->
                              <div class="tip-card">
                                 <div class="tip-header">
                                    <div class="tip-icon">üë®‚Äçüë©‚Äçüëß‚Äçüë¶</div>
                                    <h4>Family Programs</h4>
                                 </div>
                                 <p>Adventure Ocean (3-12), Teen Lounge (13-17), Royal Babies &amp; Tots (6-36 mo, reservation-only), and Splashaway Bay for littles.</p>
                                 <div class="chips mt-4">
                                    <span class="tag tag--info">All Ages</span>
                                    <span class="tag tag--recommended">Early Registration</span>
                                 </div>
                              </div>
                              <!-- Tip 4 -->
                              <div class="tip-card">
                                 <div class="tip-header">
                                    <div class="tip-icon">üïê</div>
                                    <h4>Ship Time vs. Local Time</h4>
                                 </div>
                                 <p>Always follow ship time, not local port time, to avoid missing departure. Set watches to ship time and double-check before leaving ship.</p>
                                 <div class="chips mt-4">
                                    <span class="tag tag--essential">Critical</span>
                                 </div>
                              </div>
                              <!-- Tip 5 -->
                              <div class="tip-card">
                                 <div class="tip-header">
                                    <div class="tip-icon">üèùÔ∏è</div>
                                    <h4>Ports Playbook</h4>
                                 </div>
                                 <p>CocoCay: Chill Island cabanas include snorkel gear + lunch. Falmouth: pair Dunn's River Falls with Blue Hole. Labadee: morning zip-line slot is cooler.</p>
                                 <div class="chips mt-4">
                                    <span class="tag tag--recommended">Insider Tips</span>
                                 </div>
                              </div>
                              <!-- Tip 6 -->
                              <div class="tip-card">
                                 <div class="tip-header">
                                    <div class="tip-icon">üì∏</div>
                                    <h4>Photo &amp; Video</h4>
                                 </div>
                                 <p>Unlimited Digital Package $249 (formal + gangway + FlowRider shots). Video recap $149 if pre-ordered. Best photos on formal nights.</p>
                                 <div class="chips mt-4">
                                    <span class="tag tag--info">Keepsakes</span>
                                    <span class="tag tag--recommended">Pre-Cruise Discount</span>
                                 </div>
                              </div>
                              <!-- Tip 7 -->
                              <div class="tip-card">
                                 <div class="tip-header">
                                    <div class="tip-icon">üëë</div>
                                    <h4>Crown &amp; Anchor</h4>
                                 </div>
                                 <p>Earn 1 point per night (2 in suites). Gold at 3+ points, Platinum at 30, Diamond at 80. Benefits include priority check-in and exclusive events.</p>
                                 <div class="chips mt-4">
                                    <span class="tag tag--info">Loyalty</span>
                                 </div>
                              </div>
                              <!-- Tip 8 -->
                              <div class="tip-card">
                                 <div class="tip-header">
                                    <div class="tip-icon">ü©∫</div>
                                    <h4>Accessibility &amp; Health</h4>
                                 </div>
                                 <p>26 accessible cabins, pool lifts, captioned TVs, service-animal friendly. Medical Center Deck 1 (~$150 visit). Bring prescription copies.</p>
                                 <div class="chips mt-4">
                                    <span class="tag tag--essential">Plan Ahead</span>
                                 </div>
                              </div>
                              <!-- Tip 9 -->
                              <div class="tip-card">
                                 <div class="tip-header">
                                    <div class="tip-icon">‚ùì</div>
                                    <h4>FAQ Quick Hits</h4>
                                 </div>
                                 <ul class="guest-list">
                                    <li>Two formal nights on a 6-night sailing</li>
                                    <li>Streaming works with VOOM Surf + Stream</li>
                                    <li>Refill water bottles at Windjammer + Caf√© Promenade</li>
                                    <li>Towels provided ashore (scan SeaPass)</li>
                                 </ul>
                                 <div class="chips mt-4">
                                    <span class="tag tag--info">Good to Know</span>
                                 </div>
                              </div>
                              <!-- Tip 10 -->
                              <div class="tip-card">
                                 <div class="tip-header">
                                    <div class="tip-icon">üß≠</div>
                                    <h4>Cruise Lingo &amp; Loyalty Perks</h4>
                                 </div>
                                 <ul class="guest-list">
                                    <li><strong>Muster Drill:</strong> Safety briefing (now electronic)</li>
                                    <li><strong>Port vs. Starboard:</strong> Left vs. right (facing the bow)</li>
                                    <li><strong>SeaPass:</strong> Onboard ID + payment card</li>
                                    <li><strong>Tender:</strong> Small boat to shore (not needed this sailing)</li>
                                    <li><strong>Diamond:</strong> Free drinks 5-8 PM in Suite Lounge</li>
                                 </ul>
                                 <div class="chips mt-4">
                                    <span class="tag tag--recommended">First-Timers + Veterans</span>
                                 </div>
                              </div>
                              <!-- Tip 11 -->
                              <div class="tip-card">
                                 <div class="tip-header">
                                    <div class="tip-icon">üõ≥Ô∏è</div>
                                    <h4>Ship Overview Highlights</h4>
                                 </div>
                                 <ul class="guest-list">
                                    <li><strong>Thrills:</strong> Typhoon &amp; Cyclone waterslides + glow-in-the-dark laser tag</li>
                                    <li><strong>Dining:</strong> Izumi Hibachi + Windjammer global street food stations</li>
                                    <li><strong>Tech:</strong> Starlink Wi-Fi + RFID luggage tracking in the app</li>
                                 </ul>
                                 <div class="chips mt-4">
                                    <span class="tag tag--info">Amplified 2018+</span>
                                 </div>
                              </div>
                              <!-- Tip 12 -->
                              <div class="tip-card">
                                 <div class="tip-header">
                                    <div class="tip-icon">üó∫Ô∏è</div>
                                    <h4>Deck Cheat Sheet</h4>
                                 </div>
                                 <ul class="guest-list">
                                    <li><strong>Deck 11:</strong> Pools + Windjammer. Climb to Deck 12 for quiet seating</li>
                                    <li><strong>Deck 5:</strong> Royal Promenade. Caf√© Promenade snacks 24/7 (choco croissants @ 3 AM)</li>
                                    <li><strong>Deck 13:</strong> FlowRider¬Æ. Early AM = no lines</li>
                                 </ul>
                                 <div class="chips mt-4">
                                    <span class="tag tag--recommended">Know the Shortcuts</span>
                                 </div>
                              </div>
                              <!-- Tip 13 -->
                              <div class="tip-card">
                                 <div class="tip-header">
                                    <div class="tip-icon">üõå</div>
                                    <h4>Cabin Hacks</h4>
                                 </div>
                                 <ul class="guest-list">
                                    <li><strong>Magnetic walls:</strong> Use 10 lb+ hooks for schedules</li>
                                    <li><strong>Nightlight:</strong> USB stick-on light for late-night walks</li>
                                    <li><strong>Balcony etiquette:</strong> Close curtains at night for privacy</li>
                                    <li><strong>Interior cabins:</strong> Use the bridge cam TV for a virtual "window"</li>
                                 </ul>
                                 <div class="chips mt-4">
                                    <span class="tag tag--recommended">Sleep Smarter</span>
                                 </div>
                              </div>
                              <!-- Tip 14 -->
                              <div class="tip-card">
                                 <div class="tip-header">
                                    <div class="tip-icon">üé™</div>
                                    <h4>Activities for Everyone</h4>
                                 </div>
                                 <ul class="guest-list">
                                    <li><strong>Families:</strong> Adventure Ocean Late Night (after 10 PM, $7/hr)</li>
                                    <li><strong>Families:</strong> Laser Tag Tournament ‚Äî loser buys milkshakes</li>
                                    <li><strong>Couples:</strong> Helipad stargazing 10-11 PM on sea days</li>
                                    <li><strong>Couples:</strong> Couples massage 30% off on port days</li>
                                 </ul>
                                 <div class="chips mt-4">
                                    <span class="tag tag--info">Something for Every Crew</span>
                                 </div>
                              </div>
                              <!-- Tip 15 -->
                              <div class="tip-card">
                                 <div class="tip-header">
                                    <div class="tip-icon">üå¥</div>
                                    <h4>Port Guides: Falmouth &amp; Labadee</h4>
                                 </div>
                                 <ul class="guest-list">
                                    <li><strong>Falmouth safety:</strong> Stay in gated port area unless on a tour</li>
                                    <li><strong>Blue Hole tour:</strong> "Rasta Dave" WhatsApp <a href="tel:+1 876-555-0123">+1 876-555-0123</a> ($40/person)</li>
                                    <li><strong>Labadee:</strong> Dragon's Breath Zipline (min weight 75 lbs)</li>
                                    <li><strong>Nellie's Beach Cabana:</strong> Suites get corkage fee waived</li>
                                 </ul>
                                 <div class="chips mt-4">
                                    <span class="tag tag--recommended">Local Flavor</span>
                                 </div>
                              </div>
                              <!-- Tip 16 -->
                              <div class="tip-card">
                                 <div class="tip-header">
                                    <div class="tip-icon">üí∞</div>
                                    <h4>Budget Tips &amp; Splurges</h4>
                                 </div>
                                 <ul class="guest-list">
                                    <li><strong>Wi-Fi:</strong> $18/day (first-timers) vs. $14/day (Diamond)</li>
                                    <li><strong>Photos:</strong> $199 unlimited vs. $99 Platinum deal</li>
                                    <li><strong>Freebies:</strong> Champagne at art auction + Captain's Toast</li>
                                    <li><strong>Deals:</strong> Shop clearance on Day 6</li>
                                    <li><strong>Splurges:</strong> The Key ($25/day) + Vintage Wine Trio ($120)</li>
                                 </ul>
                                 <div class="chips mt-4">
                                    <span class="tag tag--recommended">Stretch the Spend</span>
                                 </div>
                              </div>
                              <!-- Tip 17 -->
                              <div class="tip-card">
                                 <div class="tip-header">
                                    <div class="tip-icon">üß≥</div>
                                    <h4>Packing Checklist</h4>
                                 </div>
                                 <ul class="guest-list">
                                    <li><strong>First-timer essentials:</strong> Over-door organizer, highlighter</li>
                                    <li><strong>Veteran upgrades:</strong> Non-surge power strip, portable laundry line</li>
                                    <li><strong>Weather prep:</strong> UPF rash guards, cooling towels, pashmina</li>
                                 </ul>
                                 <div class="chips mt-4">
                                    <span class="tag tag--essential">Pack Smart</span>
                                 </div>
                              </div>
                              <!-- Tip 18 -->
                              <div class="tip-card">
                                 <div class="tip-header">
                                    <div class="tip-icon">üö®</div>
                                    <h4>Safety &amp; Prep</h4>
                                 </div>
                                 <ul class="guest-list">
                                    <li>Store passports in cabin safe, not checked bags</li>
                                    <li>Closed-toe shoes for rock climbing and active excursions</li>
                                    <li>Upload vaccine cards/scripts pre-cruise</li>
                                    <li>Carry $200 in small bills for ports + tipping</li>
                                 </ul>
                                 <div class="chips mt-4">
                                    <span class="tag tag--essential">Must-Do</span>
                                 </div>
                              </div>
                              <!-- Tip 19 -->
                              <div class="tip-card">
                                 <div class="tip-header">
                                    <div class="tip-icon">üì∂</div>
                                    <h4>Tech &amp; Connectivity</h4>
                                 </div>
                                 <ul class="guest-list">
                                    <li>Download the Royal Caribbean app before travel</li>
                                    <li>Use the AR tour in-app to explore suites</li>
                                    <li>Set airplane mode before sailaway to avoid roaming</li>
                                    <li>Bring portable charger for shore days</li>
                                 </ul>
                                 <div class="chips mt-4">
                                    <span class="tag tag--info">Stay Connected</span>
                                 </div>
                              </div>
                              <!-- Tip 20 -->
                              <div class="tip-card">
                                 <div class="tip-header">
                                    <div class="tip-icon">üóÇÔ∏è</div>
                                    <h4>Organize Like a Pro</h4>
                                 </div>
                                 <ul class="guest-list">
                                    <li><strong>Binder tabs:</strong> Daily plans, port maps, budget tracker</li>
                                    <li><strong>Digital:</strong> Shared Google Sheet + WhatsApp group</li>
                                    <li><strong>Color coding:</strong> Assign colors to family members</li>
                                    <li><strong>Checklists:</strong> Pre-cruise, embarkation, disembarkation</li>
                                 </ul>
                                 <div class="chips mt-4">
                                    <span class="tag tag--recommended">Smooth Coordination</span>
                                 </div>
                              </div>
                              <!-- Tip 21 -->
                              <div class="tip-card">
                                 <div class="tip-header">
                                    <div class="tip-icon">üÜò</div>
                                    <h4>Emergency Contacts</h4>
                                 </div>
                                 <ul class="guest-list">
                                    <li><strong>Ship Infirmary:</strong> Deck 1 ‚Äî Dial 911 onboard</li>
                                    <li><strong>Cruise Admin:</strong> Melissa ‚Äî +1 (XXX) XXX-XXXX</li>
                                    <li><strong>Jamaica U.S. Embassy:</strong> <a href="tel:+1 876-702-6000">+1 876-702-6000</a></li>
                                    <li><strong>Royal Caribbean Help Desk:</strong> via the app</li>
                                 </ul>
                                 <div class="chips mt-4">
                                    <span class="tag tag--essential">Print This</span>
                                 </div>
                              </div>
                           </div>
                        </div>
                     </div>
                  </section>
                  <!-- VIP Upgrades Section -->
                  <section id="integrate" class="section" aria-labelledby="integrateTitle">
                     <div class="card card--highlight">
                        <div class="card__header">
                           <div class="card__icon" aria-hidden="true">
                              <i class="fas fa-star"></i>
                           </div>
                           <div>
                              <h2 id="integrateTitle" class="card__title">VIP Upgrades: Platinum Edition Highlights</h2>
                              <p class="card__subtitle">Premium experiences with clear value props for the Rahe Family Ultimate Caribbean Cruise Companion</p>
                           </div>
                           <button class="card__toggle" aria-expanded="false" aria-controls="integrateContent">
                           <i class="fas fa-chevron-down" aria-hidden="true"></i>
                           <span class="sr-only">Toggle section</span>
                           </button>
                        </div>
                        <div id="integrateContent" class="card__content collapsed">
                           <div class="tips-grid">
                              <!-- VIP Voyage Add-ons -->
                              <div class="tip-card">
                                 <div class="tip-header">
                                    <div class="tip-icon">‚öì</div>
                                    <h4>VIP Voyage Add-ons</h4>
                                 </div>
                                 <ul class="guest-list">
                                    <li><strong>First-to-dock priority:</strong> secure early entry to Thrill Waterpark at CocoCay</li>
                                    <li><strong>Suite-only immersion:</strong> private artisan market guide in Labadee</li>
                                    <li><strong>Speakeasy alert:</strong> ask for the "Frosted Mule" behind the ice rink</li>
                                    <li><strong>Bridge tour:</strong> exclusive behind-the-scenes access</li>
                                    <li><strong>Personal concierge:</strong> dedicated staff for special requests</li>
                                 </ul>
                                 <div class="chips mt-4">
                                    <span class="tag tag--recommended">VIP Experience</span>
                                 </div>
                              </div>
                              <!-- Hero Moments & Signature Wins -->
                              <div class="tip-card">
                                 <div class="tip-header">
                                    <div class="tip-icon">üó∫Ô∏è</div>
                                    <h4>Hero Moments &amp; Signature Wins</h4>
                                 </div>
                                 <ul class="guest-list">
                                    <li>Sunrise zip line in Labadee + helipad stargazing at sea</li>
                                    <li>Blue Hole secret lagoon in Jamaica with waterproof LED lights</li>
                                    <li>Floating cabana at CocoCay (6 total) with butler service</li>
                                    <li>Private FlowRider lesson with champion surfer</li>
                                    <li>Behind-the-scenes kitchen tour with executive chef</li>
                                 </ul>
                                 <div class="chips mt-4">
                                    <span class="tag tag--recommended">Unforgettable Memories</span>
                                 </div>
                              </div>
                              <!-- Stateroom Strategy -->
                              <div class="tip-card">
                                 <div class="tip-header">
                                    <div class="tip-icon">üõå</div>
                                    <h4>Stateroom Strategy</h4>
                                 </div>
                                 <ul class="guest-list">
                                    <li>Balcony 6650: pre-order pillow menu (memory foam, lavender, cooling gel)</li>
                                    <li>Interior 6443: pack a mini projector for a cinema night</li>
                                    <li>Deck 7/8 balcony: schedule sunrise yoga via the app</li>
                                    <li>Suite amenities: complimentary pressing, priority boarding</li>
                                    <li>Connecting rooms: coordinate schedules with magnetic boards</li>
                                 </ul>
                                 <div class="chips mt-4">
                                    <span class="tag tag--recommended">Enhanced Comfort</span>
                                 </div>
                              </div>
                              <!-- Dining & Toast Hacks -->
                              <div class="tip-card">
                                 <div class="tip-header">
                                    <div class="tip-icon">üç∑</div>
                                    <h4>Dining &amp; Toast Hacks</h4>
                                 </div>
                                 <ul class="guest-list">
                                    <li>Chops Grille: request truffle mac off-menu + dessert flight</li>
                                    <li>Giovanni's Table: port-day lunch for half-price + limoncello</li>
                                    <li>Windjammer: 6:30 AM cronuts + made-to-order pho station</li>
                                    <li>Chef's Table: wine pairing with each course</li>
                                    <li>Room service: extended hours for suite guests</li>
                                 </ul>
                                 <div class="chips mt-4">
                                    <span class="tag tag--recommended">Culinary Excellence</span>
                                 </div>
                              </div>
                              <!-- Family Playbook -->
                              <div class="tip-card">
                                 <div class="tip-header">
                                    <div class="tip-icon">üë®‚Äçüë©‚Äçüëß‚Äçüë¶</div>
                                    <h4>Family Playbook</h4>
                                 </div>
                                 <ul class="guest-list">
                                    <li>Tots: themed character night + cookie decorating</li>
                                    <li>Kids: junior mixology mocktail class</li>
                                    <li>Teens: Instagram scavenger hunt with FlowRider prize</li>
                                    <li>Adults: mixology class with master bartender</li>
                                    <li>Multi-generational: family talent show night</li>
                                 </ul>
                                 <div class="chips mt-4">
                                    <span class="tag tag--recommended">All Ages Fun</span>
                                 </div>
                              </div>
                              <!-- Legacy & Sustainability -->
                              <div class="tip-card">
                                 <div class="tip-header">
                                    <div class="tip-icon">üåç</div>
                                    <h4>Legacy &amp; Sustainability</h4>
                                 </div>
                                 <ul class="guest-list">
                                    <li>Enable Journey Mode in the Royal Caribbean app for AI itinerary tuning</li>
                                    <li>Book Memory Maker for 4K drone footage at Dunn's River Falls</li>
                                    <li>Join Green Anchor: recycle 5 bottles for a free cocktail</li>
                                    <li>Carbon offset: optional contribution to ocean conservation</li>
                                    <li>Local sourcing: support artisan markets in port</li>
                                 </ul>
                                 <div class="chips mt-4">
                                    <span class="tag tag--recommended">Responsible Travel</span>
                                 </div>
                              </div>
                           </div>
                           <div class="note note--accent mt-8">
                              <strong>VIP Digital Passport:</strong> Add a QR code placeholder for captain's videos, crew secrets, and a live countdown clock. Access exclusive content via the Royal app.
                           </div>
                        </div>
                     </div>
                  </section>
               </div>
               <!-- Right Column - Sidebar -->
               <aside class="sidebar" aria-label="Supplementary information">
                  <!-- Focus This Week -->
                  <div class="sidebar-card sidebar-card--highlight">
                     <h3 class="sidebar-card__title">
                        <i class="fas fa-bullseye" aria-hidden="true"></i>
                        Focus This Week
                     </h3>
                     <ul class="list list--icon">
                        <li>
                           <i class="fas fa-check-circle text-success" aria-hidden="true"></i>
                           <span>Finalize 11:00 AM check-in</span>
                        </li>
                        <li>
                           <i class="fas fa-link text-primary" aria-hidden="true"></i>
                           <span>Link bookings in Royal app</span>
                        </li>
                        <li>
                           <i class="fas fa-calendar text-accent" aria-hidden="true"></i>
                           <span>Reserve Dunn's River + Dragon's Breath</span>
                        </li>
                        <li>
                           <i class="fas fa-utensils text-warning" aria-hidden="true"></i>
                           <span>Lock dining plans</span>
                        </li>
                        <li>
                           <i class="fas fa-passport text-info" aria-hidden="true"></i>
                           <span>Check passport expiration</span>
                        </li>
                     </ul>
                  </div>
                  <!-- Quick Links -->
                  <div class="sidebar-card">
                     <h3 class="sidebar-card__title">
                        <i class="fas fa-link" aria-hidden="true"></i>
                        Quick Navigation
                     </h3>
                     <nav aria-label="Page sections">
                        <ul class="sidebar-links">
                           <li>
                              <button class="sidebar-link" data-section="overview">
                              <i class="fas fa-anchor" aria-hidden="true"></i>
                              <span>Start Here</span>
                              </button>
                           </li>
                           <li>
                              <button class="sidebar-link" data-section="operations">
                              <i class="fas fa-compass" aria-hidden="true"></i>
                              <span>Ops Manual</span>
                              </button>
                           </li>
                           <li>
                              <button class="sidebar-link" data-section="rooms">
                              <i class="fas fa-bed" aria-hidden="true"></i>
                              <span>Room Details</span>
                              </button>
                           </li>
                           <li>
                              <button class="sidebar-link" data-section="itinerary">
                              <i class="fas fa-map-marked-alt" aria-hidden="true"></i>
                              <span>Daily Schedule</span>
                              </button>
                           </li>
                           <li>
                              <button class="sidebar-link" data-section="dining">
                              <i class="fas fa-concierge-bell" aria-hidden="true"></i>
                              <span>Dining Options</span>
                              </button>
                           </li>
                           <li>
                              <button class="sidebar-link" data-section="communication">
                              <i class="fas fa-comments-dollar" aria-hidden="true"></i>
                              <span>Comms &amp; Budget</span>
                              </button>
                           </li>
                           <li>
                              <button class="sidebar-link" data-section="tips">
                              <i class="fas fa-star" aria-hidden="true"></i>
                              <span>Pro Tips</span>
                              </button>
                           </li>
                           <li>
                              <button class="sidebar-link" data-section="integrate">
                              <i class="fas fa-rocket" aria-hidden="true"></i>
                              <span>VIP Upgrades</span>
                              </button>
                           </li>
                        </ul>
                     </nav>
                  </div>
                  <!-- Important Dates -->
                  <div class="sidebar-card">
                     <h3 class="sidebar-card__title">
                        <i class="fas fa-calendar-check" aria-hidden="true"></i>
                        Key Dates
                     </h3>
                     <ul class="date-list">
                        <li class="date-item">
                           <span class="date-label">Online Check-in Opens</span>
                           <span class="date-value">~Dec 31, 2025</span>
                        </li>
                        <li class="date-item">
                           <span class="date-label">Cruise Departure</span>
                           <span class="date-value">Feb 14, 2026</span>
                        </li>
                        <li class="date-item">
                           <span class="date-label">First Port (CocoCay)</span>
                           <span class="date-value">Feb 15, 2026</span>
                        </li>
                        <li class="date-item">
                           <span class="date-label">Falmouth, Jamaica</span>
                           <span class="date-value">Feb 17, 2026</span>
                        </li>
                        <li class="date-item">
                           <span class="date-label">Labadee, Haiti</span>
                           <span class="date-value">Feb 18, 2026</span>
                        </li>
                        <li class="date-item">
                           <span class="date-label">Return to Port</span>
                           <span class="date-value">Feb 20, 2026</span>
                        </li>
                     </ul>
                  </div>
                  <!-- Weather Widget -->
                  <div class="sidebar-card">
                     <h3 class="sidebar-card__title">
                        <i class="fas fa-sun" aria-hidden="true"></i>
                        Caribbean Weather
                     </h3>
                     <div class="weather-widget">
                        <div class="weather-icon" role="img" aria-label="Partly Cloudy" style="opacity: 1;">üå§Ô∏è</div>
                        <div class="weather-temp" id="weatherTemp" style="opacity: 1;">82¬∞F</div>
                        <div class="weather-condition" id="weatherCondition" style="opacity: 1;">Partly Cloudy</div>
                        <p class="weather-forecast">
                           Typical February weather: 75-82¬∞F days, 68¬∞F nights. Ideal for outdoor activities. Light breeze from the east.
                        </p>
                     </div>
                  </div>
                  <!-- Emergency Info -->
                  <div class="sidebar-card">
                     <h3 class="sidebar-card__title">
                        <i class="fas fa-first-aid" aria-hidden="true"></i>
                        Emergency Info
                     </h3>
                     <ul class="list list--icon">
                        <li>
                           <i class="fas fa-hospital" aria-hidden="true"></i>
                           <span>Medical Center: Deck 1 (24/7)</span>
                        </li>
                        <li>
                           <i class="fas fa-phone-alt" aria-hidden="true"></i>
                           <span>Emergency: Dial 911 from cabin phone</span>
                        </li>
                        <li>
                           <i class="fas fa-user-friends" aria-hidden="true"></i>
                           <span>eMuster Station: F6 (Deck 4)</span>
                        </li>
                        <li>
                           <i class="fas fa-life-ring" aria-hidden="true"></i>
                           <span>Life Jackets: Under bed storage</span>
                        </li>
                        <li>
                           <i class="fas fa-shield-alt" aria-hidden="true"></i>
                           <span>Security: Deck 2 (24/7 patrol)</span>
                        </li>
                     </ul>
                  </div>
                  <!-- Traveler Count -->
                  <div class="sidebar-card">
                     <h3 class="sidebar-card__title">
                        <i class="fas fa-users" aria-hidden="true"></i>
                        Traveler Summary
                     </h3>
                     <div class="grid grid-cols-2 gap-4 mt-4">
                        <div class="text-center p-4 bg-light rounded-lg">
                           <div class="text-3xl font-bold text-primary">14</div>
                           <div class="text-sm text-light">Travelers</div>
                        </div>
                        <div class="text-center p-4 bg-light rounded-lg">
                           <div class="text-3xl font-bold text-accent">5</div>
                           <div class="text-sm text-light">Staterooms</div>
                        </div>
                        <div class="text-center p-4 bg-light rounded-lg">
                           <div class="text-3xl font-bold text-teal">3</div>
                           <div class="text-sm text-light">Ports</div>
                        </div>
                        <div class="text-center p-4 bg-light rounded-lg">
                           <div class="text-3xl font-bold text-success">6</div>
                           <div class="text-sm text-light">Nights</div>
                        </div>
                     </div>
                  </div>
               </aside>
            </div>
         </div>
      </main>
      <!-- Floating Actions -->
      <div class="floating-actions" aria-label="Quick actions">
         <button class="fab fab--critical" id="jumpToCriticalBtn" aria-label="Jump to critical checklist">
         <i class="fas fa-exclamation-triangle" aria-hidden="true"></i>
         </button>
         <button class="fab fab--compact active" id="compactToggleBtn" aria-pressed="true" aria-label="Toggle compact mode">
         <i class="fas fa-compress-alt" aria-hidden="true"></i>
         </button>
      </div>
      <!-- Bottom Navigation for Mobile -->
      <nav class="bottom-nav" aria-label="Mobile navigation">
         <button class="nav-item" data-section="overview">
         <span class="emoji" aria-hidden="true">üö¢</span>
         <span>Start Here</span>
         </button>
         <button class="nav-item" data-section="operations">
         <span class="emoji" aria-hidden="true">‚öì</span>
         <span>Ops</span>
         <span class="nav-badge" id="criticalCountBadge" style="display: inline-flex;">5</span>
         </button>
         <button class="nav-item" data-section="itinerary">
         <span class="emoji" aria-hidden="true">üå¥</span>
         <span>Schedule</span>
         </button>
         <button class="nav-item" data-section="tips">
         <span class="emoji" aria-hidden="true">üåä</span>
         <span>Tips</span>
         </button>
         <button class="nav-item" id="mobileMoreBtn">
         <span class="emoji" aria-hidden="true">üö¢</span>
         <span>More</span>
         </button>
      </nav>
      <!-- Official Royal Caribbean Footer -->
      <footer class="rc-official-footer" role="contentinfo">
         <div class="container">
            <div class="rc-footer-main">
               <div class="rc-logo-section">
                  <img src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 220 60'><rect width='220' height='60' fill='%230054a4'/><text x='12' y='34' font-family='Montserrat, Arial, sans-serif' font-size='20' fill='white'>Royal Caribbean</text><text x='12' y='52' font-family='Source Sans Pro, Arial, sans-serif' font-size='12' fill='white'>International</text></svg>" alt="Royal Caribbean International" height="40">
                  <p class="rc-tagline">World's Best Cruise Line<br>14 Years Running</p>
               </div>
               <div class="rc-legal-links">
                  <a href="#">Privacy Policy</a> ‚Ä¢
                  <a href="#">Terms of Use</a> ‚Ä¢
                  <a href="#">Health &amp; Safety</a> ‚Ä¢
                  <a href="#">Accessibility</a>
               </div>
               <div class="rc-contact-info">
                  <p><strong>Need Help?</strong></p>
                  <p><span class="emoji" aria-hidden="true">üìû</span> 1-866-562-7625</p>
                  <p><span class="emoji" aria-hidden="true">‚úâÔ∏è</span> guestservices@royalcaribbean.com</p>
               </div>
            </div>
            <div class="rc-footer-disclaimer">
               <p>¬© 2026 Royal Caribbean International. Ships' Registry: The Bahamas. All dining, entertainment, and shore excursions are subject to change. Refer to the Royal Caribbean app for the most current information.</p>
               <p class="rc-copyright">ADVENTURE OF THE SEAS¬Æ ‚Ä¢ VOYAGER CLASS ‚Ä¢ AMPLIFIED 2018</p>
            </div>
         </div>
      </footer>
      <!-- Complete JavaScript -->
      <script>
         // ============================================================================
         // CRUISE COMPANION APPLICATION - PRODUCTION READY
         // Version: 2.0.0
         // Date: 2026-01-15
         // ============================================================================
         
         'use strict';
         
         // ============================================================================
         // CONFIGURATION & CONSTANTS
         // ============================================================================
         
         const CONFIG = {
          // Application
          APP_NAME: 'Cruise Companion',
          APP_VERSION: '2.0.0',
          
          // Cruise Details
          CRUISE_DATE: '2026-02-14T10:30:00-05:00',
          CRUISE_DURATION: 6,
          SHIP_NAME: 'Adventure of the Seas',
          SAILING_NUMBER: '12345678',
          MUSTER_STATION: 'F6',
          EMBARKATION_TIME: '11:00 AM',
          
          // Ports
          PORTS: [
              { id: 'cococay', name: 'Perfect Day at CocoCay', day: 2, arrival: '7:00 AM', departure: '5:00 PM' },
              { id: 'falmouth', name: 'Falmouth, Jamaica', day: 4, arrival: '7:00 AM', departure: '4:00 PM' },
              { id: 'labadee', name: 'Labadee, Haiti', day: 5, arrival: '9:30 AM', departure: '5:00 PM' }
          ],
          
          // Styling
          BREAKPOINTS: {
              MOBILE: 768,
              TABLET: 1024,
              DESKTOP: 1280
          },
          
          // Performance
          DEBOUNCE_DELAY: 300,
          TOAST_DURATION: 3000,
          LOADING_DELAY: 1000,
          
          // Storage Keys
          STORAGE_KEYS: {
              PREFERENCES: 'cruise_preferences_v2',
              SEARCH_HISTORY: 'cruise_search_history_v2',
              COMPACT_MODE: 'cruise_compact_mode',
              CRITICAL_FILTER: 'cruise_critical_filter',
              HINT_DISMISSED: 'cruise_hint_dismissed'
          },
          
          // API Endpoints (Placeholders for future expansion)
          API_ENDPOINTS: {
              WEATHER: 'https://api.example.com/weather',
              UPDATES: 'https://api.example.com/cruise-updates',
              SYNC: 'https://api.example.com/sync'
          }
         };
         
         // ============================================================================
         // ERROR HANDLER
         // ============================================================================
         
         class ErrorHandler {
          constructor() {
              this.errors = [];
              this.maxErrors = 50;
          }
          
          log(error, context = 'Unknown') {
              const errorObj = {
                  timestamp: new Date().toISOString(),
                  context: context,
                  message: error.message || String(error),
                  stack: error.stack,
                  userAgent: navigator.userAgent,
                  url: window.location.href
              };
              
              console.error(`[${context}]`, error);
              this.errors.push(errorObj);
              
              // Keep only recent errors
              if (this.errors.length > this.maxErrors) {
                  this.errors.shift();
              }
              
              // Send to analytics if available
              this.sendToAnalytics(errorObj);
              
              return errorObj;
          }
          
          sendToAnalytics(error) {
              // Google Analytics
              if (typeof gtag === 'function') {
                  gtag('event', 'exception', {
                      description: `${error.context}: ${error.message}`,
                      fatal: false
                  });
              }
              
              // Sentry.io (example)
              if (typeof Sentry !== 'undefined') {
                  Sentry.captureException(new Error(`${error.context}: ${error.message}`));
              }
          }
          
          getErrors() {
              return [...this.errors];
          }
          
          clearErrors() {
              this.errors = [];
          }
          
          showUserFriendlyError(message, duration = 5000) {
              const errorDiv = document.createElement('div');
              errorDiv.className = 'error-toast';
              errorDiv.innerHTML = `
                  <div class="error-content">
                      <i class="fas fa-exclamation-circle"></i>
                      <span>${message}</span>
                      <button class="error-close"><i class="fas fa-times"></i></button>
                  </div>
              `;
              
              document.body.appendChild(errorDiv);
              
              setTimeout(() => {
                  errorDiv.classList.add('show');
              }, 10);
              
              const closeBtn = errorDiv.querySelector('.error-close');
              closeBtn.addEventListener('click', () => {
                  errorDiv.classList.remove('show');
                  setTimeout(() => {
                      if (errorDiv.parentNode) {
                          errorDiv.parentNode.removeChild(errorDiv);
                      }
                  }, 300);
              });
              
              if (duration > 0) {
                  setTimeout(() => {
                      if (errorDiv.parentNode) {
                          errorDiv.classList.remove('show');
                          setTimeout(() => {
                              if (errorDiv.parentNode) {
                                  errorDiv.parentNode.removeChild(errorDiv);
                              }
                          }, 300);
                      }
                  }, duration);
              }
              
              return errorDiv;
          }
         }
         
         // ============================================================================
         // STORAGE MANAGER
         // ============================================================================
         
         class StorageManager {
          constructor() {
              this.errorHandler = new ErrorHandler();
              this.isAvailable = this.checkAvailability();
          }
          
          checkAvailability() {
              try {
                  const testKey = '__storage_test__';
                  localStorage.setItem(testKey, testKey);
                  localStorage.removeItem(testKey);
                  return true;
              } catch (e) {
                  this.errorHandler.log(e, 'StorageManager.checkAvailability');
                  return false;
              }
          }
          
          set(key, value) {
              if (!this.isAvailable) {
                  console.warn('LocalStorage is not available');
                  return false;
              }
              
              try {
                  const serialized = JSON.stringify(value);
                  localStorage.setItem(key, serialized);
                  return true;
              } catch (e) {
                  this.errorHandler.log(e, `StorageManager.set(${key})`);
                  return false;
              }
          }
          
          get(key, defaultValue = null) {
              if (!this.isAvailable) {
                  return defaultValue;
              }
              
              try {
                  const item = localStorage.getItem(key);
                  return item ? JSON.parse(item) : defaultValue;
              } catch (e) {
                  this.errorHandler.log(e, `StorageManager.get(${key})`);
                  return defaultValue;
              }
          }
          
          remove(key) {
              if (!this.isAvailable) return false;
              
              try {
                  localStorage.removeItem(key);
                  return true;
              } catch (e) {
                  this.errorHandler.log(e, `StorageManager.remove(${key})`);
                  return false;
              }
          }
          
          clear() {
              if (!this.isAvailable) return false;
              
              try {
                  localStorage.clear();
                  return true;
              } catch (e) {
                  this.errorHandler.log(e, 'StorageManager.clear');
                  return false;
              }
          }
          
          // Application-specific methods
          savePreferences(preferences) {
              return this.set(CONFIG.STORAGE_KEYS.PREFERENCES, preferences);
          }
          
          loadPreferences() {
              return this.get(CONFIG.STORAGE_KEYS.PREFERENCES, {
                  compactMode: false,
                  criticalFilter: false,
                  theme: 'light',
                  fontSize: 'medium',
                  notifications: true
              });
          }
          
          saveSearchHistory(history) {
              return this.set(CONFIG.STORAGE_KEYS.SEARCH_HISTORY, history);
          }
          
          loadSearchHistory() {
              return this.get(CONFIG.STORAGE_KEYS.SEARCH_HISTORY, []);
          }
         }
         
         // ============================================================================
         // DEBOUNCE & THROTTLE UTILITIES
         // ============================================================================
         
         class PerformanceUtils {
          static debounce(func, wait, immediate = false) {
              let timeout;
              return function executedFunction(...args) {
                  const context = this;
                  const later = () => {
                      timeout = null;
                      if (!immediate) func.apply(context, args);
                  };
                  const callNow = immediate && !timeout;
                  clearTimeout(timeout);
                  timeout = setTimeout(later, wait);
                  if (callNow) func.apply(context, args);
              };
          }
          
          static throttle(func, limit) {
              let inThrottle;
              return function executedFunction(...args) {
                  const context = this;
                  if (!inThrottle) {
                      func.apply(context, args);
                      inThrottle = true;
                      setTimeout(() => inThrottle = false, limit);
                  }
              };
          }
          
          static async sleep(ms) {
              return new Promise(resolve => setTimeout(resolve, ms));
          }
         }
         
         // ============================================================================
         // DOM UTILITIES
         // ============================================================================
         
         class DOMUtils {
          static createElement(tag, classes = [], attributes = {}, content = '') {
              const element = document.createElement(tag);
              
              if (classes.length > 0) {
                  element.classList.add(...classes);
              }
              
              Object.entries(attributes).forEach(([key, value]) => {
                  element.setAttribute(key, value);
              });
              
              if (typeof content === 'string') {
                  element.innerHTML = content;
              } else if (content instanceof Node) {
                  element.appendChild(content);
              } else if (Array.isArray(content)) {
                  content.forEach(child => {
                      if (child instanceof Node) {
                          element.appendChild(child);
                      }
                  });
              }
              
              return element;
          }
          
          static removeAllChildren(element) {
              while (element.firstChild) {
                  element.removeChild(element.firstChild);
              }
          }
          
          static isElementInViewport(el, offset = 0) {
              const rect = el.getBoundingClientRect();
              return (
                  rect.top >= 0 &&
                  rect.left >= 0 &&
                  rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) + offset &&
                  rect.right <= (window.innerWidth || document.documentElement.clientWidth)
              );
          }
          
          static scrollToElement(element, offset = 0, behavior = 'smooth') {
              const elementRect = element.getBoundingClientRect();
              const absoluteTop = window.pageYOffset + elementRect.top;
              window.scrollTo({
                  top: absoluteTop - offset,
                  behavior: behavior
              });
          }
          
          static addClassToAll(elements, className) {
              elements.forEach(el => el.classList.add(className));
          }
          
          static removeClassFromAll(elements, className) {
              elements.forEach(el => el.classList.remove(className));
          }
          
          static toggleClassOnAll(elements, className, force) {
              elements.forEach(el => el.classList.toggle(className, force));
          }
         }
         
         // ============================================================================
         // SEARCH MANAGER
         // ============================================================================
         
         class SearchManager {
          constructor() {
              this.index = [];
              this.history = [];
              this.maxHistory = 10;
              this.storage = new StorageManager();
              this.errorHandler = new ErrorHandler();
              this.currentQuery = '';
              this.isIndexing = false;
              
              this.loadHistory();
          }
          
          loadHistory() {
              this.history = this.storage.loadSearchHistory();
          }
          
          saveHistory() {
              this.storage.saveSearchHistory(this.history);
          }
          
          addToHistory(query) {
              if (!query || query.trim() === '') return;
              
              const trimmedQuery = query.trim();
              const existingIndex = this.history.findIndex(item => 
                  item.toLowerCase() === trimmedQuery.toLowerCase()
              );
              
              if (existingIndex > -1) {
                  this.history.splice(existingIndex, 1);
              }
              
              this.history.unshift(trimmedQuery);
              
              if (this.history.length > this.maxHistory) {
                  this.history = this.history.slice(0, this.maxHistory);
              }
              
              this.saveHistory();
          }
          
          clearHistory() {
              this.history = [];
              this.saveHistory();
              return true;
          }
          
          async buildIndex() {
              if (this.isIndexing) {
                  console.warn('Search index is already being built');
                  return;
              }
              
              this.isIndexing = true;
              
              try {
                  this.index = [];
                  
                  // Index sections
                  const sections = document.querySelectorAll('section[id]');
                  
                  for (const section of sections) {
                      await this.indexSection(section);
                  }
                  
                  // Index specific items
                  await this.indexSpecificItems();
                  
                  console.log(`Search index built with ${this.index.length} items`);
                  return this.index;
              } catch (error) {
                  this.errorHandler.log(error, 'SearchManager.buildIndex');
                  throw error;
              } finally {
                  this.isIndexing = false;
              }
          }
          
          async indexSection(section) {
              const id = section.id;
              const title = section.querySelector('h2, .card__title')?.textContent?.trim() || id;
              const content = section.textContent || '';
              
              // Extract keywords from data attributes or content
              const keywords = this.extractKeywords(section, content);
              
              // Determine priority
              const priority = this.determinePriority(id, section);
              
              this.index.push({
                  id: id,
                  type: 'section',
                  title: title,
                  content: content.substring(0, 1000),
                  keywords: keywords,
                  priority: priority,
                  critical: section.classList.contains('section--critical') || 
                           id.includes('operations') || 
                           id.includes('critical'),
                  element: section,
                  timestamp: Date.now()
              });
          }
          
          async indexSpecificItems() {
              const specificItems = [
                  {
                      id: 'countdown-timer',
                      type: 'feature',
                      title: 'Countdown Timer',
                      content: 'Days until cruise departure. Shows days, hours, and minutes remaining until embarkation.',
                      keywords: ['countdown', 'timer', 'departure', 'days', 'hours', 'minutes', 'embarkation'],
                      priority: 2,
                      critical: false,
                      category: 'Hero'
                  },
                  {
                      id: 'cococay-perfect-day',
                      type: 'port',
                      title: 'Perfect Day at CocoCay',
                      content: 'Thrill Waterpark, Oasis Lagoon, Daredevils Peak. Docked access, no tender needed.',
                      keywords: ['cococay', 'perfect day', 'waterpark', 'beach', 'thrill', 'oasis lagoon', 'daredevils peak'],
                      priority: 3,
                      critical: true,
                      category: 'Itinerary'
                  },
                  {
                      id: 'dunns-river-falls',
                      type: 'excursion',
                      title: 'Dunns River Falls',
                      content: 'Jamaica waterfall climb. Water shoes required. Combo with Blue Hole recommended.',
                      keywords: ['dunns', 'river', 'falls', 'jamaica', 'waterfall', 'climb', 'blue hole', 'excursion'],
                      priority: 3,
                      critical: true,
                      category: 'Itinerary'
                  },
                  {
                      id: 'dragons-breath-zipline',
                      type: 'excursion',
                      title: 'Dragons Breath Zipline',
                      content: 'Labadee Haiti zipline. Longest over water zipline. Morning slots recommended.',
                      keywords: ['dragon', 'breath', 'zipline', 'labadee', 'haiti', 'excursion', 'adventure'],
                      priority: 3,
                      critical: true,
                      category: 'Itinerary'
                  },
                  {
                      id: 'flowrider',
                      type: 'activity',
                      title: 'FlowRider Surf Simulator',
                      content: 'Surf simulator on Adventure of the Seas. Early morning has shortest lines.',
                      keywords: ['flowrider', 'surf', 'simulator', 'activity', 'pool deck', 'adventure'],
                      priority: 2,
                      critical: false,
                      category: 'Onboard Activities'
                  },
                  {
                      id: 'emuster-station-f6',
                      type: 'safety',
                      title: 'eMuster Station F6',
                      content: 'Safety briefing location on Deck 4. Must complete before 4:00 PM on embarkation day.',
                      keywords: ['emuster', 'safety', 'drill', 'station', 'f6', 'deck 4', 'mandatory', 'critical'],
                      priority: 4,
                      critical: true,
                      category: 'Safety'
                  },
                  {
                      id: 'royal-caribbean-app',
                      type: 'tool',
                      title: 'Royal Caribbean App',
                      content: 'Essential app for schedules, chat, and bookings. Download before boarding.',
                      keywords: ['royal', 'app', 'mobile', 'download', 'chat', 'schedule', 'booking', 'essential'],
                      priority: 3,
                      critical: true,
                      category: 'Tools'
                  },
                  {
                      id: 'wifi-connectivity',
                      type: 'service',
                      title: 'Wi-Fi & Connectivity',
                      content: 'VOOM Surf + Stream, Royal-WIFI, internet packages. Best signal on Deck 4 library.',
                      keywords: ['wifi', 'internet', 'connectivity', 'vroom', 'online', 'signal', 'package'],
                      priority: 2,
                      critical: false,
                      category: 'Services'
                  }
              ];
              
              this.index.push(...specificItems);
          }
          
          extractKeywords(element, content) {
              const keywords = new Set();
              
              // Extract from data-keywords attribute
              const dataKeywords = element.dataset.keywords;
              if (dataKeywords) {
                  dataKeywords.split(',').forEach(kw => {
                      keywords.add(kw.trim().toLowerCase());
                  });
              }
              
              // Extract common cruise terms from content
              const commonTerms = [
                  'boarding', 'embarkation', 'disembarkation', 'muster', 'safety',
                  'dining', 'restaurant', 'reservation', 'excursion', 'port',
                  'sea day', 'formal night', 'captain', 'deck', 'cabin', 'room',
                  'stateroom', 'balcony', 'suite', 'promenade', 'pool', 'spa',
                  'gym', 'fitness', 'show', 'entertainment', 'kids', 'teen',
                  'adult', 'family', 'couple', 'group', 'booking', 'check-in'
              ];
              
              const contentLower = content.toLowerCase();
              commonTerms.forEach(term => {
                  if (contentLower.includes(term)) {
                      keywords.add(term);
                  }
              });
              
              return Array.from(keywords);
          }
          
          determinePriority(id, element) {
              // Higher number = higher priority
              if (id.includes('critical') || id.includes('emergency') || id.includes('safety')) {
                  return 5;
              }
              if (id.includes('operations') || id.includes('checklist')) {
                  return 4;
              }
              if (id.includes('itinerary') || id.includes('schedule')) {
                  return 3;
              }
              if (element.classList.contains('section--critical')) {
                  return 4;
              }
              return 2; // Default priority
          }
          
          async search(query, options = {}) {
              if (!query || query.trim() === '') {
                  return {
                      query: '',
                      results: [],
                      count: 0,
                      suggestions: this.getSuggestions('')
                  };
              }
              
              const normalizedQuery = query.toLowerCase().trim();
              this.currentQuery = normalizedQuery;
              
              // Add to history if not a repeat
              if (this.history[0] !== query) {
                  this.addToHistory(query);
              }
              
              // Filter and score results
              const results = this.index
                  .map(item => ({
                      ...item,
                      score: this.calculateScore(item, normalizedQuery)
                  }))
                  .filter(item => item.score > 0)
                  .sort((a, b) => {
                      // Sort by score (descending), then priority (descending)
                      if (b.score !== a.score) {
                          return b.score - a.score;
                      }
                      if (b.priority !== a.priority) {
                          return b.priority - a.priority;
                      }
                      if (a.critical && !b.critical) return -1;
                      if (!a.critical && b.critical) return 1;
                      return 0;
                  })
                  .slice(0, options.maxResults || 20);
              
              return {
                  query: query,
                  results: results,
                  count: results.length,
                  suggestions: this.getSuggestions(normalizedQuery),
                  timestamp: Date.now()
              };
          }
          
          calculateScore(item, query) {
              let score = 0;
              
              // Title match (highest weight)
              if (item.title.toLowerCase().includes(query)) {
                  score += 10;
                  
                  // Exact title match
                  if (item.title.toLowerCase() === query) {
                      score += 5;
                  }
              }
              
              // Content match
              if (item.content.toLowerCase().includes(query)) {
                  score += 5;
              }
              
              // Keyword matches
              if (item.keywords && item.keywords.some(kw => kw.includes(query))) {
                  score += 3;
              }
              
              // Priority boost
              score += item.priority;
              
              // Critical boost
              if (item.critical) {
                  score += 2;
              }
              
              // Recency boost (if applicable)
              if (item.timestamp) {
                  const age = Date.now() - item.timestamp;
                  const daysOld = age / (1000 * 60 * 60 * 24);
                  if (daysOld < 7) {
                      score += 1;
                  }
              }
              
              return score;
          }
          
          getSuggestions(query) {
              if (!query || query.length < 2) {
                  return this.getPopularSearches();
              }
              
              const suggestions = new Set();
              
              // Find matching items in index
              this.index.forEach(item => {
                  if (item.title.toLowerCase().includes(query)) {
                      suggestions.add(item.title);
                  }
                  
                  if (item.keywords) {
                      item.keywords.forEach(kw => {
                          if (kw.includes(query)) {
                              suggestions.add(kw);
                          }
                      });
                  }
              });
              
              // Add from history
              this.history.forEach(historyItem => {
                  if (historyItem.toLowerCase().includes(query)) {
                      suggestions.add(historyItem);
                  }
              });
              
              // Add common suggestions
              const common = [
                  'What time do I board?',
                  'Where is my room?',
                  'eMuster Station F6',
                  'Dining reservations',
                  'Shore excursions',
                  'Wi-Fi package',
                  'Formal night schedule',
                  'Kids activities',
                  'Drink package',
                  'Port shopping'
              ];
              
              common.forEach(item => {
                  if (item.toLowerCase().includes(query)) {
                      suggestions.add(item);
                  }
              });
              
              return Array.from(suggestions).slice(0, 8);
          }
          
          getPopularSearches() {
              return [
                  'eMuster Station F6',
                  'Perfect Day at CocoCay',
                  'Dunns River Falls',
                  'Formal night',
                  'Wi-Fi package',
                  'Dining reservations',
                  'Check-in time',
                  'What to pack'
              ];
          }
          
         highlightText(text, query) {
         if (!query || !text) return text;
         
         // Escape HTML in both text and query first
         const escapedText = this.escapeHtml(text);
         const escapedQuery = this.escapeRegExp(this.escapeHtml(query));
         
         const regex = new RegExp(`(${escapedQuery})`, 'gi');
         return escapedText.replace(regex, '<mark class="search-highlight">$1</mark>');
         }
         
         escapeHtml(text) {
         const div = document.createElement('div');
         div.textContent = text;
         return div.innerHTML;
         }
          
          escapeRegExp(string) {
              return string.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
          }
          
          getIndexStats() {
              return {
                  totalItems: this.index.length,
                  sections: this.index.filter(item => item.type === 'section').length,
                  features: this.index.filter(item => item.type === 'feature').length,
                  excursions: this.index.filter(item => item.type === 'excursion').length,
                  criticalItems: this.index.filter(item => item.critical).length,
                  lastIndexed: this.index.length > 0 ? 
                      new Date(Math.max(...this.index.map(i => i.timestamp || 0))) : null
              };
          }
         }
         
         // ============================================================================
         // NAVIGATION MANAGER
         // ============================================================================
         
         class NavigationManager {
          constructor() {
              this.currentSection = 'overview';
              this.currentDay = 'all';
              this.currentTravelerView = 'all';
              this.previousSection = null;
              this.sectionHistory = [];
              this.maxHistory = 10;
              this.observers = new Set();
              this.errorHandler = new ErrorHandler();
              this.isNavigating = false;
              
              this.availableSections = this.detectAvailableSections();
              this.availableDays = this.detectAvailableDays();
              this.availableTravelerViews = ['all', 'family', 'adults', 'kids'];
          }
          
          detectAvailableSections() {
              const sections = document.querySelectorAll('section[id]');
              return Array.from(sections).map(section => section.id);
          }
          
          detectAvailableDays() {
              const dayButtons = document.querySelectorAll('.day-btn[data-day]');
              return Array.from(dayButtons).map(btn => btn.dataset.day);
          }
          
          async navigateToSection(sectionId, options = {}) {
              if (this.isNavigating) {
                  console.warn('Navigation already in progress');
                  return false;
              }
              
              if (!this.availableSections.includes(sectionId)) {
                  this.errorHandler.log(new Error(`Invalid section: ${sectionId}`), 'NavigationManager.navigateToSection');
                  return false;
              }
              
              this.isNavigating = true;
              
              try {
                  // Store previous section
                  if (this.currentSection && options.addToHistory !== false) {
                      this.previousSection = this.currentSection;
                      this.sectionHistory.push({
                          section: this.currentSection,
                          timestamp: Date.now(),
                          scrollY: window.scrollY
                      });
                      
                      // Trim history if needed
                      if (this.sectionHistory.length > this.maxHistory) {
                          this.sectionHistory.shift();
                      }
                  }
                  
                  // Update current section
                  this.currentSection = sectionId;
                  
                  // Update UI
                  this.updateSectionVisibility(sectionId);
                  this.updateNavigationHighlights(sectionId);
                  this.updateURLHash(sectionId);
                  
                  // Scroll to section
                  if (options.scroll !== false) {
                      await this.scrollToSection(sectionId, options.scrollOptions);
                  }
                  
                  // Notify observers
                  this.notifyObservers({
                      type: 'sectionChange',
                      section: sectionId,
                      previous: this.previousSection,
                      timestamp: Date.now()
                  });
                  
                  return true;
              } catch (error) {
                  this.errorHandler.log(error, 'NavigationManager.navigateToSection');
                  return false;
              } finally {
                  this.isNavigating = false;
              }
          }
          
          updateSectionVisibility(sectionId) {
              // Show all sections first (remove hidden attribute)
              document.querySelectorAll('section[id]').forEach(section => {
                  section.removeAttribute('hidden');
                  section.classList.remove('active');
              });
              
              // Add active class to current section
              const currentSection = document.getElementById(sectionId);
              if (currentSection) {
                  currentSection.classList.add('active');
                  
                  // If it's itinerary, apply day filter
                  if (sectionId === 'itinerary') {
                      this.applyDayFilter(this.currentDay);
                  }
              }
          }
          
          updateNavigationHighlights(sectionId) {
              // Update all navigation elements
              const navSelectors = [
                  '.nav-link',
                  '.sidebar-link',
                  '.drawer-nav-item',
                  '.bottom-nav .nav-item[data-section]',
                  '.quick-start__link'
              ];
              
              navSelectors.forEach(selector => {
                  document.querySelectorAll(selector).forEach(element => {
                      const isActive = element.dataset.section === sectionId;
                      element.classList.toggle('active', isActive);
                      element.setAttribute('aria-current', isActive ? 'page' : 'false');
                      
                      if (element.tagName === 'BUTTON') {
                          element.setAttribute('aria-pressed', isActive.toString());
                      }
                  });
              });
          }
          
          updateURLHash(sectionId) {
              const newHash = `#${sectionId}`;
              if (window.location.hash !== newHash) {
                  history.replaceState(null, '', newHash);
              }
          }
          
          async scrollToSection(sectionId, options = {}) {
         const section = document.getElementById(sectionId);
         if (!section) return false;
         
         const defaultOptions = {
         behavior: 'smooth',
         offset: this.calculateScrollOffset()
         };
         
         const { behavior, offset } = { ...defaultOptions, ...options };
         
         try {
         // Compute absolute scroll target with offset
         const rect = section.getBoundingClientRect();
         const targetTop = window.pageYOffset + rect.top - offset;
         
         // Perform scroll
         window.scrollTo({
         top: targetTop,
         behavior
         });
         
         // Wait for scroll to settle
         await new Promise(resolve => {
         let lastY = null;
         let stableFrames = 0;
         
         const checkScroll = () => {
         const currentY = window.pageYOffset;
         
         if (lastY !== null && Math.abs(currentY - lastY) < 1) {
          stableFrames++;
          if (stableFrames >= 3) {
            resolve();
            return;
          }
         } else {
          stableFrames = 0;
         }
         
         lastY = currentY;
         requestAnimationFrame(checkScroll);
         };
         
         requestAnimationFrame(checkScroll);
         });
         
         return true;
         } catch (error) {
         this.errorHandler.log(error, 'NavigationManager.scrollToSection');
         return false;
         }
         }
          
          calculateScrollOffset() {
         const elements = [
         document.querySelector('.header'),
         document.getElementById('topBarHint'),
         document.querySelector('.day-selector')
         ];
         
         let offset = 0;
         
         for (const el of elements) {
         if (!el) continue;
         
         const style = window.getComputedStyle(el);
         const isVisible =
         style.display !== 'none' &&
         style.visibility !== 'hidden' &&
         el.getBoundingClientRect().height > 0 &&
         !el.hasAttribute('aria-hidden');
         
         if (isVisible) {
         offset += el.getBoundingClientRect().height;
         }
         }
         
         // Add breathing room only when there is chrome to clear
         return offset > 0 ? offset + 16 : 0;
         }
          
          setCurrentDay(day) {
              if (!this.availableDays.includes(day)) {
                  console.warn(`Invalid day: ${day}`);
                  return false;
              }
              
              this.currentDay = day;
              
              // Update day buttons
              document.querySelectorAll('.day-btn').forEach(btn => {
                  const isActive = btn.dataset.day === day;
                  btn.classList.toggle('active', isActive);
                  btn.setAttribute('aria-pressed', isActive.toString());
              });
              
              // Apply filter if on itinerary
              if (this.currentSection === 'itinerary') {
                  this.applyDayFilter(day);
              }
              
              // Notify observers
              this.notifyObservers({
                  type: 'dayChange',
                  day: day,
                  timestamp: Date.now()
              });
              
              return true;
          }
          
          applyDayFilter(day) {
              const timelineItems = document.querySelectorAll('.timeline-item');
              
              timelineItems.forEach(item => {
                  const itemDay = item.dataset.day;
                  const shouldShow = day === 'all' || itemDay === day;
                  
                  item.style.display = shouldShow ? 'block' : 'none';
                  
                  if (shouldShow) {
                      item.removeAttribute('aria-hidden');
                  } else {
                      item.setAttribute('aria-hidden', 'true');
                  }
              });
          }
          
          setTravelerView(view) {
              if (!this.availableTravelerViews.includes(view)) {
                  console.warn(`Invalid traveler view: ${view}`);
                  return false;
              }
              
              this.currentTravelerView = view;
              
              // Update traveler selector
              const travelerSelect = document.getElementById('travelerSelect');
              if (travelerSelect) {
                  travelerSelect.value = view;
              }
              
              // Apply view filter
              this.applyTravelerViewFilter(view);
              
              // Notify observers
              this.notifyObservers({
                  type: 'travelerViewChange',
                  view: view,
                  timestamp: Date.now()
              });
              
              return true;
          }
          
          applyTravelerViewFilter(view) {
              // This is a simplified filter - in production you would
              // have data attributes on elements to filter by
              const elementsToFilter = document.querySelectorAll('[data-traveler-view]');
              
              elementsToFilter.forEach(element => {
                  const elementViews = element.dataset.travelerView.split(' ');
                  const shouldShow = view === 'all' || elementViews.includes(view);
                  
                  element.classList.toggle('hidden', !shouldShow);
                  element.setAttribute('aria-hidden', (!shouldShow).toString());
              });
          }
          
          goBack() {
              if (this.sectionHistory.length === 0) {
                  return false;
              }
              
              const previous = this.sectionHistory.pop();
              if (previous && previous.section) {
                  return this.navigateToSection(previous.section, {
                      scrollOptions: {
                          behavior: 'auto',
                          block: 'start'
                      }
                  });
              }
              
              return false;
          }
          
          addObserver(observer) {
              this.observers.add(observer);
          }
          
          removeObserver(observer) {
              this.observers.delete(observer);
          }
          
          notifyObservers(data) {
              this.observers.forEach(observer => {
                  try {
                      if (typeof observer === 'function') {
                          observer(data);
                      } else if (observer && typeof observer.update === 'function') {
                          observer.update(data);
                      }
                  } catch (error) {
                      this.errorHandler.log(error, 'NavigationManager.notifyObservers');
                  }
              });
          }
          
          getNavigationState() {
              return {
                  currentSection: this.currentSection,
                  currentDay: this.currentDay,
                  currentTravelerView: this.currentTravelerView,
                  previousSection: this.previousSection,
                  historyLength: this.sectionHistory.length,
                  availableSections: [...this.availableSections],
                  availableDays: [...this.availableDays]
              };
          }
         }
         
         // ============================================================================
         // UI COMPONENTS MANAGER
         // ============================================================================
         
         class UIComponentsManager {
          constructor() {
              this.errorHandler = new ErrorHandler();
              this.components = new Map();
              this.initialized = false;
          }
          
          async initialize() {
              if (this.initialized) return true;
              
              try {
                  await this.initializeAccordions();
                  await this.initializeModals();
                  await this.initializeToasts();
                  await this.initializeTabs();
                  await this.initializeTooltips();
                  
                  this.initialized = true;
                  return true;
              } catch (error) {
                  this.errorHandler.log(error, 'UIComponentsManager.initialize');
                  return false;
              }
          }
          
          async initializeAccordions() {
              const accordions = document.querySelectorAll('[data-accordion]');
              
              accordions.forEach(accordion => {
                  const toggle = accordion.querySelector('[data-accordion-toggle]');
                  const content = accordion.querySelector('[data-accordion-content]');
                  
                  if (!toggle || !content) return;
                  
                  const isExpanded = accordion.dataset.expanded === 'true';
                  
                  // Set initial state
                  toggle.setAttribute('aria-expanded', isExpanded.toString());
                  content.setAttribute('aria-hidden', (!isExpanded).toString());
                  
                  if (isExpanded) {
                      content.classList.add('expanded');
                      content.classList.remove('collapsed');
                      content.style.maxHeight = content.scrollHeight + 'px';
                  } else {
                      content.classList.add('collapsed');
                      content.classList.remove('expanded');
                      content.style.maxHeight = '0';
                  }
                  
                  // Add click handler
                  toggle.addEventListener('click', () => {
                      this.toggleAccordion(accordion);
                  });
                  
                  // Add keyboard support
                  toggle.addEventListener('keydown', (e) => {
                      if (e.key === 'Enter' || e.key === ' ') {
                          e.preventDefault();
                          this.toggleAccordion(accordion);
                      }
                  });
                  
                  this.components.set(`accordion-${accordion.id || Date.now()}`, {
                      type: 'accordion',
                      element: accordion,
                      toggle: toggle,
                      content: content
                  });
              });
          }
          
          toggleAccordion(accordion) {
              const component = this.components.get(`accordion-${accordion.id}`);
              if (!component) return;
              
              const isExpanded = component.toggle.getAttribute('aria-expanded') === 'true';
              const newState = !isExpanded;
              
              // Update toggle
              component.toggle.setAttribute('aria-expanded', newState.toString());
              
              // Update content
              component.content.setAttribute('aria-hidden', (!newState).toString());
              
              if (newState) {
                  // Expand
                  component.content.classList.remove('collapsed');
                  component.content.classList.add('expanded');
                  component.content.style.maxHeight = component.content.scrollHeight + 'px';
                  
                  // After transition, set to auto
                  setTimeout(() => {
                      if (component.content.classList.contains('expanded')) {
                          component.content.style.maxHeight = 'none';
                      }
                  }, 300);
              } else {
                  // Collapse
                  component.content.classList.remove('expanded');
                  component.content.classList.add('collapsed');
                  component.content.style.maxHeight = component.content.scrollHeight + 'px';
                  
                  // Trigger reflow
                  component.content.offsetHeight;
                  
                  // Animate collapse
                  component.content.style.maxHeight = '0';
              }
          }
          
         async initializeModals() {
         const modals = document.querySelectorAll('[data-modal]');
         
         modals.forEach(modal => {
         if (!modal.id) return;
         
         const openButtons = document.querySelectorAll(
         `[data-modal-open="${modal.id}"]`
         );
         const closeButtons = modal.querySelectorAll('[data-modal-close]');
         const overlay = modal.querySelector('[data-modal-overlay]');
         
         // Initial state
         modal.setAttribute('aria-hidden', 'true');
         modal.removeAttribute('aria-modal');
         
         // Prevent double-binding
         if (modal.dataset.initialized) return;
         modal.dataset.initialized = 'true';
         
         // Open handlers
         openButtons.forEach(button => {
         button.addEventListener('click', () => {
         this.openModal(modal.id, button);
         });
         });
         
         // Close handlers
         closeButtons.forEach(button => {
         button.addEventListener('click', () => {
         this.closeModal(modal.id);
         });
         });
         
         // Overlay click (only if actual overlay)
         if (overlay) {
         overlay.addEventListener('click', e => {
         if (e.target === overlay) {
          this.closeModal(modal.id);
         }
         });
         }
         
         // Global Escape handling (reliable)
         document.addEventListener('keydown', e => {
         if (
         e.key === 'Escape' &&
         modal.getAttribute('aria-hidden') === 'false'
         ) {
         this.closeModal(modal.id);
         }
         });
         
         this.components.set(`modal-${modal.id}`, {
         type: 'modal',
         element: modal,
         openButtons,
         closeButtons,
         overlay
         });
         });
         }
         openModal(modalId, opener = null) {
         const modal = document.getElementById(modalId);
         if (!modal) return false;
         
         // Store opener for correct focus restore
         modal.__opener = opener || document.activeElement;
         
         // ARIA state
         modal.setAttribute('aria-hidden', 'false');
         modal.setAttribute('aria-modal', 'true');
         modal.classList.add('active');
         
         // Lock scroll (iOS-safe)
         this._scrollY = window.scrollY;
         document.body.style.position = 'fixed';
         document.body.style.top = `-${this._scrollY}px`;
         document.body.style.width = '100%';
         
         // Trap focus once
         this.trapFocus(modal);
         
         // Move focus inside modal
         const focusTarget =
         modal.querySelector('[autofocus]') ||
         modal.querySelector(
         'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'
         );
         
         focusTarget?.focus();
         
         this.announceToScreenReader('Modal opened');
         return true;
         }
         
         closeModal(modalId) {
         const modal = document.getElementById(modalId);
         if (!modal) return false;
         
         // ARIA state
         modal.setAttribute('aria-hidden', 'true');
         modal.removeAttribute('aria-modal');
         modal.classList.remove('active');
         
         // Restore scroll
         document.body.style.position = '';
         document.body.style.top = '';
         document.body.style.width = '';
         window.scrollTo(0, this._scrollY || 0);
         
         // Restore focus
         modal.__opener?.focus?.();
         delete modal.__opener;
         
         this.announceToScreenReader('Modal closed');
         return true;
         }
         
         trapFocus(element) {
         if (element.__focusTrapAttached) return;
         element.__focusTrapAttached = true;
         
         const focusableSelector =
         'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])';
         
         element.addEventListener('keydown', e => {
         if (e.key !== 'Tab') return;
         
         const focusables = Array.from(
         element.querySelectorAll(focusableSelector)
         ).filter(el => !el.disabled && el.offsetParent !== null);
         
         if (focusables.length === 0) return;
         
         const first = focusables[0];
         const last = focusables[focusables.length - 1];
         
         if (e.shiftKey && document.activeElement === first) {
         e.preventDefault();
         last.focus();
         } else if (!e.shiftKey && document.activeElement === last) {
         e.preventDefault();
         first.focus();
         }
         });
         }
          
         async initializeToasts() {
         let toastContainer = document.getElementById('toast-container');
         if (!toastContainer) {
         toastContainer = DOMUtils.createElement('div', ['toast-container'], {
         id: 'toast-container',
         'aria-live': 'polite',
         'aria-atomic': 'true'
         });
         document.body.appendChild(toastContainer);
         }
         
         this.components.set('toast-container', {
         type: 'toast-container',
         element: toastContainer
         });
         }
          
         showToast(message, options = {}) {
         const container = this.components.get('toast-container')?.element;
         if (!container) return null;
         
         const toastId = `toast-${crypto.randomUUID?.() || Date.now() + Math.random()}`;
         
         const {
         type = 'info',
         duration = CONFIG.TOAST_DURATION,
         icon = this.getToastIcon(type),
         action = null,
         position = 'bottom-center'
         } = options;
         
         const toast = DOMUtils.createElement(
         'div',
         ['toast', `toast-${type}`, `toast-${position}`],
         {
         id: toastId,
         role: 'status',
         'aria-atomic': 'true'
         },
         `
         <div class="toast-content">
         <div class="toast-icon">${icon}</div>
         <div class="toast-message">${message}</div>
         ${action ? `<button class="toast-action">${action.label}</button>` : ''}
         <button class="toast-close" aria-label="Close notification">
          <i class="fas fa-times"></i>
         </button>
         </div>
         `
         );
         
         container.appendChild(toast);
         
         requestAnimationFrame(() => {
         toast.classList.add('show');
         });
         
         const hide = () => this.hideToast(toastId);
         
         toast.querySelector('.toast-close')?.addEventListener('click', hide);
         
         if (action) {
         toast.querySelector('.toast-action')?.addEventListener('click', () => {
         action.callback?.();
         hide();
         });
         }
         
         const timeoutId =
         duration > 0 ? setTimeout(hide, duration) : null;
         
         this.components.set(toastId, {
         type: 'toast',
         element: toast,
         timeoutId
         });
         
         return toastId;
         }
          
          hideToast(toastId) {
              const component = this.components.get(toastId);
              if (!component) return false;
              
              // Clear timeout if exists
              if (component.timeoutId) {
                  clearTimeout(component.timeoutId);
              }
              
              // Animate out
              component.element.classList.remove('show');
              
              // Remove from DOM after animation
              setTimeout(() => {
                  if (component.element.parentNode) {
                      component.element.parentNode.removeChild(component.element);
                  }
                  this.components.delete(toastId);
              }, 300);
              
              return true;
          }
          
          getToastIcon(type) {
              const icons = {
                  info: '<i class="fas fa-info-circle"></i>',
                  success: '<i class="fas fa-check-circle"></i>',
                  warning: '<i class="fas fa-exclamation-triangle"></i>',
                  error: '<i class="fas fa-exclamation-circle"></i>'
              };
              return icons[type] || icons.info;
          }
          
          async initializeTabs() {
              const tabContainers = document.querySelectorAll('[data-tabs]');
              
              tabContainers.forEach(container => {
                  const tabList = container.querySelector('[role="tablist"]');
                  const tabs = container.querySelectorAll('[role="tab"]');
                  const tabPanels = container.querySelectorAll('[role="tabpanel"]');
                  
                  if (!tabList || tabs.length === 0 || tabPanels.length === 0) return;
                  
                  // Set initial state
                  tabs.forEach((tab, index) => {
                      const isSelected = index === 0;
                      tab.setAttribute('aria-selected', isSelected.toString());
                      tab.setAttribute('tabindex', isSelected ? '0' : '-1');
                      
                      if (isSelected) {
                          tab.classList.add('active');
                      }
                      
                      // Add click handler
                      tab.addEventListener('click', () => {
                          this.activateTab(tab, container);
                      });
                      
                      // Add keyboard navigation
                      tab.addEventListener('keydown', (e) => {
                          this.handleTabKeydown(e, tab, tabs, container);
                      });
                  });
                  
                  // Set initial tabpanel state
                  tabPanels.forEach((panel, index) => {
                      const isSelected = index === 0;
                      panel.setAttribute('aria-hidden', (!isSelected).toString());
                      
                      if (isSelected) {
                          panel.classList.add('active');
                      } else {
                          panel.classList.add('hidden');
                      }
                  });
                  
                  this.components.set(`tabs-${container.id || Date.now()}`, {
                      type: 'tabs',
                      element: container,
                      tabList: tabList,
                      tabs: tabs,
                      tabPanels: tabPanels
                  });
              });
          }
          
          activateTab(selectedTab, container) {
              const component = this.components.get(`tabs-${container.id}`);
              if (!component) return;
              
              // Update all tabs
              component.tabs.forEach(tab => {
                  const isSelected = tab === selectedTab;
                  tab.setAttribute('aria-selected', isSelected.toString());
                  tab.setAttribute('tabindex', isSelected ? '0' : '-1');
                  tab.classList.toggle('active', isSelected);
                  
                  if (isSelected) {
                      tab.focus();
                  }
              });
              
              // Update all tabpanels
              component.tabPanels.forEach(panel => {
                  const controls = selectedTab.getAttribute('aria-controls');
                  const isSelected = panel.id === controls;
                  
                  panel.setAttribute('aria-hidden', (!isSelected).toString());
                  panel.classList.toggle('active', isSelected);
                  panel.classList.toggle('hidden', !isSelected);
              });
          }
          
          handleTabKeydown(event, currentTab, tabs, container) {
              let nextTab = null;
              
              switch (event.key) {
                  case 'ArrowLeft':
                  case 'ArrowUp':
                      event.preventDefault();
                      nextTab = currentTab.previousElementSibling || tabs[tabs.length - 1];
                      break;
                      
                  case 'ArrowRight':
                  case 'ArrowDown':
                      event.preventDefault();
                      nextTab = currentTab.nextElementSibling || tabs[0];
                      break;
                      
                  case 'Home':
                      event.preventDefault();
                      nextTab = tabs[0];
                      break;
                      
                  case 'End':
                      event.preventDefault();
                      nextTab = tabs[tabs.length - 1];
                      break;
              }
              
              if (nextTab) {
                  this.activateTab(nextTab, container);
              }
          }
          
          async initializeTooltips() {
              const tooltipElements = document.querySelectorAll('[data-tooltip]');
              
              tooltipElements.forEach(element => {
                  const tooltipText = element.dataset.tooltip;
                  
                  // Create tooltip element
                  const tooltip = DOMUtils.createElement('div', ['tooltip'], {
                      role: 'tooltip',
                      id: `tooltip-${element.id || Date.now()}`
                  }, tooltipText);
                  
                  // Position tooltip
                  const updatePosition = () => {
                      const rect = element.getBoundingClientRect();
                      const tooltipRect = tooltip.getBoundingClientRect();
                      
                      // Default position: bottom center
                      let top = rect.bottom + 8;
                      let left = rect.left + (rect.width / 2) - (tooltipRect.width / 2);
                      
                      // Adjust if out of viewport
                      if (top + tooltipRect.height > window.innerHeight) {
                          top = rect.top - tooltipRect.height - 8;
                      }
                      
                      if (left < 0) {
                          left = 8;
                      } else if (left + tooltipRect.width > window.innerWidth) {
                          left = window.innerWidth - tooltipRect.width - 8;
                      }
                      
                      tooltip.style.top = `${top}px`;
                      tooltip.style.left = `${left}px`;
                  };
                  
                  // Show tooltip
                  const showTooltip = () => {
                      if (!tooltip.parentNode) {
                          document.body.appendChild(tooltip);
                      }
                      
                      tooltip.classList.remove('hidden');
                      updatePosition();
                      
                      // Update position on resize
                      window.addEventListener('resize', updatePosition);
                  };
                  
                  // Hide tooltip
                  const hideTooltip = () => {
                      tooltip.classList.add('hidden');
                      window.removeEventListener('resize', updatePosition);
                      
                      // Remove from DOM after animation
                      setTimeout(() => {
                          if (tooltip.parentNode) {
                              tooltip.parentNode.removeChild(tooltip);
                          }
                      }, 300);
                  };
                  
                  // Add event listeners
                  element.addEventListener('mouseenter', showTooltip);
                  element.addEventListener('focus', showTooltip);
                  element.addEventListener('mouseleave', hideTooltip);
                  element.addEventListener('blur', hideTooltip);
                  
                  // Store reference
                  this.components.set(`tooltip-${element.id}`, {
                      type: 'tooltip',
                      element: tooltip,
                      target: element
                  });
              });
          }
          
          announceToScreenReader(message, priority = 'polite') {
              const announcement = DOMUtils.createElement('div', ['sr-announcement'], {
                  'aria-live': priority,
                  'aria-atomic': 'true'
              }, message);
              
              // Add to DOM
              document.body.appendChild(announcement);
              
              // Remove after announcement
              setTimeout(() => {
                  if (announcement.parentNode) {
                      announcement.parentNode.removeChild(announcement);
                  }
              }, 1000);
          }
          
          getComponent(id) {
              return this.components.get(id);
          }
          
          getAllComponents() {
              return Array.from(this.components.values());
          }
          
          destroyComponent(id) {
              const component = this.components.get(id);
              if (!component) return false;
              
              // Clean up based on component type
              switch (component.type) {
                  case 'modal':
                      this.closeModal(component.element.id);
                      break;
                  case 'toast':
                      this.hideToast(id);
                      break;
                  case 'tooltip':
                      if (component.element.parentNode) {
                          component.element.parentNode.removeChild(component.element);
                      }
                      break;
              }
              
              this.components.delete(id);
              return true;
          }
          
          destroyAllComponents() {
              const componentIds = Array.from(this.components.keys());
              componentIds.forEach(id => this.destroyComponent(id));
              this.components.clear();
          }
         }
         
         // ============================================================================
         // COUNTDOWN MANAGER
         // ============================================================================
         
         class CountdownManager {
          constructor(targetDate) {
              this.targetDate = new Date(targetDate);
              this.intervalId = null;
              this.isRunning = false;
              this.errorHandler = new ErrorHandler();
              this.observers = new Set();
              this.lastUpdate = null;
              
              // DOM elements
              this.daysElement = document.getElementById('days');
              this.hoursElement = document.getElementById('hours');
              this.minutesElement = document.getElementById('minutes');
              this.secondsElement = document.getElementById('seconds');
              
              // Check if date is valid
              if (isNaN(this.targetDate.getTime())) {
                  throw new Error('Invalid target date');
              }
          }
          
          start() {
              if (this.isRunning) {
                  console.warn('Countdown is already running');
                  return false;
              }
              
              this.isRunning = true;
              
              // Initial update
              this.update();
              
              // Start interval
              this.intervalId = setInterval(() => {
                  this.update();
              }, 1000);
              
              this.notifyObservers({
                  type: 'countdownStarted',
                  timestamp: Date.now()
              });
              
              return true;
          }
          
          stop() {
              if (!this.isRunning) return false;
              
              this.isRunning = false;
              
              if (this.intervalId) {
                  clearInterval(this.intervalId);
                  this.intervalId = null;
              }
              
              this.notifyObservers({
                  type: 'countdownStopped',
                  timestamp: Date.now()
              });
              
              return true;
          }
          
          update() {
              const now = new Date();
              const timeRemaining = this.targetDate - now;
              
              if (timeRemaining <= 0) {
                  this.handleCountdownComplete();
                  return;
              }
              
              // Calculate time units
              const days = Math.floor(timeRemaining / (1000 * 60 * 60 * 24));
              const hours = Math.floor((timeRemaining % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
              const minutes = Math.floor((timeRemaining % (1000 * 60 * 60)) / (1000 * 60));
              const seconds = Math.floor((timeRemaining % (1000 * 60)) / 1000);
              
              // Update DOM with animation
              this.updateElementWithAnimation(this.daysElement, days, 'days');
              this.updateElementWithAnimation(this.hoursElement, hours, 'hours');
              this.updateElementWithAnimation(this.minutesElement, minutes, 'minutes');
              
              if (this.secondsElement) {
                  this.updateElementWithAnimation(this.secondsElement, seconds, 'seconds');
              }
              
              // Store last update
              this.lastUpdate = {
                  timestamp: now,
                  days: days,
                  hours: hours,
                  minutes: minutes,
                  seconds: seconds,
                  totalSeconds: Math.floor(timeRemaining / 1000)
              };
              
              // Notify observers
              this.notifyObservers({
                  type: 'countdownUpdated',
                  data: this.lastUpdate,
                  timestamp: Date.now()
              });
          }
          
          updateElementWithAnimation(element, newValue, unit) {
              if (!element) return;
              
              const oldValue = parseInt(element.textContent) || 0;
              
              if (oldValue !== newValue) {
                  // Add animation class
                  element.classList.add('countdown-changing');
                  
                  // Update value
                  element.textContent = newValue.toString().padStart(2, '0');
                  element.setAttribute('aria-label', `${newValue} ${unit} remaining`);
                  
                  // Remove animation class after animation completes
                  setTimeout(() => {
                      element.classList.remove('countdown-changing');
                  }, 300);
              } else {
                  // Just update aria-label
                  element.setAttribute('aria-label', `${newValue} ${unit} remaining`);
              }
          }
          
          handleCountdownComplete() {
              this.stop();
              
              // Update display to show completion
              if (this.daysElement) this.daysElement.textContent = '00';
              if (this.hoursElement) this.hoursElement.textContent = '00';
              if (this.minutesElement) this.minutesElement.textContent = '00';
              if (this.secondsElement) this.secondsElement.textContent = '00';
              
              // Update hero title
              const heroTitle = document.getElementById('heroTitle');
              if (heroTitle) {
                  heroTitle.textContent = 'Bon Voyage! üö¢';
                  heroTitle.classList.add('countdown-complete');
              }
              
              // Show celebration message
              this.notifyObservers({
                  type: 'countdownComplete',
                  timestamp: Date.now(),
                  message: 'Countdown complete! The cruise has begun!'
              });
              
              // Play celebration sound (optional)
              this.playCelebrationSound();
          }
          
          playCelebrationSound() {
              // This is a placeholder - in production you would use actual audio
              console.log('üéâ Countdown complete! Playing celebration sound...');
              
              // Example with Web Audio API
              if (typeof Audio !== 'undefined') {
                  try {
                      const audio = new Audio('data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEAQB8AAEAfAAABAAgAZGF0YQ');
                      audio.volume = 0.3;
                      audio.play().catch(e => console.log('Audio play failed:', e));
                  } catch (error) {
                      this.errorHandler.log(error, 'CountdownManager.playCelebrationSound');
                  }
              }
          }
          
          getTimeRemaining() {
              const now = new Date();
              const timeRemaining = this.targetDate - now;
              
              if (timeRemaining <= 0) {
                  return {
                      days: 0,
                      hours: 0,
                      minutes: 0,
                      seconds: 0,
                      totalSeconds: 0,
                      isComplete: true
                  };
              }
              
              return {
                  days: Math.floor(timeRemaining / (1000 * 60 * 60 * 24)),
                  hours: Math.floor((timeRemaining % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)),
                  minutes: Math.floor((timeRemaining % (1000 * 60 * 60)) / (1000 * 60)),
                  seconds: Math.floor((timeRemaining % (1000 * 60)) / 1000),
                  totalSeconds: Math.floor(timeRemaining / 1000),
                  isComplete: false
              };
          }
          
          formatTimeRemaining(format = 'long') {
              const time = this.getTimeRemaining();
              
              if (time.isComplete) {
                  return 'The cruise has begun!';
              }
              
              switch (format) {
                  case 'short':
                      return `${time.days}d ${time.hours}h ${time.minutes}m`;
                  case 'compact':
                      return `${time.days}:${time.hours.toString().padStart(2, '0')}:${time.minutes.toString().padStart(2, '0')}`;
                  case 'verbose':
                      const parts = [];
                      if (time.days > 0) parts.push(`${time.days} day${time.days !== 1 ? 's' : ''}`);
                      if (time.hours > 0) parts.push(`${time.hours} hour${time.hours !== 1 ? 's' : ''}`);
                      if (time.minutes > 0) parts.push(`${time.minutes} minute${time.minutes !== 1 ? 's' : ''}`);
                      return parts.join(', ');
                  case 'long':
                  default:
                      return `${time.days} days, ${time.hours} hours, ${time.minutes} minutes`;
              }
          }
          
          addObserver(observer) {
              this.observers.add(observer);
          }
          
          removeObserver(observer) {
              this.observers.delete(observer);
          }
          
          notifyObservers(data) {
              this.observers.forEach(observer => {
                  try {
                      if (typeof observer === 'function') {
                          observer(data);
                      } else if (observer && typeof observer.update === 'function') {
                          observer.update(data);
                      }
                  } catch (error) {
                      this.errorHandler.log(error, 'CountdownManager.notifyObservers');
                  }
              });
          }
          
          destroy() {
              this.stop();
              this.observers.clear();
              
              // Clean up DOM references
              this.daysElement = null;
              this.hoursElement = null;
              this.minutesElement = null;
              this.secondsElement = null;
          }
         }
         
         // ============================================================================
         // WEATHER MANAGER
         // ============================================================================
         
         class WeatherManager {
          constructor() {
              this.currentWeather = null;
              this.forecast = [];
              this.intervalId = null;
              this.isFetching = false;
              this.errorHandler = new ErrorHandler();
              this.observers = new Set();
              this.useMockData = true; // Set to false when real API is available
              
              // DOM elements
              this.tempElement = document.getElementById('weatherTemp');
              this.conditionElement = document.getElementById('weatherCondition');
              this.iconElement = document.querySelector('.weather-icon');
              this.forecastElement = document.querySelector('.weather-forecast');
              
              // Mock weather data for Caribbean in February
              this.mockWeatherConditions = [
                  { temp: '84¬∞F', condition: 'Sunny', icon: '‚òÄÔ∏è', description: 'Perfect beach weather', humidity: '65%', wind: '12 mph' },
                  { temp: '82¬∞F', condition: 'Partly Cloudy', icon: 'üå§Ô∏è', description: 'Ideal for outdoor activities', humidity: '68%', wind: '10 mph' },
                  { temp: '81¬∞F', condition: 'Mostly Sunny', icon: '‚õÖ', description: 'Warm with light breeze', humidity: '70%', wind: '8 mph' },
                  { temp: '80¬∞F', condition: 'Light Showers', icon: 'üå¶Ô∏è', description: 'Brief rain, mostly sunny', humidity: '75%', wind: '15 mph' },
                  { temp: '83¬∞F', condition: 'Clear Skies', icon: '‚ú®', description: 'Beautiful stargazing tonight', humidity: '62%', wind: '6 mph' },
                  { temp: '79¬∞F', condition: 'Breezy', icon: 'üí®', description: 'Cooler with strong winds', humidity: '60%', wind: '20 mph' },
                  { temp: '85¬∞F', condition: 'Hot & Humid', icon: 'üî•', description: 'High humidity, stay hydrated', humidity: '80%', wind: '5 mph' }
              ];
          }
          
          async initialize() {
              try {
                  // Load initial weather
                  await this.fetchWeather();
                  
                  // Start periodic updates (every 15 minutes for real API, every 30 seconds for demo)
                  this.intervalId = setInterval(() => {
                      this.fetchWeather();
                  }, this.useMockData ? 30000 : 900000); // 30 seconds for demo, 15 minutes for production
                  
                  return true;
              } catch (error) {
                  this.errorHandler.log(error, 'WeatherManager.initialize');
                  return false;
              }
          }
          
          async fetchWeather() {
              if (this.isFetching) {
                  console.warn('Weather fetch already in progress');
                  return null;
              }
              
              this.isFetching = true;
              
              try {
                  let weatherData;
                  
                  if (this.useMockData) {
                      // Use mock data
                      weatherData = await this.fetchMockWeather();
                  } else {
                      // Fetch from real API
                      weatherData = await this.fetchApiWeather();
                  }
                  
                  if (weatherData) {
                      this.currentWeather = weatherData;
                      this.updateDisplay();
                      
                      this.notifyObservers({
                          type: 'weatherUpdated',
                          data: weatherData,
                          timestamp: Date.now()
                      });
                  }
                  
                  return weatherData;
              } catch (error) {
                  this.errorHandler.log(error, 'WeatherManager.fetchWeather');
                  
                  // Fallback to mock data
                  const fallbackData = this.getRandomWeather();
                  this.currentWeather = fallbackData;
                  this.updateDisplay();
                  
                  return fallbackData;
              } finally {
                  this.isFetching = false;
              }
          }
          
          async fetchMockWeather() {
              // Simulate API delay
              await PerformanceUtils.sleep(500);
              
              // Get random or sequential weather
              const weather = this.getRandomWeather();
              
              // Simulate forecast
              this.forecast = [];
              for (let i = 1; i <= 5; i++) {
                  const forecastDay = new Date();
                  forecastDay.setDate(forecastDay.getDate() + i);
                  
                  this.forecast.push({
                      date: forecastDay.toISOString().split('T')[0],
                      high: Math.floor(Math.random() * 10) + 78,
                      low: Math.floor(Math.random() * 10) + 68,
                      condition: this.mockWeatherConditions[Math.floor(Math.random() * this.mockWeatherConditions.length)].condition,
                      icon: this.mockWeatherConditions[Math.floor(Math.random() * this.mockWeatherConditions.length)].icon,
                      precipitation: Math.floor(Math.random() * 40) + '%'
                  });
              }
              
              return {
                  ...weather,
                  forecast: this.forecast,
                  lastUpdated: new Date().toISOString(),
                  location: 'Caribbean Sea',
                  sunrise: '6:45 AM',
                  sunset: '6:15 PM',
                  uvIndex: '8 (Very High)',
                  visibility: '10 miles'
              };
          }
          
          async fetchApiWeather() {
              // This would be the real API implementation
              try {
                  const response = await fetch(CONFIG.API_ENDPOINTS.WEATHER, {
                      method: 'GET',
                      headers: {
                          'Content-Type': 'application/json'
                      }
                  });
                  
                  if (!response.ok) {
                      throw new Error(`Weather API error: ${response.status}`);
                  }
                  
                  const data = await response.json();
                  return this.transformApiData(data);
              } catch (error) {
                  throw error;
              }
          }
          
          transformApiData(apiData) {
              // Transform API response to our format
              return {
                  temp: `${Math.round(apiData.main.temp)}¬∞F`,
                  condition: apiData.weather[0].main,
                  icon: this.getWeatherIcon(apiData.weather[0].icon),
                  description: apiData.weather[0].description,
                  humidity: `${apiData.main.humidity}%`,
                  wind: `${Math.round(apiData.wind.speed)} mph`,
                  location: apiData.name,
                  lastUpdated: new Date().toISOString()
              };
          }
          
          getRandomWeather() {
              const randomIndex = Math.floor(Math.random() * this.mockWeatherConditions.length);
              return { ...this.mockWeatherConditions[randomIndex] };
          }
          
          getWeatherIcon(iconCode) {
              // Map OpenWeatherMap icons to emoji
              const iconMap = {
                  '01d': '‚òÄÔ∏è', '01n': 'üåô',
                  '02d': 'üå§Ô∏è', '02n': 'üå§Ô∏è',
                  '03d': '‚òÅÔ∏è', '03n': '‚òÅÔ∏è',
                  '04d': '‚òÅÔ∏è', '04n': '‚òÅÔ∏è',
                  '09d': 'üåßÔ∏è', '09n': 'üåßÔ∏è',
                  '10d': 'üå¶Ô∏è', '10n': 'üå¶Ô∏è',
                  '11d': '‚õàÔ∏è', '11n': '‚õàÔ∏è',
                  '13d': '‚ùÑÔ∏è', '13n': '‚ùÑÔ∏è',
                  '50d': 'üå´Ô∏è', '50n': 'üå´Ô∏è'
              };
              
              return iconMap[iconCode] || 'üå°Ô∏è';
          }
          
          updateDisplay() {
              if (!this.currentWeather) return;
              
              // Animate changes
              this.animateWeatherChange();
              
              // Update DOM after animation
              setTimeout(() => {
                  if (this.tempElement) {
                      this.tempElement.textContent = this.currentWeather.temp;
                      this.tempElement.setAttribute('aria-label', `Temperature: ${this.currentWeather.temp}`);
                  }
                  
                  if (this.conditionElement) {
                      this.conditionElement.textContent = this.currentWeather.condition;
                  }
                  
                  if (this.iconElement) {
                      this.iconElement.textContent = this.currentWeather.icon;
                      this.iconElement.setAttribute('aria-label', this.currentWeather.condition);
                  }
                  
                  if (this.forecastElement) {
                      this.forecastElement.innerHTML = `
                          <p>Typical February weather: 75-82¬∞F days, 68¬∞F nights. ${this.currentWeather.description}.</p>
                          <p class="weather-details">
                              <span>Humidity: ${this.currentWeather.humidity || '65%'}</span> ‚Ä¢ 
                              <span>Wind: ${this.currentWeather.wind || '10 mph'}</span>
                          </p>
                      `;
                  }
                  
                  // Update last updated time
                  const lastUpdatedElement = document.getElementById('weatherLastUpdated');
                  if (lastUpdatedElement) {
                      const now = new Date();
                      lastUpdatedElement.textContent = `Updated: ${now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}`;
                  }
              }, 200);
          }
          
          animateWeatherChange() {
              // Fade out current values
              if (this.tempElement) this.tempElement.style.opacity = '0.5';
              if (this.conditionElement) this.conditionElement.style.opacity = '0.5';
              if (this.iconElement) this.iconElement.style.opacity = '0.5';
              
              // Fade in new values
              setTimeout(() => {
                  if (this.tempElement) this.tempElement.style.opacity = '1';
                  if (this.conditionElement) this.conditionElement.style.opacity = '1';
                  if (this.iconElement) this.iconElement.style.opacity = '1';
              }, 200);
          }
          
          getCurrentWeather() {
              return this.currentWeather;
          }
          
          getForecast() {
              return this.forecast;
          }
          
          addObserver(observer) {
              this.observers.add(observer);
          }
          
          removeObserver(observer) {
              this.observers.delete(observer);
          }
          
          notifyObservers(data) {
              this.observers.forEach(observer => {
                  try {
                      if (typeof observer === 'function') {
                          observer(data);
                      } else if (observer && typeof observer.update === 'function') {
                          observer.update(data);
                      }
                  } catch (error) {
                      this.errorHandler.log(error, 'WeatherManager.notifyObservers');
                  }
              });
          }
          
          destroy() {
              if (this.intervalId) {
                  clearInterval(this.intervalId);
                  this.intervalId = null;
              }
              
              this.observers.clear();
              
              // Clean up DOM references
              this.tempElement = null;
              this.conditionElement = null;
              this.iconElement = null;
              this.forecastElement = null;
          }
         }
         
         // ============================================================================
         // MAIN APPLICATION
         // ============================================================================
         
         class CruiseCompanionApp {
          constructor() {
              // Initialize managers
              this.errorHandler = new ErrorHandler();
              this.storage = new StorageManager();
              this.searchManager = new SearchManager();
              this.navigationManager = new NavigationManager();
              this.uiManager = new UIComponentsManager();
              this.countdownManager = new CountdownManager(CONFIG.CRUISE_DATE);
              this.weatherManager = new WeatherManager();
              
              // App state
              this.isInitialized = false;
              this.isLoading = false;
              this.isOffline = !navigator.onLine;
              this.userPreferences = {};
              this.appState = {
                  compactMode: false,
                  criticalFilter: false,
                  daySelectorVisible: false,
                  topBarHintVisible: true
              };
              
              // Performance tracking
              this.appStartTime = Date.now();
              this.interactionCount = 0;
              
              // Bind methods
              this.handleResize = PerformanceUtils.debounce(this.handleResize.bind(this), 250);
              this.handleOnline = this.handleOnline.bind(this);
              this.handleOffline = this.handleOffline.bind(this);
              this.handleBeforeUnload = this.handleBeforeUnload.bind(this);
              this.handleKeyDown = this.handleKeyDown.bind(this);
          }
          
          async initialize() {
              if (this.isInitialized) {
                  console.warn('App is already initialized');
                  return false;
              }
              
              this.isLoading = true;
              
              try {
                  console.log('üö¢ Cruise Companion App Initializing...');
                  
                  // Show loading overlay
                  this.showLoadingOverlay('Loading Your Cruise Adventure');
                  
                  // Load user preferences
                  await this.loadPreferences();
                  
                  // Initialize UI components
                  await this.uiManager.initialize();
                  
                  // Build search index
                  await this.searchManager.buildIndex();
                  
                  // Initialize weather
                  await this.weatherManager.initialize();
                  
                  // Set up event listeners
                  this.setupEventListeners();
                  
                  // Set up navigation from URL hash
                  await this.setupInitialNavigation();
                  
                  // Initialize countdown
                  this.countdownManager.start();
                  
                  // Update sticky offsets
                  this.updateStickyOffsets();
                  
                  // Set app as initialized
                  this.isInitialized = true;
                  this.isLoading = false;
                  
                  // Hide loading overlay
                  this.hideLoadingOverlay();
                  
                  // Show welcome toast
                  this.showWelcomeMessage();
                  
                  // Log initialization time
                  const initTime = Date.now() - this.appStartTime;
                  console.log(`‚úÖ App initialized in ${initTime}ms`);
                  
                  // Send analytics
                  this.trackEvent('app_initialized', { init_time: initTime });
                  
                  return true;
              } catch (error) {
                  this.errorHandler.log(error, 'CruiseCompanionApp.initialize');
                  this.isLoading = false;
                  
                  // Show error to user
                  this.uiManager.showToast(
                      'Failed to initialize app. Please refresh the page.',
                      { type: 'error', duration: 5000 }
                  );
                  
                  return false;
              }
          }
          
          async loadPreferences() {
              try {
                  this.userPreferences = this.storage.loadPreferences();
                  
                  // Apply preferences
                  this.applyPreferences();
                  
                  return this.userPreferences;
              } catch (error) {
                  this.errorHandler.log(error, 'CruiseCompanionApp.loadPreferences');
                  return {};
              }
          }
          
          applyPreferences() {
              // Compact mode
              if (this.userPreferences.compactMode) {
                  this.toggleCompactMode(true);
              }
              
              // Critical filter
              if (this.userPreferences.criticalFilter) {
                  this.toggleCriticalFilter(true);
              }
              
              // Theme
              if (this.userPreferences.theme === 'dark') {
                  document.body.classList.add('dark-theme');
              }
              
              // Font size
              if (this.userPreferences.fontSize) {
                  document.documentElement.style.setProperty('--font-size', this.userPreferences.fontSize);
              }
          }
          
          async setupInitialNavigation() {
              // Check URL hash
              const hash = window.location.hash.substring(1);
              
              if (hash && this.navigationManager.availableSections.includes(hash)) {
                  await this.navigationManager.navigateToSection(hash, { scroll: false });
              } else {
                  // Default to overview
                  await this.navigationManager.navigateToSection('overview', { scroll: false });
              }
              
              // Check for day parameter
              const urlParams = new URLSearchParams(window.location.search);
              const day = urlParams.get('day');
              if (day && this.navigationManager.availableDays.includes(day)) {
                  this.navigationManager.setCurrentDay(day);
              }
          }
          
          setupEventListeners() {
              // Window events
              window.addEventListener('resize', this.handleResize);
              window.addEventListener('online', this.handleOnline);
              window.addEventListener('offline', this.handleOffline);
              window.addEventListener('beforeunload', this.handleBeforeUnload);
              document.addEventListener('keydown', this.handleKeyDown);
              
              // Search
              this.setupSearchListeners();
              
              // Navigation
              this.setupNavigationListeners();
              
              // Actions
              this.setupActionListeners();
              
              // Touch gestures
              this.setupTouchListeners();
          }
          
          setupSearchListeners() {
              const searchBtn = document.getElementById('searchBtn');
              const searchOverlay = document.getElementById('searchOverlay');
              const searchInput = document.getElementById('searchInput');
              const searchForm = document.getElementById('searchForm');
              const searchClose = document.getElementById('searchClose');
              
              if (!searchBtn || !searchOverlay) return;
              
              // Open search
              searchBtn.addEventListener('click', () => {
                  this.openSearch();
              });
              
              // Close search
              if (searchClose) {
                  searchClose.addEventListener('click', () => {
                      this.closeSearch();
                  });
              }
              
              // Handle search form submission
              if (searchForm) {
                  searchForm.addEventListener('submit', async (e) => {
                      e.preventDefault();
                      const query = searchInput?.value?.trim();
                      if (query) {
                          await this.performSearch(query);
                      }
                  });
              }
              
              // Handle real-time search
              if (searchInput) {
                  searchInput.addEventListener('input', PerformanceUtils.debounce(async (e) => {
                      const query = e.target.value.trim();
                      if (query.length >= 2) {
                          await this.performSearch(query);
                      } else {
                          this.clearSearchResults();
                      }
                  }, CONFIG.DEBOUNCE_DELAY));
              }
              
              // Close overlay when clicking outside
              if (searchOverlay) {
                  searchOverlay.addEventListener('click', (e) => {
                      if (e.target === searchOverlay) {
                          this.closeSearch();
                      }
                  });
              }
              
              // Quick search chips
              document.querySelectorAll('.search-chip').forEach(chip => {
                  chip.addEventListener('click', async () => {
                      const query = chip.dataset.query || chip.textContent.trim();
                      if (searchInput) {
                          searchInput.value = query;
                          searchInput.focus();
                      }
                      await this.performSearch(query);
                  });
              });
          }
          
          setupNavigationListeners() {
              // Section navigation
              document.querySelectorAll('[data-section]').forEach(element => {
                  element.addEventListener('click', async (e) => {
                      e.preventDefault();
                      const sectionId = element.dataset.section;
                      await this.navigationManager.navigateToSection(sectionId);
                  });
              });
              
              // Day navigation
              document.querySelectorAll('.day-btn').forEach(btn => {
                  btn.addEventListener('click', () => {
                      const day = btn.dataset.day;
                      this.navigationManager.setCurrentDay(day);
                  });
              });
              
              // Traveler selector
              const travelerSelect = document.getElementById('travelerSelect');
              if (travelerSelect) {
                  travelerSelect.addEventListener('change', (e) => {
                      const view = e.target.value;
                      this.navigationManager.setTravelerView(view);
                  });
              }
              
              // Mobile menu
              const mobileMenuBtn = document.getElementById('mobileMenuBtn');
              if (mobileMenuBtn) {
                  mobileMenuBtn.addEventListener('click', () => {
                      this.toggleMobileMenu();
                  });
              }
              
              // Mobile drawer close
              const drawerClose = document.getElementById('sectionDrawerClose');
              if (drawerClose) {
                  drawerClose.addEventListener('click', () => {
                      this.closeMobileMenu();
                  });
              }
              
              // Bottom navigation
              document.querySelectorAll('.bottom-nav .nav-item').forEach(item => {
                  item.addEventListener('click', (e) => {
                      if (!item.dataset.section) {
                          // "More" button
                          this.toggleMobileMenu();
                      }
                  });
              });
          }
          
          setupActionListeners() {
              // Print button
              const printBtn = document.getElementById('printBtn');
              if (printBtn) {
                  printBtn.addEventListener('click', () => {
                      this.printItinerary();
                  });
              }
              
              // Offline button
              const offlineBtn = document.getElementById('offlineBtn');
              if (offlineBtn) {
                  offlineBtn.addEventListener('click', () => {
                      this.saveForOffline();
                  });
              }
              
              // Share button
              const shareBtn = document.getElementById('shareBtn');
              if (shareBtn) {
                  shareBtn.addEventListener('click', () => {
                      this.shareCruisePlan();
                  });
              }
              
              // Compact mode toggle
              const compactToggleBtn = document.getElementById('compactToggleBtn');
              if (compactToggleBtn) {
                  compactToggleBtn.addEventListener('click', () => {
                      this.toggleCompactMode();
                  });
              }
              
              // Critical filter toggle
              const criticalToggleBtn = document.getElementById('criticalToggleBtn');
              if (criticalToggleBtn) {
                  criticalToggleBtn.addEventListener('click', () => {
                      this.toggleCriticalFilter();
                  });
              }
              
              // Jump to critical
              const jumpToCriticalBtn = document.getElementById('jumpToCriticalBtn');
              if (jumpToCriticalBtn) {
                  jumpToCriticalBtn.addEventListener('click', () => {
                      this.jumpToCriticalChecklist();
                  });
              }
              
              // Top bar hint close
              const topBarHintClose = document.getElementById('topBarHintClose');
              if (topBarHintClose) {
                  topBarHintClose.addEventListener('click', () => {
                      this.dismissTopBarHint();
                  });
              }
          }
          
          setupTouchListeners() {
              let touchStart = null;
              let lastTap = 0;
              
              document.addEventListener('touchstart', (e) => {
                  if (e.touches.length === 1) {
                      touchStart = {
                          x: e.touches[0].clientX,
                          y: e.touches[0].clientY,
                          time: Date.now()
                      };
                  }
              }, { passive: true });
              
              document.addEventListener('touchend', (e) => {
                  if (!touchStart) return;
                  
                  const touch = e.changedTouches[0];
                  const deltaX = touch.clientX - touchStart.x;
                  const deltaY = touch.clientY - touchStart.y;
                  const elapsed = Date.now() - touchStart.time;
                  
                  // Swipe down from top to show hint
                  if (touchStart.y < 100 && deltaY > 80 && elapsed < 300) {
                      this.showTopBarHint(true);
                  }
                  
                  // Double tap to toggle compact mode
                  if (elapsed < 250) {
                      const now = Date.now();
                      if (now - lastTap < 300) {
                          this.toggleCompactMode();
                          lastTap = 0;
                      } else {
                          lastTap = now;
                      }
                  }
                  
                  touchStart = null;
              }, { passive: true });
              
              // Drawer swipe to close
              const drawer = document.getElementById('sectionDrawer');
              if (drawer) {
                  let drawerSwipeStart = null;
                  
                  drawer.addEventListener('touchstart', (e) => {
                      if (e.touches.length === 1) {
                          drawerSwipeStart = e.touches[0].clientX;
                      }
                  }, { passive: true });
                  
                  drawer.addEventListener('touchend', (e) => {
                      if (!drawerSwipeStart) return;
                      
                      const touch = e.changedTouches[0];
                      const deltaX = touch.clientX - drawerSwipeStart;
                      
                      if (deltaX > 80) {
                          this.closeMobileMenu();
                      }
                      
                      drawerSwipeStart = null;
                  }, { passive: true });
              }
          }
          
          async openSearch() {
              const searchOverlay = document.getElementById('searchOverlay');
              const searchInput = document.getElementById('searchInput');
              
              if (!searchOverlay || !searchInput) return;
              
              // Open overlay
              searchOverlay.classList.add('active');
              searchOverlay.setAttribute('aria-hidden', 'false');
              
              // Focus input after animation
              setTimeout(() => {
                  searchInput.focus();
                  searchInput.select();
              }, 100);
              
              // Load search suggestions
              this.updateSearchSuggestions();
              
              // Track event
              this.trackEvent('search_opened');
          }
          
          closeSearch() {
              const searchOverlay = document.getElementById('searchOverlay');
              const searchInput = document.getElementById('searchInput');
              
              if (!searchOverlay || !searchInput) return;
              
              // Clear input
              searchInput.value = '';
              
              // Clear results
              this.clearSearchResults();
              
              // Close overlay
              searchOverlay.classList.remove('active');
              searchOverlay.setAttribute('aria-hidden', 'true');
              
              // Return focus to search button
              const searchBtn = document.getElementById('searchBtn');
              if (searchBtn) {
                  searchBtn.focus();
              }
          }
          
          updateSearchSuggestions() {
              const recentContainer = document.getElementById('recentSearchChips');
              const recentGroup = document.getElementById('recentSearchesGroup');
              
              if (!recentContainer || !recentGroup) return;
              
              const history = this.searchManager.history;
              
              if (history.length > 0) {
                  recentGroup.style.display = 'block';
                  recentContainer.innerHTML = history
                      .map(term => `
                          <button type="button" class="search-chip" data-query="${term}">
                              <i class="fas fa-history" aria-hidden="true"></i>
                              ${term}
                          </button>
                      `)
                      .join('');
              } else {
                  recentGroup.style.display = 'none';
              }
              
              // Add click handlers to new chips
              recentContainer.querySelectorAll('.search-chip').forEach(chip => {
                  chip.addEventListener('click', async () => {
                      const query = chip.dataset.query;
                      const searchInput = document.getElementById('searchInput');
                      if (searchInput) {
                          searchInput.value = query;
                          searchInput.focus();
                      }
                      await this.performSearch(query);
                  });
              });
          }
          
          async performSearch(query) {
              if (!query || query.trim() === '') return;
              
              const searchResults = document.getElementById('searchResults');
              if (!searchResults) return;
              
              // Show loading state
              searchResults.innerHTML = `
                  <div class="search-loading">
                      <div class="loading-spinner"></div>
                      <p>Searching for "${query}"...</p>
                  </div>
              `;
              
              try {
                  const result = await this.searchManager.search(query);
                  
                  if (result.results.length === 0) {
                      searchResults.innerHTML = `
                          <div class="no-results">
                              <i class="fas fa-search" aria-hidden="true"></i>
                              <h3>No results found for "${query}"</h3>
                              <p>Try different keywords or browse the sections above</p>
                          </div>
                      `;
                      return;
                  }
                  
                  // Display results
                  const resultsHTML = result.results.map(item => `
                      <div class="search-result ${item.critical ? 'critical' : ''}" 
                           data-result-id="${item.id}"
                           data-result-type="${item.type}">
                          <div class="search-result-header">
                              <div class="search-result-category">
                                  <i class="fas fa-${this.getResultIcon(item.type)}" aria-hidden="true"></i>
                                  ${item.category || item.type.toUpperCase()}
                              </div>
                              ${item.critical ? '<span class="search-result-badge">Critical</span>' : ''}
                          </div>
                          <h4 class="search-result-title">${this.searchManager.highlightText(item.title, query)}</h4>
                          <p class="search-result-snippet">${this.searchManager.highlightText(
                              item.content.substring(0, 150) + '...', 
                              query
                          )}</p>
                          <div class="search-result-footer">
                              <span class="search-result-priority">
                                  <i class="fas fa-star" aria-hidden="true"></i>
                                  Priority ${item.priority}/5
                              </span>
                              <button class="search-result-action" data-action="navigate">
                                  Go to section <i class="fas fa-arrow-right" aria-hidden="true"></i>
                              </button>
                          </div>
                      </div>
                  `).join('');
                  
                  searchResults.innerHTML = resultsHTML;
                  
                  // Add click handlers
                  searchResults.querySelectorAll('.search-result').forEach(resultElement => {
                      resultElement.addEventListener('click', (e) => {
                          if (!e.target.closest('.search-result-action')) {
                              const resultId = resultElement.dataset.resultId;
                              this.handleSearchResultClick(resultId);
                          }
                      });
                      
                      const actionBtn = resultElement.querySelector('.search-result-action');
                      if (actionBtn) {
                          actionBtn.addEventListener('click', (e) => {
                              e.stopPropagation();
                              const resultId = resultElement.dataset.resultId;
                              this.handleSearchResultClick(resultId);
                          });
                      }
                  });
                  
                  // Track search event
                  this.trackEvent('search_performed', {
                      query: query,
                      result_count: result.results.length
                  });
                  
              } catch (error) {
                  this.errorHandler.log(error, 'CruiseCompanionApp.performSearch');
                  
                  searchResults.innerHTML = `
                      <div class="no-results">
                          <i class="fas fa-exclamation-triangle" aria-hidden="true"></i>
                          <h3>Search Error</h3>
                          <p>Unable to perform search. Please try again.</p>
                      </div>
                  `;
              }
          }
          
          getResultIcon(type) {
              const icons = {
                  section: 'file-alt',
                  feature: 'star',
                  port: 'umbrella-beach',
                  excursion: 'hiking',
                  activity: 'swimmer',
                  safety: 'life-ring',
                  tool: 'mobile-alt',
                  service: 'wifi'
              };
              return icons[type] || 'search';
          }
          
          clearSearchResults() {
              const searchResults = document.getElementById('searchResults');
              if (searchResults) {
                  searchResults.innerHTML = `
                      <div class="no-results">
                          <p>Type to search for cruise information...</p>
                          <p class="text-sm mt-2">Try: "CocoCay", "dining", "formal night", "wifi"</p>
                      </div>
                  `;
              }
          }
          
          handleSearchResultClick(resultId) {
              // Close search
              this.closeSearch();
              
              // Find the item
              const item = this.searchManager.index.find(item => item.id === resultId);
              if (!item) return;
              
              // If it's a critical safety item, jump to critical checklist
              if (item.critical && (item.type === 'safety' || item.id.includes('emuster'))) {
                  this.jumpToCriticalChecklist();
                  return;
              }
              
              // If it has an element, navigate to its section
              if (item.element) {
                  const section = item.element.closest('section[id]');
                  if (section) {
                      this.navigationManager.navigateToSection(section.id);
                      
                      // Highlight the specific element
                      this.highlightElement(item.element);
                  }
              } else if (item.type === 'section') {
                  // Navigate to the section
                  this.navigationManager.navigateToSection(resultId);
              }
              
              // Track result click
              this.trackEvent('search_result_clicked', {
                  result_id: resultId,
                  result_type: item.type,
                  is_critical: item.critical
              });
          }
          
          highlightElement(element) {
              if (!element) return;
              
              // Add highlight class
              element.classList.add('search-result-highlight');
              
              // Remove after animation
              setTimeout(() => {
                  element.classList.remove('search-result-highlight');
              }, 2000);
          }
          
          toggleMobileMenu() {
              const drawer = document.getElementById('sectionDrawer');
              const overlay = document.getElementById('sectionDrawerOverlay');
              
              if (!drawer || !overlay) return;
              
              const isOpen = drawer.classList.contains('open');
              
              if (isOpen) {
                  this.closeMobileMenu();
              } else {
                  this.openMobileMenu();
              }
          }
          
          openMobileMenu() {
              const drawer = document.getElementById('sectionDrawer');
              const overlay = document.getElementById('sectionDrawerOverlay');
              const mobileMenuBtn = document.getElementById('mobileMenuBtn');
              
              if (!drawer || !overlay) return;
              
              drawer.classList.add('open');
              overlay.classList.add('open');
              drawer.setAttribute('aria-hidden', 'false');
              overlay.setAttribute('aria-hidden', 'false');
              
              if (mobileMenuBtn) {
                  mobileMenuBtn.setAttribute('aria-expanded', 'true');
              }
              
              // Prevent body scroll
              document.body.style.overflow = 'hidden';
              
              // Track event
              this.trackEvent('mobile_menu_opened');
          }
          
          closeMobileMenu() {
              const drawer = document.getElementById('sectionDrawer');
              const overlay = document.getElementById('sectionDrawerOverlay');
              const mobileMenuBtn = document.getElementById('mobileMenuBtn');
              
              if (!drawer || !overlay) return;
              
              drawer.classList.remove('open');
              overlay.classList.remove('open');
              drawer.setAttribute('aria-hidden', 'true');
              overlay.setAttribute('aria-hidden', 'true');
              
              if (mobileMenuBtn) {
                  mobileMenuBtn.setAttribute('aria-expanded', 'false');
              }
              
              // Restore body scroll
              document.body.style.overflow = '';
          }
          
          toggleCompactMode(force) {
              const compactToggleBtn = document.getElementById('compactToggleBtn');
              const isActive = force !== undefined ? force : !document.body.classList.contains('compact-mode');
              
              // Update body class
              document.body.classList.toggle('compact-mode', isActive);
              
              // Update button state
              if (compactToggleBtn) {
                  compactToggleBtn.classList.toggle('active', isActive);
                  compactToggleBtn.setAttribute('aria-pressed', isActive.toString());
              }
              
              // Update preferences
              this.userPreferences.compactMode = isActive;
              this.storage.savePreferences(this.userPreferences);
              
              // Update sticky offsets
              this.updateStickyOffsets();
              
              // Show toast
              this.uiManager.showToast(
                  isActive ? 'Compact mode enabled' : 'Compact mode disabled',
                  { type: 'info', duration: 2000 }
              );
              
              // Track event
              this.trackEvent('compact_mode_toggled', { enabled: isActive });
          }
          
          toggleCriticalFilter(force) {
              const criticalToggleBtn = document.getElementById('criticalToggleBtn');
              const statusText = document.getElementById('criticalToggleStatus');
              
              const isActive = force !== undefined ? force : !document.body.classList.contains('critical-only');
              
              // Update body class
              document.body.classList.toggle('critical-only', isActive);
              
              // Update button state
              if (criticalToggleBtn) {
                  criticalToggleBtn.classList.toggle('active', isActive);
                  criticalToggleBtn.setAttribute('aria-pressed', isActive.toString());
              }
              
              // Update status text
              if (statusText) {
                  statusText.textContent = isActive ? 
                      'Showing critical sections only' : 
                      'Showing all sections';
              }
              
              // Update preferences
              this.userPreferences.criticalFilter = isActive;
              this.storage.savePreferences(this.userPreferences);
              
              // Update sticky offsets
              this.updateStickyOffsets();
              
              // Show/hide critical badge
              this.updateCriticalBadgeVisibility();
              
              // Track event
              this.trackEvent('critical_filter_toggled', { enabled: isActive });
          }
          
          jumpToCriticalChecklist() {
              // Navigate to operations section
              this.navigationManager.navigateToSection('operations');
              
              // Expand the operations accordion
              const operationsToggle = document.querySelector('[aria-controls="operationsContent"]');
              if (operationsToggle && operationsToggle.getAttribute('aria-expanded') === 'false') {
                  operationsToggle.click();
              }
              
              // Scroll to critical checklist
              setTimeout(() => {
                  const checklist = document.getElementById('criticalChecklist');
                  if (checklist) {
                      DOMUtils.scrollToElement(checklist, this.navigationManager.calculateScrollOffset());
                      
                      // Highlight critical items
                      this.highlightCriticalItems();
                  }
              }, 300);
              
              // Track event
              this.trackEvent('jump_to_critical');
          }
          
          highlightCriticalItems() {
              const criticalItems = document.querySelectorAll('.critical-item');
              
              criticalItems.forEach(item => {
                  item.classList.add('critical-highlight');
              });
              
              // Remove highlight after animation
              setTimeout(() => {
                  criticalItems.forEach(item => {
                      item.classList.remove('critical-highlight');
                  });
              }, 2000);
          }
          
          updateCriticalBadgeVisibility() {
              const badge = document.getElementById('criticalCountBadge');
              if (!badge) return;
              
              const isCriticalOnly = document.body.classList.contains('critical-only');
              badge.style.display = isCriticalOnly ? 'none' : 'inline-flex';
          }
          
          showTopBarHint(force = false) {
              const hintEl = document.getElementById('topBarHint');
              if (!hintEl) return;
              
              // Check if user has dismissed today's hint
              const todayKey = new Date().toISOString().split('T')[0];
              const dismissedKey = this.storage.get(CONFIG.STORAGE_KEYS.HINT_DISMISSED);
              
              if (!force && dismissedKey === todayKey) {
                  return;
              }
              
              // Show hint
              hintEl.classList.remove('is-hidden');
              this.appState.topBarHintVisible = true;
              
              // Update sticky offsets
              this.updateStickyOffsets();
              
              // Auto-hide after 10 seconds
              setTimeout(() => {
                  this.hideTopBarHint();
              }, 10000);
          }
          
          hideTopBarHint() {
              const hintEl = document.getElementById('topBarHint');
              if (hintEl) {
                  hintEl.classList.add('is-hidden');
                  this.appState.topBarHintVisible = false;
                  this.updateStickyOffsets();
              }
          }
          
          dismissTopBarHint() {
              // Store dismissal date
              const todayKey = new Date().toISOString().split('T')[0];
              this.storage.set(CONFIG.STORAGE_KEYS.HINT_DISMISSED, todayKey);
              
              // Hide hint
              this.hideTopBarHint();
              
              // Track event
              this.trackEvent('top_bar_hint_dismissed');
          }
          
          updateStickyOffsets() {
              const header = document.querySelector('.header');
              const topBar = document.getElementById('topBarHint');
              const daySelector = document.querySelector('.day-selector');
              
              let headerHeight = 0;
              let topBarHeight = 0;
              let daySelectorHeight = 0;
              
              if (header) headerHeight = header.offsetHeight;
              if (topBar && !topBar.classList.contains('is-hidden')) {
                  topBarHeight = topBar.offsetHeight;
              }
              if (daySelector && !daySelector.classList.contains('day-selector--hidden')) {
                  daySelectorHeight = daySelector.offsetHeight;
              }
              
              // Calculate total offset
              const totalOffset = headerHeight + topBarHeight + daySelectorHeight;
              
              // Update CSS custom properties
              document.documentElement.style.setProperty('--header-height', `${headerHeight}px`);
              document.documentElement.style.setProperty('--top-bar-height', `${topBarHeight}px`);
              document.documentElement.style.setProperty('--day-selector-height', `${daySelectorHeight}px`);
              document.documentElement.style.setProperty('--sticky-offset', `${totalOffset}px`);
              document.documentElement.style.setProperty('--scroll-padding', `${totalOffset + 20}px`);
          }
          
          async printItinerary() {
              // Show preparing message
              this.uiManager.showToast('Preparing itinerary for printing...', {
                  type: 'info',
                  duration: 1500
              });
              
              // Store current state
              const currentSection = this.navigationManager.currentSection;
              const scrollPosition = window.scrollY;
              
              // Expand all accordions for printing
              document.querySelectorAll('.card__toggle[aria-expanded="false"]').forEach(toggle => {
                  toggle.click();
              });
              
              // Wait for accordions to expand
              await PerformanceUtils.sleep(500);
              
              // Trigger print
              window.print();
              
              // Restore state after print
              setTimeout(() => {
                  // Collapse accordions (except current section)
                  document.querySelectorAll('.card__toggle[aria-expanded="true"]').forEach(toggle => {
                      const contentId = toggle.getAttribute('aria-controls');
                      const sectionId = contentId.replace('Content', '');
                      if (sectionId !== currentSection) {
                          toggle.click();
                      }
                  });
                  
                  // Restore scroll position
                  window.scrollTo(0, scrollPosition);
                  
                  // Show completion message
                  this.uiManager.showToast('Print complete!', {
                      type: 'success',
                      duration: 2000
                  });
              }, 500);
              
              // Track event
              this.trackEvent('itinerary_printed');
          }
          
          async saveForOffline() {
              // Show saving message
              this.uiManager.showToast('üíæ Saving for offline access...', {
                  type: 'info',
                  duration: 2000
              });
              
              try {
                  // Save current state
                  const appState = {
                      timestamp: Date.now(),
                      sections: {},
                      searchIndex: this.searchManager.index,
                      preferences: this.userPreferences
                  };
                  
                  // Save each section's content
                  this.navigationManager.availableSections.forEach(sectionId => {
                      const section = document.getElementById(sectionId);
                      if (section) {
                          appState.sections[sectionId] = section.innerHTML;
                      }
                  });
                  
                  // Save to storage
                  this.storage.set('cruise_offline_data', appState);
                  
                  // Update offline status
                  this.storage.set('cruise_is_offline', true);
                  this.storage.set('cruise_last_saved', new Date().toISOString());
                  
                  // Update button
                  const offlineBtn = document.getElementById('offlineBtn');
                  if (offlineBtn) {
                      offlineBtn.innerHTML = '<i class="fas fa-check" aria-hidden="true"></i> Saved Offline';
                      offlineBtn.disabled = true;
                      
                      // Re-enable after 10 seconds
                      setTimeout(() => {
                          offlineBtn.disabled = false;
                      }, 10000);
                  }
                  
                  // Show success message
                  this.uiManager.showToast('‚úÖ Cruise hub saved for offline access!', {
                      type: 'success',
                      duration: 3000
                  });
                  
                  // Track event
                  this.trackEvent('offline_saved');
                  
              } catch (error) {
                  this.errorHandler.log(error, 'CruiseCompanionApp.saveForOffline');
                  
                  this.uiManager.showToast('Failed to save offline. Please try again.', {
                      type: 'error',
                      duration: 3000
                  });
              }
          }
          
          async shareCruisePlan() {
              if (navigator.share) {
                  try {
                      await navigator.share({
                          title: 'Royal Caribbean Cruise Planner',
                          text: `Check out our cruise itinerary for ${CONFIG.SHIP_NAME}!`,
                          url: window.location.href
                      });
                      
                      this.uiManager.showToast('Thanks for sharing! üö¢', {
                          type: 'success',
                          duration: 2000
                      });
                      
                      // Track event
                      this.trackEvent('cruise_shared', { method: 'native_share' });
                      
                  } catch (error) {
                      if (error.name !== 'AbortError') {
                          console.error('Share failed:', error);
                          this.fallbackShare();
                      }
                  }
              } else {
                  this.fallbackShare();
              }
          }
          
          fallbackShare() {
              // Copy URL to clipboard
              navigator.clipboard.writeText(window.location.href).then(() => {
                  this.uiManager.showToast('üìã Link copied to clipboard!', {
                      type: 'success',
                      duration: 2000
                  });
                  
                  // Track event
                  this.trackEvent('cruise_shared', { method: 'clipboard' });
                  
              }).catch(err => {
                  console.error('Copy failed:', err);
                  this.uiManager.showToast('Share feature not supported', {
                      type: 'error',
                      duration: 2000
                  });
              });
          }
          
          showWelcomeMessage() {
              // Check if first visit
              const firstVisit = !this.storage.get('cruise_first_visit');
              
              if (firstVisit) {
                  this.uiManager.showToast(
                      'üö¢ Welcome to your Cruise Companion Hub! Explore your itinerary, rooms, and tips.',
                      { type: 'success', duration: 5000 }
                  );
                  
                  // Mark as visited
                  this.storage.set('cruise_first_visit', true);
              } else {
                  this.uiManager.showToast(
                      `Welcome back! ${this.countdownManager.formatTimeRemaining('verbose')} until departure.`,
                      { type: 'info', duration: 4000 }
                  );
              }
          }
          
          showLoadingOverlay(message = 'Loading...') {
              let overlay = document.getElementById('loadingOverlay');
              
              if (!overlay) {
                  overlay = DOMUtils.createElement('div', ['loading-overlay'], {
                      id: 'loadingOverlay'
                  }, `
                      <div class="loading-content">
                          <div class="loading-spinner"></div>
                          <div class="loading-text">${message}</div>
                          <div class="loading-dots">
                              <span></span>
                              <span></span>
                              <span></span>
                          </div>
                      </div>
                  `);
                  
                  document.body.appendChild(overlay);
              }
              
              overlay.classList.remove('hidden');
          }
          
          hideLoadingOverlay() {
              const overlay = document.getElementById('loadingOverlay');
              if (overlay) {
                  overlay.classList.add('hidden');
              }
          }
          
          handleResize() {
              this.updateStickyOffsets();
              
              // Update mobile/desktop classes
              const isMobile = window.innerWidth <= CONFIG.BREAKPOINTS.MOBILE;
              document.body.classList.toggle('mobile-view', isMobile);
              document.body.classList.toggle('desktop-view', !isMobile);
              
              // Close mobile menu on resize to desktop
              if (!isMobile) {
                  this.closeMobileMenu();
              }
              
              // Track resize event
              this.interactionCount++;
          }
          
          handleOnline() {
              this.isOffline = false;
              
              this.uiManager.showToast('Back online! Syncing updates...', {
                  type: 'success',
                  duration: 2000
              });
              
              // Refresh weather data
              this.weatherManager.fetchWeather();
              
              // Track event
              this.trackEvent('app_went_online');
          }
          
          handleOffline() {
              this.isOffline = true;
              
              this.uiManager.showToast('You are offline. Some features may be limited.', {
                  type: 'warning',
                  duration: 3000
              });
              
              // Track event
              this.trackEvent('app_went_offline');
          }
          
          handleKeyDown(event) {
              // Global keyboard shortcuts
              switch (event.key) {
                  case 'Escape':
                      // Close all modals and overlays
                      this.closeSearch();
                      this.closeMobileMenu();
                      break;
                      
                  case '/':
                      // Focus search when pressing /
                      if (!event.target.matches('input, textarea, select')) {
                          event.preventDefault();
                          this.openSearch();
                      }
                      break;
                      
                  case '?':
                      // Show keyboard shortcuts help
                      if (event.shiftKey && !event.target.matches('input, textarea, select')) {
                          event.preventDefault();
                          this.showKeyboardShortcuts();
                      }
                      break;
                      
                  case 'c':
                      // Toggle compact mode with Ctrl/Cmd + C
                      if ((event.ctrlKey || event.metaKey) && !event.shiftKey) {
                          event.preventDefault();
                          this.toggleCompactMode();
                      }
                      break;
                      
                  case 'f':
                      // Toggle critical filter with Ctrl/Cmd + F
                      if ((event.ctrlKey || event.metaKey) && event.shiftKey) {
                          event.preventDefault();
                          this.toggleCriticalFilter();
                      }
                      break;
              }
              
              this.interactionCount++;
          }
          
          showKeyboardShortcuts() {
              const shortcuts = [
                  { key: '/', description: 'Focus search' },
                  { key: 'Escape', description: 'Close modals/overlays' },
                  { key: 'Ctrl/Cmd + C', description: 'Toggle compact mode' },
                  { key: 'Ctrl/Cmd + Shift + F', description: 'Toggle critical filter' },
                  { key: 'Shift + ?', description: 'Show this help' }
              ];
              
              const shortcutsHTML = shortcuts.map(shortcut => `
                  <div class="shortcut-item">
                      <kbd>${shortcut.key}</kbd>
                      <span>${shortcut.description}</span>
                  </div>
              `).join('');
              
              this.uiManager.showToast(`
                  <div class="keyboard-shortcuts">
                      <h4>Keyboard Shortcuts</h4>
                      ${shortcutsHTML}
                  </div>
              `, {
                  type: 'info',
                  duration: 5000
              });
          }
          
          handleBeforeUnload(event) {
              // Save preferences
              this.storage.savePreferences(this.userPreferences);
              
              // Save search history
              this.searchManager.saveHistory();
              
              // Track session end
              this.trackEvent('session_ended', {
                  duration: Date.now() - this.appStartTime,
                  interactions: this.interactionCount,
                  sections_visited: this.navigationManager.sectionHistory.length
              });
              
              // Clean up
              this.cleanup();
              
              // Modern browsers require returnValue to be set
              event.preventDefault();
              event.returnValue = '';
          }
          
          trackEvent(eventName, eventData = {}) {
              // Send to Google Analytics
              if (typeof gtag === 'function') {
                  gtag('event', eventName, {
                      ...eventData,
                      app_version: CONFIG.APP_VERSION,
                      ship_name: CONFIG.SHIP_NAME,
                      is_offline: this.isOffline
                  });
              }
              
              // Send to custom analytics endpoint (if configured)
              if (CONFIG.API_ENDPOINTS.ANALYTICS) {
                  this.sendToAnalytics(eventName, eventData);
              }
              
              // Log to console in development
              if (process.env.NODE_ENV === 'development') {
                  console.log(`üìä Event: ${eventName}`, eventData);
              }
          }
          
          async sendToAnalytics(eventName, eventData) {
              try {
                  await fetch(CONFIG.API_ENDPOINTS.ANALYTICS, {
                      method: 'POST',
                      headers: {
                          'Content-Type': 'application/json'
                      },
                      body: JSON.stringify({
                          event: eventName,
                          data: eventData,
                          timestamp: Date.now(),
                          userAgent: navigator.userAgent,
                          screenResolution: `${window.screen.width}x${window.screen.height}`,
                          language: navigator.language
                      })
                  });
              } catch (error) {
                  // Silent fail for analytics
                  console.error('Analytics error:', error);
              }
          }
          
          cleanup() {
              // Stop intervals
              this.countdownManager.stop();
              this.weatherManager.destroy();
              
              // Clean up UI components
              this.uiManager.destroyAllComponents();
              
              // Clear observers
              this.navigationManager.observers.clear();
              this.countdownManager.observers.clear();
              this.weatherManager.observers.clear();
              
              // Remove event listeners
              window.removeEventListener('resize', this.handleResize);
              window.removeEventListener('online', this.handleOnline);
              window.removeEventListener('offline', this.handleOffline);
              window.removeEventListener('beforeunload', this.handleBeforeUnload);
              document.removeEventListener('keydown', this.handleKeyDown);
          }
          
          getAppState() {
              return {
                  isInitialized: this.isInitialized,
                  isLoading: this.isLoading,
                  isOffline: this.isOffline,
                  currentSection: this.navigationManager.currentSection,
                  currentDay: this.navigationManager.currentDay,
                  currentTravelerView: this.navigationManager.currentTravelerView,
                  compactMode: this.appState.compactMode,
                  criticalFilter: this.appState.criticalFilter,
                  timeRemaining: this.countdownManager.getTimeRemaining(),
                  weather: this.weatherManager.getCurrentWeather(),
                  searchIndexSize: this.searchManager.index.length,
                  searchHistorySize: this.searchManager.history.length,
                  uptime: Date.now() - this.appStartTime,
                  interactionCount: this.interactionCount
              };
          }
          
          debug() {
              const state = this.getAppState();
              console.group('üö¢ Cruise Companion App Debug');
              console.table(state);
              console.groupEnd();
              return state;
          }
         }
         
         // ============================================================================
         // APPLICATION BOOTSTRAP
         // ============================================================================
         
         // Wait for DOM to be fully loaded
         document.addEventListener('DOMContentLoaded', async () => {
          // Create global app instance
          window.CruiseCompanion = new CruiseCompanionApp();
          
          // Initialize the app
          try {
              await window.CruiseCompanion.initialize();
              
              // Add debug method to window for development
              if (process.env.NODE_ENV === 'development') {
                  window.debugCruiseApp = () => window.CruiseCompanion.debug();
                  console.log('üîß Debug mode: Use window.debugCruiseApp() for app state');
              }
              
              // Register service worker for PWA capabilities
              if ('serviceWorker' in navigator) {
                  navigator.serviceWorker.register('/service-worker.js').catch(error => {
                      console.log('Service Worker registration failed:', error);
                  });
              }
              
          } catch (error) {
              console.error('Failed to initialize Cruise Companion:', error);
              
              // Show error to user
              document.body.innerHTML = `
                  <div class="error-screen">
                      <div class="error-content">
                          <h1>üö¢ Cruise Companion Error</h1>
                          <p>We're unable to load the cruise planner at this time.</p>
                          <p>Please try refreshing the page or contact support if the problem persists.</p>
                          <button onclick="window.location.reload()" class="btn btn--primary">
                              Refresh Page
                          </button>
                      </div>
                  </div>
              `;
          }
         });
         
         // Handle errors globally
         window.addEventListener('error', (event) => {
          if (window.CruiseCompanion && window.CruiseCompanion.errorHandler) {
              window.CruiseCompanion.errorHandler.log(event.error, 'GlobalError');
          }
         });
         
         window.addEventListener('unhandledrejection', (event) => {
          if (window.CruiseCompanion && window.CruiseCompanion.errorHandler) {
              window.CruiseCompanion.errorHandler.log(event.reason, 'UnhandledPromiseRejection');
          }
         });
         
         // Export for module usage (if needed)
         if (typeof module !== 'undefined' && module.exports) {
          module.exports = {
              CruiseCompanionApp,
              ErrorHandler,
              StorageManager,
              SearchManager,
              NavigationManager,
              UIComponentsManager,
              CountdownManager,
              WeatherManager,
              PerformanceUtils,
              DOMUtils,
              CONFIG
          };
         }
            
      </script>
   </body>
</html>
