<!DOCTYPE html>
<html lang="en" style="--header-height: 100px; --day-selector-offset: 100px; --scroll-padding: 120px;"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Caribbean Cruise Guide | Adventure of the Seas | Feb 14-20, 2026</title>
    <meta name="description" content="Complete cruise planning guide for the Rahe Family Caribbean adventure aboard Adventure of the Seas. Room details, daily itinerary, dining, tips, and everything you need for an amazing vacation.">
    
    <!-- Preconnect for fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    
    <!-- Fonts with performance optimization -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;800&amp;family=Source+Sans+Pro:wght@300;400;600&amp;display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text y=%22.9em%22 font-size=%2290%22&gt;ðŸš¢&lt;/text&gt;&lt;/svg&gt;">
    
    <!-- Complete CSS with all fixes -->
<style>
:root{
  --royal-navy-950:#061A2B;
  --royal-navy-900:#08233A;
  --royal-navy-800:#0B2F4C;

  --royal-blue-700:#0B5FA8;
  --royal-blue-600:#1477CF;
  --royal-blue-500:#1E8AF0;

  --royal-teal-700:#006E86;
  --royal-teal-600:#0087A5;
  --royal-teal-500:#11A9C7;
  --royal-teal-300:#7FE6F1;

  --royal-gold-600:#B88312;
  --royal-gold-500:#D9A21B;
  --royal-gold-400:#F0B429;
  --royal-gold-200:#FFE6B0;

  --royal-coral-600:#E23D3D;
  --royal-green-600:#1F7A52;

  --royal-white:#FFFFFF;
  --royal-ink:#0B1220;
  --royal-slate-700:#2A3A4B;
  --royal-slate-600:#44586E;
  --royal-slate-500:#5E738A;
  --royal-line:#D7E6F6;
  --royal-line-soft:#EAF2FB;

  --primary:var(--royal-blue-700);
  --primary-light:var(--royal-blue-500);
  --primary-dark:var(--royal-navy-900);

  --secondary:var(--royal-teal-600);
  --secondary-light:var(--royal-teal-300);

  --accent:var(--royal-gold-500);
  --accent-light:var(--royal-gold-200);

  --light:#F2F8FF;
  --dark:var(--royal-navy-950);

  --text:var(--royal-ink);
  --text-light:var(--royal-slate-600);
  --text-lighter:var(--royal-slate-500);

  --border:var(--royal-line);
  --border-light:var(--royal-line-soft);

  --success:var(--royal-green-600);
  --warning:#C7770A;
  --danger:var(--royal-coral-600);
  --info:var(--royal-teal-600);

  --bg-surface:var(--royal-white);
  --bg-surface-alt:#F7FBFF;
  --bg-gradient:linear-gradient(135deg,#F6FBFF 0%,#EAF4FF 55%,#F7FBFF 100%);
  --bg-gradient-dark:linear-gradient(135deg,var(--royal-navy-950) 0%,var(--royal-blue-700) 55%,#0E6DC0 100%);
  --gradient-primary:linear-gradient(135deg,var(--royal-blue-700) 0%,var(--royal-blue-500) 100%);
  --gradient-accent:linear-gradient(135deg,var(--royal-gold-600) 0%,var(--royal-gold-400) 100%);
  --gradient-success:linear-gradient(135deg,var(--royal-green-600) 0%,#2E8B57 100%);
  --gradient-hero:linear-gradient(135deg,rgba(6,26,43,.92) 0%,rgba(11,95,168,.88) 60%,rgba(0,110,134,.82) 100%);

  --radius-sm:6px;
  --radius:10px;
  --radius-lg:16px;
  --radius-xl:24px;
  --radius-xxl:32px;

  --shadow-sm:0 2px 10px rgba(6,26,43,.10);
  --shadow:0 10px 26px rgba(6,26,43,.14);
  --shadow-lg:0 16px 38px rgba(6,26,43,.16);
  --shadow-xl:0 22px 52px rgba(6,26,43,.18);

  --transition:300ms cubic-bezier(.4,0,.2,1);
  --transition-slow:500ms cubic-bezier(.4,0,.2,1);

  --container-max:1200px;
  --container-padding:clamp(16px,4vw,32px);
  --section-spacing:clamp(2rem,5vw,4rem);

  --scroll-padding:120px;
  --header-height:80px;
  --day-selector-offset:80px;

  --text-xs:.75rem;
  --text-sm:.875rem;
  --text-base:1rem;
  --text-lg:1.125rem;
  --text-xl:1.25rem;
  --text-2xl:1.5rem;
  --text-3xl:1.875rem;
  --text-4xl:2.25rem;
  --text-5xl:3rem;
  --text-6xl:3.75rem;

  --space-1:.25rem;
  --space-2:.5rem;
  --space-3:.75rem;
  --space-4:1rem;
  --space-5:1.25rem;
  --space-6:1.5rem;
  --space-8:2rem;
  --space-10:2.5rem;
  --space-12:3rem;
  --space-16:4rem;
  --space-20:5rem;
  --space-24:6rem;
  --space-32:8rem;

  --z-sticky:100;
  --z-fixed:1000;
  --z-modal:1100;
  --z-toast:1200;
  --z-overlay:1300;
}

*,*::before,*::after{
  margin:0;
  padding:0;
  box-sizing:border-box
}

html{
  scroll-behavior:smooth;
  scroll-padding-top:var(--scroll-padding)
}

body{
  font-family:'Source Sans Pro',-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,sans-serif;
  line-height:1.6;
  color:var(--text);
  background:var(--bg-gradient);
  min-height:100vh;
  font-size:var(--text-base);
  overflow-x:hidden;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale
}

h1,h2,h3,h4,h5,h6{
  font-family:'Montserrat',-apple-system,BlinkMacSystemFont,sans-serif;
  font-weight:700;
  line-height:1.2;
  color:var(--dark);
  letter-spacing:-0.02em
}

h1{font-size:var(--text-5xl)}
h2{font-size:var(--text-4xl)}
h3{font-size:var(--text-3xl)}
h4{font-size:var(--text-2xl)}
h5{font-size:var(--text-xl)}
h6{font-size:var(--text-lg)}

p{
  margin-bottom:1em;
  line-height:1.7
}

a{
  color:var(--primary);
  text-decoration:none;
  transition:var(--transition);
  font-weight:600
}

a:hover{
  color:var(--royal-blue-600);
  text-decoration:underline
}

img,svg{
  max-width:100%;
  height:auto;
  display:block
}

ul,ol{
  padding-left:1.5em;
  margin-bottom:1em
}

li{
  margin-bottom:.5em;
  line-height:1.6
}

:focus-visible{
  outline:3px solid rgba(217,162,27,.70);
  outline-offset:4px;
  border-radius:var(--radius-sm)
}

.sr-only{
  position:absolute;
  width:1px;
  height:1px;
  padding:0;
  margin:-1px;
  overflow:hidden;
  clip:rect(0,0,0,0);
  white-space:nowrap;
  border:0
}

.skip-link{
  position:absolute;
  top:-100px;
  left:0;
  background:var(--primary);
  color:#fff;
  padding:12px 20px;
  border-radius:var(--radius);
  text-decoration:none;
  z-index:var(--z-modal);
  transition:top .3s ease
}

.skip-link:focus{top:20px}

.container{
  max-width:var(--container-max);
  margin-inline:auto;
  padding-inline:var(--container-padding);
  width:100%
}

/* ===== minimal utilities actually used in markup ===== */
.text-center{text-align:center}
.bg-light{background-color:var(--light)}
.bg-primary{background-color:var(--primary)}
.bg-accent{background-color:var(--accent)}
.text-white{color:var(--royal-white)}
.text-primary{color:var(--primary)}
.text-light{color:var(--text-light)}
.font-semibold{font-weight:600}
.font-bold{font-weight:700}
.mb-0{margin-bottom:0}
.mb-4{margin-bottom:var(--space-4)}
.mb-6{margin-bottom:var(--space-6)}
.mt-4{margin-top:var(--space-4)}
.mt-6{margin-top:var(--space-6)}
.w-full{width:100%}
.hidden{display:none}

/* ===== animations used ===== */
@keyframes fadeIn{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
@keyframes fadeInUp{from{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}
@keyframes fadeInLeft{from{opacity:0;transform:translateX(-30px)}to{opacity:1;transform:translateX(0)}}
@keyframes spin{to{transform:rotate(360deg)}}
@keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-10px)}}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:.5}}

.animate-fade-in{animation:fadeIn .6s ease-out}
.animate-fade-in-up{animation:fadeInUp .6s ease-out}
.animate-fade-in-left{animation:fadeInLeft .6s ease-out}
.animate-spin{animation:spin 1s linear infinite}
.animate-float{animation:float 3s ease-in-out infinite}
.animate-pulse{animation:pulse 2s ease-in-out infinite}

/* ===== Loading overlay ===== */
.loading-overlay{
  position:fixed;
  inset:0;
  background:var(--bg-gradient-dark);
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  z-index:var(--z-overlay);
  transition:opacity .3s ease
}
.loading-overlay.hidden{opacity:0;pointer-events:none}
.loading-spinner{
  width:60px;height:60px;
  border:4px solid rgba(255,255,255,.12);
  border-radius:50%;
  border-top-color:var(--accent);
  animation:spin 1s linear infinite;
  margin-bottom:var(--space-6)
}
.loading-text{
  color:#fff;
  font-size:var(--text-lg);
  font-weight:600;
  text-align:center
}

/* ===== Header ===== */
.header{
  background:var(--bg-gradient-dark);
  color:#fff;
  padding:var(--space-3) 0;
  position:sticky;
  top:0;
  z-index:var(--z-sticky);
  box-shadow:var(--shadow-lg);
  border-bottom:1px solid rgba(255,255,255,.14);
  backdrop-filter:blur(10px);
  transition:var(--transition)
}
.header::after{
  content:"";
  position:absolute;
  left:0;right:0;bottom:0;
  height:3px;
  background:linear-gradient(90deg,transparent,var(--accent),transparent);
  opacity:.9
}
.header__content{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:var(--space-6)
}
.header__logo{
  display:flex;
  align-items:center;
  gap:var(--space-3);
  font-size:var(--text-xl);
  font-weight:700;
  font-family:'Montserrat',sans-serif;
  text-decoration:none;
  color:#fff;
  transition:var(--transition)
}
.header__logo:hover{transform:translateY(-2px)}
.header__logo-icon{
  font-size:2.2rem;
  animation:float 3s ease-in-out infinite;
  filter:drop-shadow(0 4px 8px rgba(0,0,0,.2))
}
.header__logo-text{
  background:linear-gradient(90deg,#fff,var(--accent-light));
  -webkit-background-clip:text;
  background-clip:text;
  color:transparent;
  font-weight:800;
  font-size:1.4rem;
  letter-spacing:-0.02em
}
.header__logo-text--short{display:none}

.header__mobile-toggle{
  display:none;
  background:transparent;
  border:2px solid rgba(255,255,255,.3);
  color:#fff;
  width:48px;height:48px;
  border-radius:var(--radius);
  cursor:pointer;
  transition:var(--transition);
  position:relative;
  align-items:center;
  justify-content:center
}
.header__mobile-toggle:hover{
  background:rgba(255,255,255,.10);
  border-color:var(--accent);
  transform:scale(1.05)
}
.header__mobile-icon{width:24px;height:2px;background:currentColor;position:relative;transition:var(--transition)}
.header__mobile-icon::before,.header__mobile-icon::after{
  content:"";
  position:absolute;
  width:24px;height:2px;
  background:currentColor;
  left:0;
  transition:var(--transition)
}
.header__mobile-icon::before{top:-6px}
.header__mobile-icon::after{top:6px}

.header__nav{display:flex;align-items:center}
.header__nav-list{display:flex;list-style:none;gap:var(--space-2);margin:0;padding:0}
.header__nav-link{
  background:transparent;
  border:none;
  color:rgba(255,255,255,.92);
  font-family:'Montserrat',sans-serif;
  font-weight:600;
  font-size:var(--text-sm);
  padding:var(--space-3) var(--space-4);
  border-radius:var(--radius);
  cursor:pointer;
  transition:var(--transition);
  display:flex;
  align-items:center;
  gap:var(--space-2);
  text-transform:uppercase;
  letter-spacing:.5px
}
.header__nav-link:hover{
  background:rgba(255,255,255,.10);
  color:#fff;
  transform:translateY(-2px)
}
.header__nav-link.active{
  background:rgba(255,255,255,.12);
  color:#fff;
  box-shadow:none;
  position:relative
}
.header__nav-link.active::after{
  content:"";
  position:absolute;
  left:14px;right:14px;bottom:8px;
  height:2px;
  background:var(--accent);
  border-radius:999px
}
.header__nav-link i{font-size:1.1rem}

.header__search-btn{
  background:transparent;
  border:2px solid rgba(255,255,255,.30);
  color:#fff;
  width:48px;height:48px;
  border-radius:var(--radius);
  cursor:pointer;
  transition:var(--transition);
  display:flex;
  align-items:center;
  justify-content:center
}
.header__search-btn:hover{
  background:rgba(255,255,255,.10);
  border-color:var(--accent);
  transform:scale(1.05)
}

/* ===== Buttons ===== */
.btn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:var(--space-3);
  padding:var(--space-4) var(--space-8);
  border-radius:var(--radius-lg);
  font-weight:700;
  font-family:'Montserrat',sans-serif;
  cursor:pointer;
  transition:var(--transition);
  text-decoration:none;
  font-size:var(--text-base);
  border:2px solid transparent;
  position:relative;
  overflow:hidden;
  min-height:44px;
  text-transform:uppercase;
  letter-spacing:.5px
}
.btn::before{
  content:"";
  position:absolute;
  top:0;left:-100%;
  width:100%;height:100%;
  background:linear-gradient(90deg,transparent,rgba(255,255,255,.18),transparent);
  transition:left .5s ease
}
.btn:hover::before{left:100%}
.btn:active{transform:translateY(2px)}
.btn--primary{background:var(--gradient-primary);color:#fff;box-shadow:var(--shadow)}
.btn--primary:hover{transform:translateY(-4px);box-shadow:var(--shadow-lg)}
.btn--secondary{
  background:transparent;
  border-color:#fff;
  color:#fff;
  backdrop-filter:blur(10px)
}
.btn--secondary:hover{
  background:#fff;
  color:var(--primary);
  transform:translateY(-4px);
  box-shadow:var(--shadow-lg)
}
.btn--accent{background:var(--gradient-accent);color:#fff;box-shadow:var(--shadow)}
.btn--accent:hover{transform:translateY(-4px);box-shadow:var(--shadow-lg)}
.btn--outline{background:transparent;border-color:var(--primary);color:var(--primary)}
.btn--outline:hover{background:var(--primary);color:#fff;transform:translateY(-4px)}
.btn:disabled{opacity:.5;cursor:not-allowed;transform:none!important;box-shadow:none!important}

/* ===== Hero ===== */
.hero{
  background:var(--gradient-hero);
  background-size:cover;
  color:#fff;
  padding:var(--space-24) 0 var(--space-20);
  text-align:center;
  position:relative;
  overflow:hidden;
  margin-bottom:var(--space-8)
}
.hero::before{
  content:"";
  position:absolute;
  inset:0;
  background:
    radial-gradient(circle at 20% 80%, rgba(217,162,27,.10) 0%, transparent 55%),
    radial-gradient(circle at 80% 20%, rgba(17,169,199,.10) 0%, transparent 55%);
  pointer-events:none
}
.hero__content{position:relative;z-index:1;max-width:800px;margin:0 auto}
.hero__title{
  font-size:clamp(2.5rem,5vw,4.5rem);
  margin-bottom:var(--space-4);
  font-weight:800;
  line-height:1.1;
  background:linear-gradient(90deg,#fff,var(--accent-light),var(--royal-teal-300));
  -webkit-background-clip:text;
  background-clip:text;
  color:transparent;
  letter-spacing:-0.03em;
  text-shadow:0 4px 20px rgba(0,0,0,.20);
  animation:fadeInUp .8s ease-out
}
.hero__subtitle{
  font-size:clamp(1.125rem,2vw,1.75rem);
  opacity:.92;
  margin-bottom:var(--space-12);
  font-weight:300;
  max-width:800px;
  margin-inline:auto;
  line-height:1.6;
  animation:fadeInUp .8s ease-out .1s both
}
.hero__actions{
  display:flex;
  gap:var(--space-4);
  justify-content:center;
  flex-wrap:wrap;
  margin-top:var(--space-8);
  animation:fadeInUp .8s ease-out .3s both
}

/* ===== Countdown ===== */
.countdown{
  display:flex;
  justify-content:center;
  gap:var(--space-8);
  margin:var(--space-8) 0 var(--space-12);
  animation:fadeInUp .8s ease-out .2s both
}
.countdown-item{text-align:center;min-width:100px;position:relative}
.countdown-number{
  display:flex;
  align-items:center;
  justify-content:center;
  height:80px;
  font-size:var(--text-5xl);
  font-weight:800;
  font-family:'Montserrat',sans-serif;
  background:linear-gradient(135deg,var(--accent),var(--accent-light));
  -webkit-background-clip:text;
  background-clip:text;
  color:transparent;
  line-height:1;
  text-shadow:0 4px 20px rgba(0,0,0,.28);
  position:relative
}
.countdown-number::before{
  content:"";
  position:absolute;
  inset:0;
  background:linear-gradient(135deg,rgba(217,162,27,.10),rgba(255,230,176,.06));
  border-radius:var(--radius-xl);
  transform:scale(1.1);
  z-index:-1
}
.countdown-label{
  font-size:var(--text-sm);
  text-transform:uppercase;
  letter-spacing:2px;
  color:rgba(255,255,255,.82);
  margin-top:var(--space-3);
  display:block;
  font-weight:600
}

/* ===== Top hint ===== */
.top-bar-hint{
  background:linear-gradient(135deg,var(--accent) 0%,var(--accent-light) 100%);
  color:#fff;
  padding:12px 0;
  position:sticky;
  top:var(--header-height);
  z-index:var(--z-sticky);
  border-bottom:1px solid rgba(255,255,255,.22);
  transition:transform .3s ease,opacity .3s ease;
  box-shadow:0 4px 12px rgba(6,26,43,.14)
}
.top-bar-hint.is-hidden{transform:translateY(-100%);opacity:0;pointer-events:none}
.top-bar-hint__content{display:flex;align-items:center;justify-content:space-between;gap:var(--space-4)}
.top-bar-hint__title{
  font-weight:700;
  font-size:var(--text-base);
  display:flex;
  align-items:center;
  gap:var(--space-3);
  text-shadow:0 1px 2px rgba(0,0,0,.18)
}
.top-bar-hint__detail{font-size:var(--text-sm);opacity:.9;margin-top:2px}
.top-bar-hint__close{
  background:transparent;
  border:none;
  color:#fff;
  cursor:pointer;
  padding:8px;
  border-radius:var(--radius-sm);
  transition:var(--transition);
  flex-shrink:0
}
.top-bar-hint__close:hover{background:rgba(255,255,255,.10);transform:rotate(90deg)}

/* ===== Day selector ===== */
.day-selector{
  background:var(--bg-surface);
  padding:var(--space-3) 0;
  position:sticky;
  top:calc(var(--header-height) + var(--top-bar-hint-height,0px));
  z-index:var(--z-sticky);
  box-shadow:var(--shadow-sm);
  border-bottom:1px solid var(--border-light);
  transition:transform .3s ease
}
.day-selector--hidden{transform:translateY(-100%);opacity:0;pointer-events:none}
.day-nav{
  display:flex;
  gap:var(--space-2);
  overflow-x:auto;
  padding-bottom:4px;
  scrollbar-width:thin;
  scrollbar-color:var(--border) transparent
}
.day-nav::-webkit-scrollbar{height:4px}
.day-nav::-webkit-scrollbar-track{background:transparent}
.day-nav::-webkit-scrollbar-thumb{background:var(--border);border-radius:2px}

.day-btn{
  background:var(--bg-surface-alt);
  border:2px solid var(--border);
  color:var(--text-light);
  font-family:'Montserrat',sans-serif;
  font-weight:600;
  font-size:var(--text-sm);
  padding:var(--space-3) var(--space-5);
  border-radius:var(--radius-lg);
  cursor:pointer;
  transition:var(--transition);
  white-space:nowrap;
  flex-shrink:0
}
.day-btn:hover{
  background:var(--light);
  color:var(--primary);
  border-color:rgba(11,95,168,.35);
  transform:translateY(-2px)
}
.day-btn.active{
  background:rgba(11,95,168,.10);
  color:var(--primary);
  border-color:rgba(11,95,168,.35);
  box-shadow:none
}

/* ===== Traveler selector ===== */
.traveler-selector{
  background:var(--bg-surface-alt);
  padding:var(--space-4) 0;
  border-bottom:1px solid var(--border-light)
}
.traveler-label{
  font-weight:600;
  color:var(--text);
  margin-right:var(--space-3);
  font-family:'Montserrat',sans-serif
}
#travelerSelect{
  background:var(--bg-surface);
  border:2px solid var(--border);
  color:var(--text);
  font-family:'Source Sans Pro',sans-serif;
  font-size:var(--text-base);
  padding:var(--space-3) var(--space-4);
  border-radius:var(--radius);
  cursor:pointer;
  transition:var(--transition);
  min-width:200px
}
#travelerSelect:hover{border-color:rgba(11,95,168,.35)}
#travelerSelect:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px rgba(11,95,168,.10)}

/* ===== Card ===== */
.card{
  background:var(--bg-surface);
  border-radius:var(--radius-xl);
  padding:var(--space-8);
  box-shadow:var(--shadow);
  margin-bottom:var(--space-8);
  transition:var(--transition);
  border:1px solid var(--border);
  position:relative;
  overflow:hidden;
  animation:fadeIn .6s ease-out
}
.card::before{
  content:"";
  position:absolute;
  top:0;left:0;
  width:100%;
  height:4px;
  background:linear-gradient(90deg,var(--royal-blue-600),var(--royal-teal-500));
  z-index:1
}
.card:hover{
  transform:translateY(-8px);
  box-shadow:var(--shadow-xl);
  border-color:rgba(11,95,168,.25)
}
.card--featured{
  border:2px solid rgba(217,162,27,.55);
  background:linear-gradient(135deg,var(--bg-surface) 0%,rgba(217,162,27,.035) 100%)
}
.card--featured::before{background:linear-gradient(90deg,var(--accent),var(--accent-light))}
.card--highlight{
  border:2px solid rgba(17,169,199,.40);
  background:linear-gradient(135deg,var(--bg-surface) 0%,rgba(17,169,199,.03) 100%)
}
.card--highlight::before{background:linear-gradient(90deg,var(--secondary),var(--secondary-light))}
.card__header{
  display:flex;
  align-items:flex-start;
  gap:var(--space-6);
  margin-bottom:var(--space-8);
  padding-bottom:var(--space-6);
  border-bottom:2px solid var(--border)
}
.card__icon{
  width:72px;height:72px;
  background:linear-gradient(135deg,var(--primary),var(--secondary));
  border-radius:var(--radius-lg);
  display:flex;
  align-items:center;
  justify-content:center;
  color:#fff;
  font-size:2rem;
  flex-shrink:0;
  box-shadow:var(--shadow-lg);
  transition:var(--transition)
}
.card:hover .card__icon{transform:scale(1.05) rotate(5deg)}
.card--featured .card__icon{background:linear-gradient(135deg,var(--accent),var(--accent-light))}
.card--highlight .card__icon{background:linear-gradient(135deg,var(--secondary),var(--secondary-light))}
.card__title{
  font-size:var(--text-3xl);
  font-weight:800;
  font-family:'Montserrat',sans-serif;
  flex:1;
  line-height:1.2;
  background:linear-gradient(90deg,var(--royal-ink),var(--primary));
  -webkit-background-clip:text;
  background-clip:text;
  color:transparent;
  letter-spacing:-0.02em
}
.card--featured .card__title{
  background:linear-gradient(90deg,var(--royal-ink),var(--accent));
  -webkit-background-clip:text;
  background-clip:text;
  color:transparent
}
.card--highlight .card__title{
  background:linear-gradient(90deg,var(--royal-ink),var(--secondary));
  -webkit-background-clip:text;
  background-clip:text;
  color:transparent
}
.card__subtitle{color:var(--text-light);margin-top:var(--space-2);font-size:var(--text-lg);line-height:1.5}
.card__toggle{
  background:transparent;
  border:none;
  color:var(--text-light);
  cursor:pointer;
  width:40px;height:40px;
  border-radius:var(--radius);
  display:flex;
  align-items:center;
  justify-content:center;
  transition:var(--transition);
  flex-shrink:0
}
.card__toggle:hover{background:var(--light);color:var(--primary);transform:rotate(180deg)}
.card__toggle i{transition:transform .3s ease}
.card__toggle[aria-expanded="true"] i{transform:rotate(180deg)}
.card__content{transition:max-height .3s ease,opacity .3s ease;overflow:hidden}
.card__content.expanded{max-height:none;opacity:1}
.card__content.collapsed{max-height:0;opacity:0}

/* ===== Quick Start ===== */
.quick-start__list{list-style:none;margin:var(--space-6) 0}
.quick-start__item{
  display:flex;
  align-items:flex-start;
  gap:var(--space-4);
  padding:var(--space-6);
  border-radius:var(--radius-lg);
  margin-bottom:var(--space-4);
  background:var(--bg-surface-alt);
  border-left:4px solid var(--primary);
  transition:var(--transition);
  animation:fadeInLeft .6s ease-out both
}
.quick-start__item:hover{
  transform:translateX(8px);
  background:var(--light);
  border-left-color:var(--accent)
}
.quick-start__item-showcase{
  font-size:2rem;
  flex-shrink:0;
  width:60px;height:60px;
  display:flex;
  align-items:center;
  justify-content:center;
  background:var(--light);
  border-radius:var(--radius-lg);
  transition:var(--transition)
}
.quick-start__item:hover .quick-start__item-showcase{
  transform:scale(1.1) rotate(10deg);
  background:linear-gradient(135deg,var(--light),var(--bg-surface))
}
.quick-start__actions{
  display:flex;
  flex-wrap:wrap;
  gap:var(--space-4);
  margin-top:var(--space-8);
  padding-top:var(--space-8);
  border-top:2px solid var(--border)
}
.critical-toggle{
  display:flex;
  align-items:center;
  gap:var(--space-4);
  margin-top:var(--space-4);
  padding:var(--space-4);
  background:var(--bg-surface-alt);
  border-radius:var(--radius-lg);
  border:1px solid var(--border)
}
.critical-toggle__status{font-size:var(--text-sm);color:var(--text-light);font-weight:600}

/* ===== Grids used ===== */
.grid-2{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(300px,1fr));
  gap:var(--space-6);
  margin:var(--space-6) 0
}
.activity-grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(300px,1fr));
  gap:var(--space-8);
  margin-top:var(--space-8)
}
.room-grid,.dining-grid,.tips-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(300px,1fr));
  gap:var(--space-8);
  margin-top:var(--space-8)
}

/* ===== Overview blocks ===== */
.overview-block{
  background:var(--bg-surface);
  padding:var(--space-6);
  border-radius:var(--radius-lg);
  border:1px solid var(--border-light);
  transition:var(--transition);
  height:100%
}
.overview-block:hover{
  transform:translateY(-4px);
  border-color:rgba(11,95,168,.25);
  box-shadow:var(--shadow)
}
.overview-block__title{
  font-size:var(--text-xl);
  margin-bottom:var(--space-4);
  color:var(--primary-dark);
  display:flex;
  align-items:center;
  gap:var(--space-3);
  font-weight:700
}
.overview-block__title i{color:var(--primary)}

/* ===== Lists/Checklists used ===== */
.checklist{list-style:none}
.checklist-item{
  display:flex;
  align-items:flex-start;
  gap:var(--space-4);
  padding:var(--space-4) 0;
  border-bottom:1px solid var(--border-light);
  transition:var(--transition)
}
.checklist-item:last-child{border-bottom:none}
.checklist-item:hover{transform:translateX(4px)}
.checklist-item.critical-item{
  border-left:4px solid var(--danger);
  padding-left:var(--space-4);
  background:linear-gradient(135deg,rgba(226,61,61,.035),transparent)
}
.checklist-icon{color:var(--success);font-size:1.5rem;margin-top:2px;flex-shrink:0;transition:var(--transition)}
.checklist-item:hover .checklist-icon{transform:scale(1.2)}
.critical-item .checklist-icon{color:var(--danger)}
.checklist-title{font-weight:700;color:var(--dark);font-size:var(--text-lg);margin-bottom:2px}
.checklist-description{font-size:var(--text-sm);color:var(--text-light);line-height:1.5}

/* ===== Protocol ===== */
.protocol-grid{display:grid;gap:var(--space-4);margin-top:var(--space-4)}
.protocol-step{
  background:var(--bg-surface);
  padding:var(--space-4);
  border-radius:var(--radius);
  border-left:4px solid var(--warning);
  transition:var(--transition)
}
.protocol-step:hover{transform:translateX(4px);background:var(--bg-surface-alt)}
.protocol-time{
  font-weight:700;
  color:var(--dark);
  margin-bottom:4px;
  font-family:'Montserrat',sans-serif;
  font-size:var(--text-sm);
  display:flex;
  align-items:center;
  gap:var(--space-2)
}

/* ===== Activity cards ===== */
.activity-card{
  background:linear-gradient(135deg,var(--bg-surface) 0%,var(--bg-surface-alt) 100%);
  border-radius:var(--radius-xl);
  padding:var(--space-8);
  border:1px solid var(--border);
  transition:var(--transition);
  text-align:center;
  display:flex;
  flex-direction:column;
  align-items:center;
  height:100%;
  position:relative;
  overflow:hidden
}
.activity-card:hover{transform:translateY(-8px);border-color:rgba(11,95,168,.25);box-shadow:var(--shadow-xl)}
.activity-card::before{
  content:"";
  position:absolute;
  top:0;left:0;right:0;
  height:4px;
  background:linear-gradient(90deg,var(--royal-blue-600),var(--royal-teal-500));
  opacity:0;
  transition:opacity .3s ease
}
.activity-card:hover::before{opacity:1}
.activity-card__icon{font-size:3.5rem;margin-bottom:var(--space-4);transition:var(--transition);display:inline-block}
.activity-card:hover .activity-card__icon{transform:scale(1.2) rotate(10deg)}
.activity-card__title{font-size:var(--text-xl);font-weight:700;color:var(--dark);margin-bottom:var(--space-3);font-family:'Montserrat',sans-serif}
.activity-card__description{color:var(--text-light);line-height:1.6;flex:1}

/* ===== Timeline ===== */
.timeline{position:relative;padding-left:60px;margin-top:var(--space-8)}
.timeline::before{
  content:"";
  position:absolute;
  left:30px;top:0;bottom:0;
  width:4px;
  background:linear-gradient(to bottom,var(--primary),var(--secondary));
  border-radius:4px
}
.timeline-item{
  position:relative;
  margin-bottom:var(--space-8);
  padding:var(--space-8);
  background:linear-gradient(135deg,var(--bg-surface) 0%,var(--bg-surface-alt) 100%);
  border-radius:var(--radius-xl);
  border:1px solid var(--border);
  box-shadow:var(--shadow);
  transition:var(--transition);
  animation:fadeIn .6s ease-out
}
.timeline-item:hover{transform:translateX(12px);box-shadow:var(--shadow-lg)}
.timeline-item::before{
  content:"";
  position:absolute;
  left:-50px;top:32px;
  width:20px;height:20px;
  background:var(--primary);
  border:4px solid #fff;
  border-radius:50%;
  z-index:1;
  box-shadow:0 0 0 4px rgba(11,95,168,.22)
}
.timeline-day{
  display:inline-block;
  background:var(--gradient-primary);
  color:#fff;
  padding:var(--space-2) var(--space-4);
  border-radius:var(--radius-lg);
  font-weight:700;
  font-size:var(--text-sm);
  margin-bottom:var(--space-4);
  font-family:'Montserrat',sans-serif
}
.timeline-content h3{font-size:var(--text-2xl);margin-bottom:var(--space-2);color:var(--dark)}

/* ===== Room cards ===== */
.room-card{
  background:var(--bg-surface);
  padding:var(--space-6);
  border-radius:var(--radius-lg);
  border:1px solid var(--border);
  transition:var(--transition);
  height:100%;
  position:relative;
  overflow:hidden
}
.room-card:hover{transform:translateY(-8px);border-color:rgba(11,95,168,.30);box-shadow:var(--shadow-lg)}
.room-card.featured{
  border:2px solid rgba(217,162,27,.55);
  background:linear-gradient(135deg,var(--bg-surface) 0%,rgba(217,162,27,.05) 100%)
}
.room-card.featured::before{
  content:"â­ Featured";
  position:absolute;
  top:12px;
  right:-30px;
  background:var(--accent);
  color:#fff;
  padding:4px 30px;
  font-size:var(--text-xs);
  font-weight:700;
  text-transform:uppercase;
  letter-spacing:1px;
  transform:rotate(45deg);
  box-shadow:0 2px 8px rgba(0,0,0,.16)
}
.room-header{
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  margin-bottom:var(--space-4);
  padding-bottom:var(--space-4);
  border-bottom:2px solid var(--border)
}
.room-number{
  font-size:var(--text-3xl);
  font-weight:800;
  color:var(--primary);
  font-family:'Montserrat',sans-serif;
  line-height:1
}
.room-location{
  font-size:var(--text-sm);
  color:var(--text-light);
  display:flex;
  align-items:center;
  gap:4px;
  margin-top:4px
}
.room-label{
  font-weight:600;
  color:var(--text);
  margin-bottom:var(--space-2);
  font-size:var(--text-sm);
  text-transform:uppercase;
  letter-spacing:.5px
}
.guest-list{
  list-style:none;
  display:flex;
  flex-wrap:wrap;
  gap:var(--space-2);
  margin-top:var(--space-2);
  padding-left:0
}
.guest-list li{
  background:var(--light);
  padding:var(--space-2) var(--space-3);
  border-radius:50px;
  font-size:var(--text-sm);
  color:var(--text);
  border:1px solid var(--border-light);
  transition:var(--transition)
}
.guest-list li:hover{background:var(--primary);color:#fff;transform:translateY(-2px)}

/* ===== Dining cards ===== */
.dining-card{
  background:var(--bg-surface);
  padding:var(--space-6);
  border-radius:var(--radius-lg);
  border:1px solid var(--border);
  height:100%;
  transition:var(--transition);
  position:relative;
  overflow:hidden
}
.dining-card:hover{transform:translateY(-8px);border-color:rgba(11,95,168,.30);box-shadow:var(--shadow-lg)}
.dining-card.featured{
  border:2px solid rgba(217,162,27,.55);
  background:linear-gradient(135deg,var(--bg-surface) 0%,rgba(217,162,27,.03) 100%)
}
.dining-card h3{
  font-size:var(--text-2xl);
  margin-bottom:var(--space-4);
  color:var(--dark);
  font-family:'Montserrat',sans-serif
}
.dining-type{
  display:inline-block;
  padding:var(--space-2) var(--space-4);
  background:var(--light);
  border-radius:50px;
  font-size:var(--text-sm);
  font-weight:700;
  color:var(--primary);
  margin-top:var(--space-4);
  text-transform:uppercase;
  letter-spacing:.5px
}

/* ===== Tips cards ===== */
.tip-card{
  background:var(--bg-surface);
  padding:var(--space-6);
  border-radius:var(--radius-lg);
  border:1px solid var(--border);
  height:100%;
  transition:var(--transition);
  position:relative;
  overflow:hidden
}
.tip-card:hover{transform:translateY(-8px);border-color:rgba(11,95,168,.25);box-shadow:var(--shadow-lg)}
.tip-header{
  display:flex;
  align-items:center;
  gap:var(--space-4);
  margin-bottom:var(--space-4);
  padding-bottom:var(--space-4);
  border-bottom:2px solid var(--border-light)
}
.tip-icon{
  font-size:2rem;
  width:60px;height:60px;
  display:flex;
  align-items:center;
  justify-content:center;
  background:var(--light);
  border-radius:var(--radius-lg);
  transition:var(--transition)
}
.tip-card:hover .tip-icon{
  transform:scale(1.1) rotate(5deg);
  background:linear-gradient(135deg,var(--light),var(--bg-surface))
}
.tip-header h4{font-size:var(--text-xl);color:var(--dark);margin:0;font-family:'Montserrat',sans-serif}

/* ===== Chips/Tags/Notes used ===== */
.chip{
  display:inline-flex;
  align-items:center;
  gap:var(--space-3);
  padding:var(--space-3) var(--space-4);
  border-radius:50px;
  background:var(--bg-surface);
  border:2px solid var(--border);
  color:var(--text);
  font-weight:600;
  font-size:var(--text-sm);
  transition:var(--transition);
  white-space:nowrap;
  min-height:44px
}
.chip:hover{transform:translateY(-2px);box-shadow:var(--shadow)}
.chip--primary{background:linear-gradient(135deg,var(--primary),var(--primary-light));color:#fff;border-color:transparent}
.chip--accent{background:linear-gradient(135deg,var(--accent),var(--accent-light));color:#fff;border-color:transparent}
.chip--teal{background:linear-gradient(135deg,var(--secondary),var(--secondary-light));color:#fff;border-color:transparent}
.chip-group{display:flex;flex-wrap:wrap;gap:var(--space-3);margin:var(--space-6) 0}

.tag{
  display:inline-flex;
  align-items:center;
  gap:var(--space-2);
  padding:var(--space-2) var(--space-4);
  border-radius:var(--radius);
  font-size:var(--text-xs);
  font-weight:800;
  font-family:'Montserrat',sans-serif;
  text-transform:uppercase;
  letter-spacing:1px;
  margin-right:var(--space-3);
  margin-bottom:var(--space-3);
  transition:var(--transition);
  min-height:32px
}
.tag:hover{transform:translateY(-2px)}
.tag--essential{background:linear-gradient(135deg,rgba(226,61,61,.14),rgba(226,61,61,.09));color:var(--danger);border:2px solid rgba(226,61,61,.28)}
.tag--recommended{background:linear-gradient(135deg,rgba(199,119,10,.14),rgba(199,119,10,.09));color:var(--warning);border:2px solid rgba(199,119,10,.28)}
.tag--info{background:linear-gradient(135deg,rgba(11,95,168,.14),rgba(11,95,168,.09));color:var(--primary);border:2px solid rgba(11,95,168,.24)}
.tag--vip{background:linear-gradient(135deg,rgba(217,162,27,.18),rgba(217,162,27,.12));color:var(--accent);border:2px solid rgba(217,162,27,.30)}

.note{
  background:linear-gradient(135deg,rgba(11,95,168,.10),rgba(17,169,199,.08));
  border-left:6px solid var(--primary);
  padding:var(--space-6) var(--space-8);
  border-radius:0 var(--radius-lg) var(--radius-lg) 0;
  color:var(--text);
  font-size:var(--text-lg);
  position:relative;
  overflow:hidden;
  margin:var(--space-8) 0;
  box-shadow:var(--shadow-sm)
}
.note strong{color:var(--primary);font-weight:700}
.note--info{border-left-color:var(--info);background:linear-gradient(135deg,rgba(17,169,199,.10),rgba(17,169,199,.08))}
.note--accent{border-left-color:var(--accent);background:linear-gradient(135deg,rgba(217,162,27,.10),rgba(217,162,27,.08))}
.note--danger{border-left-color:var(--danger);background:linear-gradient(135deg,rgba(226,61,61,.10),rgba(226,61,61,.08))}

/* ===== Table ===== */
.table-responsive{overflow-x:auto;margin:var(--space-6) 0;border-radius:var(--radius-lg);box-shadow:var(--shadow-sm)}
.info-table{
  width:100%;
  border-collapse:separate;
  border-spacing:0;
  margin:var(--space-8) 0;
  font-size:var(--text-base);
  border-radius:var(--radius-lg);
  overflow:hidden;
  box-shadow:var(--shadow);
  background:var(--bg-surface)
}
.info-table th{
  background:linear-gradient(135deg,var(--light),var(--bg-surface-alt));
  color:var(--dark);
  font-weight:700;
  font-family:'Montserrat',sans-serif;
  padding:var(--space-6);
  text-align:left;
  border-bottom:3px solid rgba(11,95,168,.75);
  font-size:var(--text-lg);
  text-transform:uppercase;
  letter-spacing:.5px
}
.info-table td{
  padding:var(--space-4) var(--space-6);
  border-bottom:1px solid var(--border);
  color:var(--text);
  transition:var(--transition)
}
.info-table tbody tr{transition:var(--transition)}
.info-table tbody tr:hover{background:var(--light);transform:translateX(4px)}
.info-table tbody tr:last-child td{border-bottom:none}

/* ===== Sidebar ===== */
.sidebar{position:sticky;top:140px;height:fit-content;margin-bottom:var(--space-8)}
.sidebar-card{
  background:var(--bg-surface);
  border-radius:var(--radius-xl);
  padding:var(--space-8);
  margin-bottom:var(--space-8);
  box-shadow:var(--shadow);
  border:1px solid var(--border);
  position:relative;
  overflow:hidden;
  animation:fadeIn .6s ease-out
}
.sidebar-card::before{
  content:"";
  position:absolute;
  top:0;left:0;
  width:100%;
  height:4px;
  background:linear-gradient(90deg,var(--royal-teal-500),var(--royal-blue-600))
}
.sidebar-card--highlight{
  border:2px solid rgba(217,162,27,.55);
  background:linear-gradient(135deg,var(--bg-surface) 0%,rgba(217,162,27,.03) 100%)
}
.sidebar-card--highlight::before{background:linear-gradient(90deg,var(--accent),var(--accent-light))}
.sidebar-card__title{
  font-size:var(--text-xl);
  font-weight:700;
  color:var(--dark);
  margin-bottom:var(--space-6);
  display:flex;
  align-items:center;
  gap:var(--space-3);
  font-family:'Montserrat',sans-serif
}
.sidebar-card__title i{color:var(--primary)}

/* ===== Responsive & preferences (kept because your layout uses these selectors) ===== */
@media (max-width:768px){
  :root{--header-height:76px;--scroll-padding:112px}
  .header__nav{display:none}
  .header__mobile-toggle{display:flex}
  .header__logo-text{display:none}
  .header__logo-text--short{display:inline}
  .hero{padding:var(--space-20) 0 var(--space-16)}
  .countdown{gap:var(--space-4);flex-wrap:wrap}
  .countdown-item{min-width:88px}
  .card{padding:var(--space-6)}
  .card__header{flex-direction:column}
  .sidebar{position:static}
  .timeline{padding-left:0}
  .timeline::before{display:none}
  .timeline-item::before{display:none}
  .timeline-item:hover{transform:none}
}

  body{background:var(--bg-gradient)}
  .card,.sidebar-card,.room-card,.dining-card,.tip-card,.timeline-item,.protocol-step,.overview-block{
    background:linear-gradient(135deg,rgba(255,255,255,.06) 0%,rgba(255,255,255,.03) 100%);
    border-color:var(--border)
  }
  .info-table{background:rgba(255,255,255,.04)}
  .info-table th{background:rgba(255,255,255,.06)}
  .day-selector{background:rgba(8,29,48,.92);backdrop-filter:blur(10px)}
  .day-btn{background:rgba(255,255,255,.06);border-color:var(--border);color:var(--text-light)}
  .day-btn.active{background:rgba(30,138,240,.16);color:var(--text);border-color:rgba(30,138,240,.30)}
}

@media (prefers-reduced-motion:reduce){
  *,*::before,*::after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important;scroll-behavior:auto!important}
}

@media print{
  .header,.sidebar,.hero__actions,.top-bar-hint,.day-selector{display:none!important}
  body{background:#fff;color:#000}
  .card{box-shadow:none;border:1px solid #ddd}
}
    /* ========== SEARCH OVERLAY (LIGHT / NO DARK MODE) ========== */
.search-overlay{
  position:fixed;
  inset:0;
  background:rgba(6,26,43,.35); /* soft navy scrim (not black) */
  z-index:var(--z-modal);
  opacity:0;
  visibility:hidden;
  transition:var(--transition);
  backdrop-filter:blur(8px);
}

.search-overlay.active{
  opacity:1;
  visibility:visible;
}

.search-container{
  max-width:920px;
  margin:0 auto;
  padding:clamp(16px,4vw,32px);
  height:100%;
  display:flex;
  flex-direction:column;
  justify-content:flex-start;
  gap:var(--space-4);
}

/* White â€œsheetâ€ panel */
.search-container::before{
  content:"";
  position:absolute;
  top:calc(var(--header-height) + 16px);
  left:clamp(16px,4vw,32px);
  right:clamp(16px,4vw,32px);
  bottom:clamp(16px,4vw,32px);
  background:linear-gradient(180deg,#FFFFFF 0%, #F7FBFF 100%);
  border:1px solid rgba(11,95,168,.18);
  border-radius:var(--radius-xxl);
  box-shadow:var(--shadow-xl);
  z-index:0;
}

/* Ensure contents sit above the panel sheet */
.search-container > *{
  position:relative;
  z-index:1;
}

.search-form{
  display:flex;
  gap:var(--space-2);
  margin-top:calc(var(--header-height) + 24px);
  margin-bottom:var(--space-4);
}

.search-input{
  flex:1;
  padding:18px 18px;
  border-radius:var(--radius-xl);
  border:2px solid rgba(11,95,168,.18);
  background:#FFFFFF;
  color:var(--text);
  font-size:clamp(1rem,2vw,1.125rem);
  font-family:'Source Sans Pro',sans-serif;
  box-shadow:var(--shadow-sm);
  transition:var(--transition);
}

.search-input::placeholder{
  color:rgba(75,97,119,.75);
}

.search-input:focus{
  outline:none;
  border-color:rgba(11,95,168,.55);
  box-shadow:0 0 0 4px rgba(11,95,168,.12);
}

.search-submit,
.search-close{
  width:56px;
  height:56px;
  border-radius:var(--radius-xl);
  border:2px solid transparent;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  transition:var(--transition);
}

.search-submit{
  background:var(--gradient-primary);
  color:#fff;
  box-shadow:var(--shadow);
}

.search-submit:hover{
  transform:translateY(-2px);
  box-shadow:var(--shadow-lg);
}

.search-close{
  background:#FFFFFF;
  color:var(--primary);
  border-color:rgba(11,95,168,.22);
  box-shadow:var(--shadow-sm);
}

.search-close:hover{
  background:var(--light);
  transform:translateY(-2px);
  box-shadow:var(--shadow);
}

/* Chips */
.search-chips,
.search-suggestion-chips{
  display:flex;
  flex-wrap:wrap;
  gap:10px;
}

.search-chip{
  background:linear-gradient(180deg,#FFFFFF 0%, #F7FBFF 100%);
  border:1px solid rgba(11,95,168,.18);
  color:var(--primary-dark);
  padding:10px 12px;
  border-radius:999px;
  font-size:0.9rem;
  cursor:pointer;
  transition:var(--transition);
  font-family:'Montserrat',sans-serif;
  font-weight:700;
  box-shadow:var(--shadow-sm);
}

.search-chip:hover{
  transform:translateY(-2px);
  border-color:rgba(11,95,168,.35);
  box-shadow:var(--shadow);
}

.search-chip:active{
  transform:translateY(0);
}

/* Titles */
.search-suggestions__title{
  color:var(--text-light);
  font-size:0.8rem;
  margin:6px 0 10px;
  text-transform:uppercase;
  letter-spacing:1px;
  font-weight:800;
  font-family:'Montserrat',sans-serif;
}

/* Results panel */
.search-results{
  flex:1;
  overflow:auto;
  background:#FFFFFF;
  border:1px solid rgba(11,95,168,.14);
  border-radius:var(--radius-xl);
  padding:16px;
  box-shadow:var(--shadow-sm);
}

.search-result-item{
  background:linear-gradient(180deg,#FFFFFF 0%, #F7FBFF 100%);
  border-radius:var(--radius-lg);
  padding:16px;
  margin-bottom:12px;
  cursor:pointer;
  transition:var(--transition);
  border:1px solid rgba(11,95,168,.10);
}

.search-result-item:hover{
  transform:translateX(6px);
  border-color:rgba(11,95,168,.28);
  box-shadow:var(--shadow);
}

.search-result-item.critical{
  border-left:5px solid var(--danger);
}

.search-result-link{
  color:var(--text);
  text-decoration:none;
}

.search-result-category{
  font-size:0.72rem;
  color:var(--text-lighter);
  margin-bottom:6px;
  text-transform:uppercase;
  letter-spacing:1px;
  font-weight:800;
  font-family:'Montserrat',sans-serif;
  display:flex;
  align-items:center;
  gap:8px;
}

.search-result-title{
  font-size:1.05rem;
  font-weight:800;
  margin-bottom:6px;
  font-family:'Montserrat',sans-serif;
  color:var(--primary-dark);
}

.search-result-snippet{
  font-size:0.95rem;
  color:var(--text-light);
  line-height:1.45;
}

.search-result-highlight{
  background:rgba(217,162,27,.22);
  color:var(--primary-dark);
  padding:2px 6px;
  border-radius:8px;
  font-weight:800;
}

/* Mobile: keep it clean and thumb-friendly */
@media (max-width:768px){
  .search-form{
    margin-top:calc(var(--header-height) + 18px);
  }
  .search-submit,.search-close{
    width:52px;height:52px;
  }
  .search-container::before{
    top:calc(var(--header-height) + 12px);
  }
}
</style>
</head>
<body class="compact-mode mobile-view">
    <!-- Loading Overlay -->
    <div class="loading-overlay hidden" id="loadingOverlay">
        <div class="loading-spinner"></div>
        <div class="loading-text">
            Loading Your Cruise Adventure<span class="loading-dots"></span>
        </div>
    </div>

    <!-- Skip Link -->
    <a href="#main-content" class="skip-link">
        Skip to main content
    </a>

    <!-- Header -->
    <header class="header" role="banner">
        <div class="container">
            <div class="header__content">
                <!-- Mobile Menu Button -->
                <button class="header__mobile-toggle" id="mobileMenuBtn" aria-expanded="false" aria-controls="sectionDrawer" aria-label="Open section drawer">
                    <span class="header__mobile-icon"></span>
                    <span class="sr-only">Menu</span>
                </button>

                <!-- Logo -->
                <a href="#" class="header__logo">
                    <span class="header__logo-icon" role="img" aria-label="Cruise ship">ðŸš¢</span>
                    <span class="header__logo-text header__logo-text--full">Your Cruise Guide</span>
                    <span class="header__logo-text header__logo-text--short">Guide</span>
                </a>

                <!-- Navigation -->
                <nav class="header__nav" id="mainNav" aria-label="Primary navigation">
                    <ul class="header__nav-list">
                        <li>
                            <button class="header__nav-link" data-section="overview">
                                <i class="fas fa-home" aria-hidden="true"></i>
                                <span>Start Here</span>
                            </button>
                        </li>
                        <li>
                            <button class="header__nav-link" data-section="operations">
                                <i class="fas fa-compass" aria-hidden="true"></i>
                                <span>Guide</span>
                            </button>
                        </li>
                        <li>
                            <button class="header__nav-link" data-section="rooms">
                                <i class="fas fa-door-closed" aria-hidden="true"></i>
                                <span>Rooms</span>
                            </button>
                        </li>
                        <li>
                            <button class="header__nav-link" data-section="itinerary">
                                <i class="fas fa-calendar-alt" aria-hidden="true"></i>
                                <span>Itinerary</span>
                            </button>
                        </li>
                        <li>
                            <button class="header__nav-link" data-section="dining">
                                <i class="fas fa-utensils" aria-hidden="true"></i>
                                <span>Dining</span>
                            </button>
                        </li>
                        <li>
                            <button class="header__nav-link" data-section="communication">
                                <i class="fas fa-comments-dollar" aria-hidden="true"></i>
                                <span>Comms &amp; Budget</span>
                            </button>
                        </li>
                        <li>
                            <button class="header__nav-link" data-section="tips">
                                <i class="fas fa-lightbulb" aria-hidden="true"></i>
                                <span>Tips</span>
                            </button>
                        </li>
                        <li>
                            <button class="header__nav-link" data-section="integrate">
                                <i class="fas fa-star" aria-hidden="true"></i>
                                <span>Tips</span>
                            </button>
                        </li>
                    </ul>
                </nav>

                <!-- Search Button -->
                <button class="header__search-btn" id="searchBtn" aria-label="Open search">
                    <i class="fas fa-search" aria-hidden="true"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- Sticky Top Bar Hint -->
    <div class="top-bar-hint is-hidden" id="topBarHint" role="status" aria-live="polite">
        <div class="container">
            <div class="top-bar-hint__content">
                <div>
                    <div class="top-bar-hint__title">
                        <i class="fas fa-sun" aria-hidden="true"></i>
                        <span id="topBarHintTitle">Today: Preperation</span>
                    </div>
                    <div class="top-bar-hint__detail" id="topBarHintDetail">Tap a day to see port highlights and all-aboard times.</div>
                </div>
                <button class="top-bar-hint__close" id="topBarHintClose" aria-label="Hide today hint">
                    <i class="fas fa-times" aria-hidden="true"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- Search Overlay -->
    <div class="search-overlay" id="searchOverlay">
        <div class="search-container">
            <form class="search-form" id="searchForm">
                <input type="search" class="search-input" id="searchInput" placeholder="Search for ports, activities, dining, tips..." aria-label="Search cruise information" autocomplete="off">
                <button type="submit" class="search-submit" aria-label="Search">
                    <i class="fas fa-search" aria-hidden="true"></i>
                </button>
                <button type="button" class="search-close" id="searchClose" aria-label="Close search">
                    <i class="fas fa-times" aria-hidden="true"></i>
                </button>
            </form>
            <div class="search-chips" aria-label="Quick search shortcuts">
                <button type="button" class="search-chip" data-query="critical info">Critical Info</button>
                <button type="button" class="search-chip" data-query="today plan">Today's Plan</button>
                <button type="button" class="search-chip" data-query="emergency">Emergency</button>
            </div>
            <div class="search-suggestions" id="searchSuggestions" aria-live="polite">
                <div class="search-suggestions__group">
                    <div class="search-suggestions__title">Suggested</div>
                    <div class="search-suggestion-chips" id="suggestedSearchChips"><button type="button" class="search-chip" data-query="What time do I board?">What time do I board?</button><button type="button" class="search-chip" data-query="Where is my room?">Where is my room?</button><button type="button" class="search-chip" data-query="eMuster Station F6">eMuster Station F6</button><button type="button" class="search-chip" data-query="Dining reservations">Dining reservations</button><button type="button" class="search-chip" data-query="Shore excursions">Shore excursions</button></div>
                </div>
                <div class="search-suggestions__group" id="recentSearchesGroup" style="display: none;">
                    <div class="search-suggestions__title">Recent</div>
                    <div class="search-suggestion-chips" id="recentSearchChips"></div>
                </div>
            </div>
            <div class="search-results" id="searchResults">
                <div class="no-results">
                    <p>Type to search for cruise information...</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Section Drawer -->
    <div class="section-drawer-overlay" id="sectionDrawerOverlay" aria-hidden="true"></div>
    <aside class="section-drawer" id="sectionDrawer" aria-hidden="true" aria-label="Section drawer">
        <div class="section-drawer__header">
            <span class="section-drawer__title">Navigate</span>
            <button class="section-drawer__close" id="sectionDrawerClose" aria-label="Close navigation drawer">
                <i class="fas fa-times" aria-hidden="true"></i>
            </button>
        </div>
        <div class="section-drawer__list">
            <button class="drawer-nav-item" data-section="overview">
                <span class="drawer-label"><i class="fas fa-home" aria-hidden="true"></i>Start Here</span>
            </button>
            <button class="drawer-nav-item" data-section="operations">
                <span class="drawer-label"><i class="fas fa-compass" aria-hidden="true"></i>Operations Manual</span>
                <span class="drawer-badge drawer-badge--critical">Critical</span>
            </button>
            <button class="drawer-nav-item" data-section="itinerary">
                <span class="drawer-label"><i class="fas fa-calendar-alt" aria-hidden="true"></i>Itinerary</span>
            </button>
            <button class="drawer-nav-item" data-section="rooms">
                <span class="drawer-label"><i class="fas fa-bed" aria-hidden="true"></i>Rooms</span>
            </button>
            <button class="drawer-nav-item" data-section="dining">
                <span class="drawer-label"><i class="fas fa-utensils" aria-hidden="true"></i>Dining</span>
            </button>
            <button class="drawer-nav-item" data-section="communication">
                <span class="drawer-label"><i class="fas fa-comments-dollar" aria-hidden="true"></i>Comms &amp; Budget</span>
            </button>
            <button class="drawer-nav-item" data-section="tips">
                <span class="drawer-label"><i class="fas fa-lightbulb" aria-hidden="true"></i>Pro Tips</span>
            </button>
            <button class="drawer-nav-item" data-section="integrate">
                <span class="drawer-label"><i class="fas fa-star" aria-hidden="true"></i>VIP Upgrades</span>
                <span class="drawer-badge drawer-badge--vip">VIP</span>
            </button>
        </div>
    </aside>

    <!-- Hero Section -->
    <section class="hero" aria-labelledby="heroTitle">
        <div class="container">
            <div class="hero__content">
                <h1 id="heroTitle" class="hero__title">Your Caribbean Cruise Adventure</h1>
                <p class="hero__subtitle">
                    Rahe Family &amp; Friends â€¢ Adventure of the Seas â€¢ February 14-20, 2026
                </p>
                
                <!-- Countdown Timer -->
                <div class="countdown" role="timer" aria-live="polite" aria-label="Countdown to cruise departure">
                    <div class="countdown-item">
                        <span class="countdown-number" id="days" aria-label="12 days remaining" style="transform: scale(1);">12</span>
                        <span class="countdown-label">Days</span>
                    </div>
                    <div class="countdown-item">
                        <span class="countdown-number" id="hours" aria-label="1 hours remaining" style="transform: scale(1);">1</span>
                        <span class="countdown-label">Hours</span>
                    </div>
                    <div class="countdown-item">
                        <span class="countdown-number" id="minutes" aria-label="52 minutes remaining" style="transform: scale(1);">52</span>
                        <span class="countdown-label">Minutes</span>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="hero__actions">
                    <button class="btn btn--primary" id="printBtn">
                        <i class="fas fa-print" aria-hidden="true"></i>
                        Print Itinerary
                    </button>
                    <button class="btn btn--secondary" id="offlineBtn">
                        <i class="fas fa-download" aria-hidden="true"></i>
                        Save Offline
                    </button>
                    <button class="btn btn--accent" id="shareBtn">
                        <i class="fas fa-share-alt" aria-hidden="true"></i>
                        Share
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Day Selector -->
    <div class="day-selector day-selector--hidden" id="daySelector">
        <div class="container">
            <nav class="day-nav" aria-label="Day navigation">
                <button class="day-btn active" data-day="all">All Days</button>
                <button class="day-btn" data-day="1">Day 1: Embark</button>
                <button class="day-btn" data-day="2">Day 2: CocoCay</button>
                <button class="day-btn" data-day="3">Day 3: Sea Day</button>
                <button class="day-btn" data-day="4">Day 4: Jamaica</button>
                <button class="day-btn" data-day="5">Day 5: Labadee</button>
                <button class="day-btn" data-day="6">Day 6: Sea Day</button>
            </nav>
        </div>
    </div>

    <!-- Traveler Selector -->
    <div class="traveler-selector" id="travelerSelector">
        <div class="container">
            <label for="travelerSelect" class="traveler-label">View for:</label>
            <select id="travelerSelect" aria-label="Select traveler view">
                <option value="all">ðŸ‘¥ All Travelers</option>
                <option value="family">ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦ Family View</option>
                <option value="adults">ðŸ‘¨â€ðŸ‘©â€ðŸ‘¦ Adults Only</option>
                <option value="kids">ðŸ§’ Kids Activities</option>
            </select>
        </div>
    </div>

    <!-- Main Content -->
    <main id="main-content" class="main" role="main">
        <div class="container">
            <div class="main-layout">
                <!-- Left Column - Main Content -->
                <div class="main-content">
                    <!-- Toast Notification -->
                    <div class="toast" id="toast" role="alert" aria-live="polite" aria-atomic="true">
                        <span class="toast__message" id="toastMessage">Welcome to your Cruise Companion Hub! ðŸš¢</span>
                        <button class="toast__close" id="toastClose" aria-label="Close notification">
                            <i class="fas fa-times" aria-hidden="true"></i>
                        </button>
                    </div>

                    <!-- Quick Start Guide -->
                    <section id="quick-start" class="section section--critical" aria-labelledby="quickStartTitle">
                        <div class="card quick-start">
                            <div class="card__header">
                                <div class="card__icon" aria-hidden="true">
                                    <i class="fas fa-bolt"></i>
                                </div>
                                <div>
                                    <h2 id="quickStartTitle" class="card__title">Quick Start Guide</h2>
                                    <p class="card__subtitle">Five essentials to handle first, with fewer clicks</p>
                                </div>
                            </div>
                            <ul class="quick-start__list">
                                <li class="quick-start__item">
                                    <span class="quick-start__item-showcase" aria-hidden="true">ðŸ§­</span>
                                    <div>
                                        <strong>Confirm embarkation timeline.</strong>
                                        <p class="text-sm mb-0">Arrive at 11:00 AM, regroup by 3:00 PM, all aboard by 4:30 PM.</p>
                                    </div>
                                </li>
                                <li class="quick-start__item">
                                    <span class="quick-start__item-showcase" aria-hidden="true">ðŸ›Ÿ</span>
                                    <div>
                                        <strong>Complete eMuster &amp; safety checklist.</strong>
                                        <p class="text-sm mb-0">Finish the important checklist in the Guide highlights.</p>
                                    </div>
                                </li>
                                <li class="quick-start__item">
                                    <span class="quick-start__item-showcase" aria-hidden="true">ðŸ·ï¸</span>
                                    <div>
                                        <strong>Verify rooms and muster stations.</strong>
                                        <p class="text-sm mb-0">Confirm stateroom assignments and station F6 in the Rooms section.</p>
                                    </div>
                                </li>
                                <li class="quick-start__item">
                                    <span class="quick-start__item-showcase" aria-hidden="true">ðŸ—“ï¸</span>
                                    <div>
                                        <strong>Scan the day-by-day itinerary.</strong>
                                        <p class="text-sm mb-0">Check port plans and all-aboard times for each day.</p>
                                    </div>
                                </li>
                                <li class="quick-start__item">
                                    <span class="quick-start__item-showcase" aria-hidden="true">ðŸ“¶</span>
                                    <div>
                                        <strong>Get connected fast.</strong>
                                        <p class="text-sm mb-0">Join the Royal app chat + connect to Royal-WiFi.</p>
                                    </div>
                                </li>
                            </ul>
                            <div class="quick-start__actions">
                                <button class="btn btn--primary quick-start__link" data-section="operations">
                                    <i class="fas fa-clipboard-check" aria-hidden="true"></i>
                                    Open Important Checklist
                                </button>
                                <button class="btn btn--outline quick-start__link" data-section="itinerary">
                                    <i class="fas fa-route" aria-hidden="true"></i>
                                    View Itinerary
                                </button>
                                <button class="btn btn--outline quick-start__link" data-section="rooms">
                                    <i class="fas fa-bed" aria-hidden="true"></i>
                                    Rooms &amp; Muster
                                </button>
                                <div class="critical-toggle" aria-live="polite">
                                    <button class="btn btn--outline" id="criticalToggleBtn" aria-pressed="false">
                                        <i class="fas fa-filter" aria-hidden="true"></i>
                                        Important Info Only
                                    </button>
                                    <span class="critical-toggle__status" id="criticalToggleStatus">Showing all sections</span>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Overview Section -->
                    <section id="overview" class="section section--critical" aria-labelledby="overviewTitle">
                        <div class="card">
                            <div class="card__header">
                                <div class="card__icon" aria-hidden="true">
                                    <i class="fas fa-ship"></i>
                                </div>
                                <div>
                                    <h2 id="overviewTitle" class="card__title">Start Here: Your Cruise Adventure</h2>
                                    <p class="card__subtitle">Everything you need to know, organized for quick decisions</p>
                                </div>
                                <button class="card__toggle" aria-expanded="false" aria-controls="overviewContent">
                                    <i class="fas fa-chevron-down" aria-hidden="true"></i>
                                    <span class="sr-only">Toggle section</span>
                                </button>
                            </div>
                            <div id="overviewContent" class="card__content collapsed" style="">
                                <p class="mb-6">Welcome to your comprehensive travel hub for the Rahe Family &amp; Friends Adventure aboard <strong>Adventure of the Seas</strong>. Use this overview to orient the group, then explore the sections below to plan rooms, daily flow, dining, and top tips.</p>
                                
                                <div class="grid-2">
                                    <!-- Trip Essentials -->
                                    <div class="overview-block">
                                        <h3 class="overview-block__title">Trip Essentials</h3>
                                        <ul class="list list--icon">
                                            <li>
                                                <i class="fas fa-map-marked-alt" aria-hidden="true"></i>
                                                <span>Ports: Perfect Day at CocoCay, Falmouth, Labadee</span>
                                            </li>
                                            <li>
                                                <i class="fas fa-calendar-alt" aria-hidden="true"></i>
                                                <span>Feb 14-20, 2026 â€¢ 6 nights â€¢ Round-trip Port Canaveral</span>
                                            </li>
                                            <li>
                                                <i class="fas fa-ship" aria-hidden="true"></i>
                                                <span>Adventure of the Seas â€¢ Voyager Class â€¢ 137,276 GT â€¢ Amplified 2018</span>
                                            </li>
                                        </ul>
                                    </div>
                                    
                                    <!-- Why Book -->
                                    <div class="overview-block">
                                        <h3 class="overview-block__title">Why Book This Sailing?</h3>
                                        <ul class="list list--icon">
                                            <li>
                                                <i class="fas fa-umbrella-beach" aria-hidden="true"></i>
                                                <span>Perfect Day thrills: docked access to Thrill Waterpark + Oasis Lagoon</span>
                                            </li>
                                            <li>
                                                <i class="fas fa-hiking" aria-hidden="true"></i>
                                                <span>Bucket-list ports: Dunn's River Falls + Dragon's Breath zip-line</span>
                                            </li>
                                            <li>
                                                <i class="fas fa-bolt" aria-hidden="true"></i>
                                                <span>Amplified ship: Typhoon &amp; Cyclone racers, FlowRider, laser-tag</span>
                                            </li>
                                        </ul>
                                    </div>
                                    
                                    <!-- People & Rooms -->
                                    <div class="overview-block">
                                        <h3 class="overview-block__title">People &amp; Rooms</h3>
                                        <div class="chip-group">
                                            <span class="chip chip--primary">
                                                <i class="fas fa-users" aria-hidden="true"></i>
                                                <span>Rahe Family &amp; Friends</span>
                                            </span>
                                            <span class="chip chip--accent">
                                                <i class="fas fa-door-closed" aria-hidden="true"></i>
                                                <span>5 Staterooms</span>
                                            </span>
                                            <span class="chip chip--teal">
                                                <i class="fas fa-layer-group" aria-hidden="true"></i>
                                                <span>Decks 6-8</span>
                                            </span>
                                        </div>
                                        <p class="note mt-4">Use the rooms section below for detailed guest lists and muster stations.</p>
                                    </div>
                                    
                                    <!-- Book Next -->
                                    <div class="overview-block">
                                        <h3 class="overview-block__title">Book Next</h3>
                                        <div class="checklist">
                                            <div class="checklist-item">
                                                <span class="checklist-icon" aria-hidden="true">
                                                    <i class="fas fa-check-circle"></i>
                                                </span>
                                                <div class="checklist-content">
                                                    <div class="checklist-title">Online Check-in</div>
                                                    <p class="checklist-description">Opens ~Dec 31, 2025 â€¢ Pick 11:00 AM arrival</p>
                                                </div>
                                            </div>
                                            <div class="checklist-item">
                                                <span class="checklist-icon" aria-hidden="true">
                                                    <i class="fas fa-utensils"></i>
                                                </span>
                                                <div class="checklist-content">
                                                    <div class="checklist-title">Lock Dining Reservations</div>
                                                    <p class="checklist-description">Chops, Izumi, Giovanni's â€¢ 2 formal nights</p>
                                                </div>
                                            </div>
                                            <div class="checklist-item">
                                                <span class="checklist-icon" aria-hidden="true">
                                                    <i class="fas fa-ticket-alt"></i>
                                                </span>
                                                <div class="checklist-content">
                                                    <div class="checklist-title">Reserve Shows &amp; Excursions</div>
                                                    <p class="checklist-description">Prioritize Dunn's River Falls + Dragon's Breath</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="note note--info mt-8">
                                    <strong>Concierge Default:</strong> Link all bookings in the Royal app, hold the 1-device VOOM plan for shore communications, and keep the WhatsApp group active for off-ship coordination.
                                </div>
                                
                                <div class="activity-grid mt-8">
                                    <div class="activity-card">
                                        <div class="activity-card__icon" role="img" aria-label="Island">ðŸï¸</div>
                                        <h3 class="activity-card__title">3 Amazing Ports</h3>
                                        <p class="activity-card__description">Perfect Day at CocoCay, Falmouth Jamaica, and Labadee Haiti with exclusive family experiences</p>
                                    </div>
                                    <div class="activity-card">
                                        <div class="activity-card__icon" role="img" aria-label="Family">ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦</div>
                                        <h3 class="activity-card__title">Family Adventure</h3>
                                        <p class="activity-card__description">Five staterooms across Decks 6-8 with connecting options for family convenience</p>
                                    </div>
                                    <div class="activity-card">
                                        <div class="activity-card__icon" role="img" aria-label="Thrills">ðŸŽ­</div>
                                        <h3 class="activity-card__title">Hero Thrills</h3>
                                        <p class="activity-card__description">Daredevil's Peak, Dunn's River Falls, Dragon's Breath Flight Line - adrenaline-packed adventures</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Guide Section -->
                    <section id="operations" class="section section--critical" aria-labelledby="operationsTitle">
                        <div class="card card--featured">
                            <div class="card__header">
                                <div class="card__icon" aria-hidden="true">
                                    <i class="fas fa-compass"></i>
                                </div>
                                <div>
                                    <h2 id="operationsTitle" class="card__title">Operations Manual Highlights</h2>
                                    <p class="card__subtitle">Important checkpoints from the family playbook</p>
                                </div>
                                <button class="card__toggle" aria-expanded="false" aria-controls="operationsContent">
                                    <i class="fas fa-chevron-down" aria-hidden="true"></i>
                                    <span class="sr-only">Toggle section</span>
                                </button>
                            </div>
                            <div id="operationsContent" class="card__content collapsed">
                                <p class="mb-6">This guide contains essential protocols, checklists, and procedures to ensure a smooth and successful cruise experience for the entire group.</p>
                                
                                <div class="grid-2">
                                    <!-- Pre-Cruise Command Center -->
                                    <div class="overview-block">
                                        <h3 class="overview-block__title">Pre-Cruise Hub</h3>
                                        <div class="checklist">
                                            <div class="checklist-item">
                                                <span class="checklist-icon" aria-hidden="true">
                                                    <i class="fas fa-check-circle"></i>
                                                </span>
                                                <div class="checklist-content">
                                                    <div class="checklist-title">Royal App Access</div>
                                                    <p class="checklist-description">All adults downloaded + linked to booking</p>
                                                </div>
                                            </div>
                                            <div class="checklist-item">
                                                <span class="checklist-icon" aria-hidden="true">
                                                    <i class="fas fa-id-card"></i>
                                                </span>
                                                <div class="checklist-content">
                                                    <div class="checklist-title">Online Check-in</div>
                                                    <p class="checklist-description">Upload photos + select 11:00 AM arrival</p>
                                                </div>
                                            </div>
                                            <div class="checklist-item">
                                                <span class="checklist-icon" aria-hidden="true">
                                                    <i class="fas fa-link"></i>
                                                </span>
                                                <div class="checklist-content">
                                                    <div class="checklist-title">Link Bookings</div>
                                                    <p class="checklist-description">Confirm all staterooms appear in the app</p>
                                                </div>
                                            </div>
                                            <div class="checklist-item">
                                                <span class="checklist-icon" aria-hidden="true">
                                                    <i class="fas fa-passport"></i>
                                                </span>
                                                <div class="checklist-content">
                                                    <div class="checklist-title">Docs &amp; Backup</div>
                                                    <p class="checklist-description">Passports valid past Aug 2026. Print SetSail + tags</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- Golden Hour Protocol -->
                                    <div class="overview-block">
                                        <h3 class="overview-block__title">Golden Hour Protocol</h3>
                                        <p class="mb-4"><strong>Goal:</strong> Onboard control within 60 minutes</p>
                                        <div class="protocol-grid">
                                            <div class="protocol-step">
                                                <div class="protocol-time">11:00 AM ðŸ”´</div>
                                                <p><strong>Arrive at terminal</strong> with SetSail + passport ready</p>
                                            </div>
                                            <div class="protocol-step">
                                                <div class="protocol-time">12:00 PM ðŸ”´</div>
                                                <p><strong>The huddle</strong> on Deck 4/5 Promenade. No dispersing yet</p>
                                            </div>
                                            <div class="protocol-step">
                                                <div class="protocol-time">12:05 PM ðŸ”´</div>
                                                <p><strong>Digital activation</strong> on ROYAL-WIFI; confirm linked bookings</p>
                                            </div>
                                            <div class="protocol-step">
                                                <div class="protocol-time">12:10 PM ðŸ”´</div>
                                                <p><strong>Priority bookings</strong> for dining + any reservable shows</p>
                                            </div>
                                            <div class="protocol-step">
                                                <div class="protocol-time">12:30 PM ðŸ”´</div>
                                                <p><strong>eMuster 2.0</strong> watch video, then tap SeaPass at Station F6</p>
                                            </div>
                                            <div class="protocol-step">
                                                <div class="protocol-time">1:00 PM ðŸŸ¢</div>
                                                <p><strong>Complete</strong> lunch + cabins ready ~1:30 PM</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="card mt-8">
                                    <h3 class="text-2xl font-bold mb-6">Embarkation Day Must-Dos (In Order)</h3>
                                    <div class="checklist" id="criticalChecklist">
                                        <div class="checklist-item critical-item">
                                            <span class="checklist-icon" aria-hidden="true">
                                                <i class="fas fa-life-ring"></i>
                                            </span>
                                            <div class="checklist-content">
                                                <div class="checklist-title">Complete eMuster</div>
                                                <p class="checklist-description">Watch safety video, then scan SeaPass at Station F6</p>
                                            </div>
                                        </div>
                                        <div class="checklist-item critical-item">
                                            <span class="checklist-icon" aria-hidden="true">
                                                <i class="fas fa-wifi"></i>
                                            </span>
                                            <div class="checklist-content">
                                                <div class="checklist-title">Connect to Royal-WiFi + App Chat</div>
                                                <p class="checklist-description">Create the family group chat; app messaging is free onboard</p>
                                            </div>
                                        </div>
                                        <div class="checklist-item critical-item">
                                            <span class="checklist-icon" aria-hidden="true">
                                                <i class="fas fa-utensils"></i>
                                            </span>
                                            <div class="checklist-content">
                                                <div class="checklist-title">Confirm Dining</div>
                                                <p class="checklist-description">Link all bookings; book 3 specialty dinners at the Promenade dining desk</p>
                                            </div>
                                        </div>
                                        <div class="checklist-item critical-item">
                                            <span class="checklist-icon" aria-hidden="true">
                                                <i class="fas fa-child"></i>
                                            </span>
                                            <div class="checklist-content">
                                                <div class="checklist-title">Adventure Ocean Open House</div>
                                                <p class="checklist-description">Register kids early for faster drop-offs later</p>
                                            </div>
                                        </div>
                                        <div class="checklist-item critical-item">
                                            <span class="checklist-icon" aria-hidden="true">
                                                <i class="fas fa-users"></i>
                                            </span>
                                            <div class="checklist-content">
                                                <div class="checklist-title">3:00 PM Regroup</div>
                                                <p class="checklist-description">Confirm everyone completed muster, dining bookings, and app access</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="grid-2 mt-8">
                                    <!-- Daily Rhythm -->
                                    <div class="card">
                                        <h3 class="text-xl font-bold mb-6">Daily Rhythm</h3>
                                        <ul class="list list--icon">
                                            <li>
                                                <i class="fas fa-coffee" aria-hidden="true"></i>
                                                <span><strong>7:30â€“9:00 AM</strong> Breakfast + plan review</span>
                                            </li>
                                            <li>
                                                <i class="fas fa-route" aria-hidden="true"></i>
                                                <span><strong>10:00 AM</strong> Choose Path (Adventure/Culture/Chill)</span>
                                            </li>
                                            <li>
                                                <i class="fas fa-sun" aria-hidden="true"></i>
                                                <span><strong>1:00â€“4:00 PM</strong> Lunch + flex time</span>
                                            </li>
                                            <li>
                                                <i class="fas fa-glass-martini-alt" aria-hidden="true"></i>
                                                <span><strong>6:45 PM</strong> R Bar meetup (mandatory)</span>
                                            </li>
                                            <li>
                                                <i class="fas fa-moon" aria-hidden="true"></i>
                                                <span><strong>7:30 PM+</strong> Dinner, show, or music</span>
                                            </li>
                                        </ul>
                                    </div>
                                    
                                    <!-- Entertainment Truths -->
                                    <div class="card">
                                        <h3 class="text-xl font-bold mb-6">Entertainment Truths</h3>
                                        <ul class="list list--icon">
                                            <li>
                                                <i class="fas fa-water" aria-hidden="true"></i>
                                                <span><strong>Pool Deck:</strong> Perfect Storm slides, FlowRider surf, Rock-Climbing Wall</span>
                                            </li>
                                            <li>
                                                <i class="fas fa-snowflake" aria-hidden="true"></i>
                                                <span><strong>Studio B:</strong> Ice shows + glow-in-the-dark laser-tag</span>
                                            </li>
                                            <li>
                                                <i class="fas fa-store" aria-hidden="true"></i>
                                                <span><strong>Royal Promenade:</strong> Parades, duty-free, CafÃ© Promenade 24/7 snacks</span>
                                            </li>
                                            <li>
                                                <i class="fas fa-spa" aria-hidden="true"></i>
                                                <span><strong>Vitality Spa &amp; Fitness:</strong> Hot-stone massage + free-weight zone</span>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                
                                <div class="card mt-8">
                                    <h3 class="text-2xl font-bold mb-6">Port Playbook</h3>
                                    <div class="activity-grid mt-6">
                                        <div class="activity-card">
                                            <div class="activity-card__icon" role="img" aria-label="Beach">ðŸ–ï¸</div>
                                            <h3 class="activity-card__title">Perfect Day at CocoCay</h3>
                                            <p class="activity-card__description">Docked (no tender). Hit Thrill Waterpark early; Chill Island cabanas include snorkel gear + lunch</p>
                                            <div class="chip-group mt-4">
                                                <span class="tag tag--essential">Docked Access</span>
                                                <span class="tag tag--recommended">Early Arrival</span>
                                            </div>
                                        </div>
                                        <div class="activity-card">
                                            <div class="activity-card__icon" role="img" aria-label="Palm tree">ðŸŒ´</div>
                                            <h3 class="activity-card__title">Falmouth, Jamaica</h3>
                                            <p class="activity-card__description">Combine Dunn's River Falls with Blue Hole. Bring water shoes and quick-dry gear</p>
                                            <div class="chip-group mt-4">
                                                <span class="tag tag--essential">Water Shoes</span>
                                                <span class="tag tag--recommended">Combo Tour</span>
                                            </div>
                                        </div>
                                        <div class="activity-card">
                                            <div class="activity-card__icon" role="img" aria-label="Parachute">ðŸª‚</div>
                                            <h3 class="activity-card__title">Labadee, Haiti</h3>
                                            <p class="activity-card__description">Dragon's Breath zip-line is best in the cooler morning. Photo package ~$59</p>
                                            <div class="chip-group mt-4">
                                                <span class="tag tag--essential">Morning Slot</span>
                                                <span class="tag tag--recommended">Photo Package</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="grid-2 mt-8">
                                    <!-- Medical Contingencies -->
                                    <div class="card">
                                        <h3 class="text-xl font-bold mb-6">Medical Contingencies</h3>
                                        <ul class="list list--icon">
                                            <li>
                                                <i class="fas fa-briefcase-medical" aria-hidden="true"></i>
                                                <span><strong>Medical Center:</strong> Deck 1 (24h emergencies)</span>
                                            </li>
                                            <li>
                                                <i class="fas fa-pills" aria-hidden="true"></i>
                                                <span><strong>Split critical meds</strong> across two carry-ons</span>
                                            </li>
                                            <li>
                                                <i class="fas fa-user-friends" aria-hidden="true"></i>
                                                <span><strong>One adult escorts</strong> to Medical, one stays with kids</span>
                                            </li>
                                        </ul>
                                    </div>
                                    
                                    <!-- Weather & Tender Backup -->
                                    <div class="card">
                                        <h3 class="text-xl font-bold mb-6">Weather &amp; Tender Backup</h3>
                                        <ul class="list list--icon">
                                            <li>
                                                <i class="fas fa-wind" aria-hidden="true"></i>
                                                <span><strong>If winds spike:</strong> Pivot to Oasis Lagoon or onboard pools</span>
                                            </li>
                                            <li>
                                                <i class="fas fa-sun" aria-hidden="true"></i>
                                                <span><strong>Schedule outdoor thrills</strong> early for cooler temps</span>
                                            </li>
                                            <li>
                                                <i class="fas fa-umbrella" aria-hidden="true"></i>
                                                <span><strong>Accept half-day wins</strong> if weather turns</span>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                
                                <div class="legend-bar mt-8">
                                    <span class="legend-chip critical">ðŸ”´ Critical</span>
                                    <span class="legend-chip optional">ðŸŸ¡ Recommended</span>
                                    <span class="legend-chip info">ðŸŸ¢ Informational</span>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Rooms Section -->
                    <section id="rooms" class="section section--critical" aria-labelledby="roomsTitle">
                        <div class="card">
                            <div class="card__header">
                                <div class="card__icon" aria-hidden="true">
                                    <i class="fas fa-door-closed"></i>
                                </div>
                                <div>
                                    <h2 id="roomsTitle" class="card__title">Your Staterooms</h2>
                                    <p class="card__subtitle">Where everyone will stay during the cruise</p>
                                </div>
                                <button class="card__toggle" aria-expanded="false" aria-controls="roomsContent">
                                    <i class="fas fa-chevron-down" aria-hidden="true"></i>
                                    <span class="sr-only">Toggle section</span>
                                </button>
                            </div>
                            <div id="roomsContent" class="card__content collapsed">
                                <p class="mb-6">Here's where everyone will be staying during the cruise. All rooms include interactive TV, a mini-safe, and Royal Dream bedding. Suites add an espresso maker and concierge access.</p>
                                
                                <div class="table-responsive mb-8">
                                    <table class="info-table">
                                        <thead>
                                            <tr>
                                                <th>Stateroom</th>
                                                <th>Type &amp; Size</th>
                                                <th>Deck &amp; Notes</th>
                                                <th>Guests</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td><strong>6650</strong></td>
                                                <td>Balcony â€¢ 198 sq ft + 46 sq ft deck</td>
                                                <td>Deck 6 â€¢ Connecting to 6652</td>
                                                <td>Bill, Melissa, Owen, Declan</td>
                                            </tr>
                                            <tr>
                                                <td><strong>6443</strong></td>
                                                <td>Interior â€¢ 160 sq ft</td>
                                                <td>Deck 6 â€¢ Opposite laundry</td>
                                                <td>Cadance, Alexander, Abel, Amy</td>
                                            </tr>
                                            <tr>
                                                <td><strong>4B 8528</strong></td>
                                                <td>Balcony</td>
                                                <td>Deck 8 â€¢ Midship access</td>
                                                <td>Aimee, Reese</td>
                                            </tr>
                                            <tr>
                                                <td><strong>8370</strong></td>
                                                <td>Ocean View Balcony</td>
                                                <td>Deck 8 â€¢ Balcony views</td>
                                                <td>Lea, Calab</td>
                                            </tr>
                                            <tr>
                                                <td><strong>2D 8612</strong></td>
                                                <td>Ocean View Balcony</td>
                                                <td>Deck 8 â€¢ Quiet aft corridor</td>
                                                <td>Bella, TJ</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                
                                <div class="note note--info mb-8">
                                    <strong>Final stateroom numbers</strong> can be updated once assigned. Keep the Royal app current so all guests see onboard chat and daily schedules.
                                </div>
                                
                                <div class="room-grid">
                                    <!-- Room 1 - Primary Room -->
                                    <div class="room-card featured">
                                        <div class="room-header">
                                            <div>
                                                <div class="room-number">6650</div>
                                                <div class="room-location">
                                                    <i class="fas fa-map-marker-alt" aria-hidden="true"></i>
                                                    Deck 6 â€¢ Connecting to 6652
                                                </div>
                                            </div>
                                            <span class="tag tag--info">Primary Room</span>
                                        </div>
                                        <div class="room-guests">
                                            <p class="room-label">Guests:</p>
                                            <ul class="guest-list">
                                                <li>Bill</li>
                                                <li>Melissa</li>
                                                <li>Owen</li>
                                                <li>Declan</li>
                                            </ul>
                                        </div>
                                        <p><strong>Room Type:</strong> Balcony â€¢ 198 sq ft + 46 sq ft deck</p>
                                        <p class="mt-2"><strong>Location Tip:</strong> Easy access to aft elevators for dinner runs</p>
                                    </div>

                                    <!-- Room 2 - Interior Room -->
                                    <div class="room-card">
                                        <div class="room-header">
                                            <div>
                                                <div class="room-number">6443</div>
                                                <div class="room-location">
                                                    <i class="fas fa-map-marker-alt" aria-hidden="true"></i>
                                                    Deck 6 â€¢ Opposite laundry
                                                </div>
                                            </div>
                                            <span class="tag tag--info">Interior Room</span>
                                        </div>
                                        <div class="room-guests">
                                            <p class="room-label">Guests:</p>
                                            <ul class="guest-list">
                                                <li>Cadance</li>
                                                <li>Alexander</li>
                                                <li>Abel</li>
                                                <li>Amy</li>
                                            </ul>
                                        </div>
                                        <p><strong>Room Type:</strong> Interior â€¢ 160 sq ft</p>
                                        <p class="mt-2"><strong>Note:</strong> Great for quick laundry swaps and mid-day breaks</p>
                                    </div>

                                    <!-- Room 3 - Pool Access -->
                                    <div class="room-card">
                                        <div class="room-header">
                                            <div>
                                                <div class="room-number">4B 8528</div>
                                                <div class="room-location">
                                                    <i class="fas fa-map-marker-alt" aria-hidden="true"></i>
                                                    Deck 8 â€¢ Midship access
                                                </div>
                                            </div>
                                            <span class="tag tag--info">Pool Access</span>
                                        </div>
                                        <div class="room-guests">
                                            <p class="room-label">Guests:</p>
                                            <ul class="guest-list">
                                                <li>Aimee</li>
                                                <li>Reese</li>
                                            </ul>
                                        </div>
                                        <p><strong>Room Type:</strong> Balcony</p>
                                        <p class="mt-2"><strong>Location Tip:</strong> Quick walk to Royal Promenade elevators</p>
                                    </div>

                                    <!-- Room 4 - Ocean View -->
                                    <div class="room-card">
                                        <div class="room-header">
                                            <div>
                                                <div class="room-number">8370</div>
                                                <div class="room-location">
                                                    <i class="fas fa-map-marker-alt" aria-hidden="true"></i>
                                                    Deck 8 â€¢ Ocean view balcony
                                                </div>
                                            </div>
                                            <span class="tag tag--info">Ocean View</span>
                                        </div>
                                        <div class="room-guests">
                                            <p class="room-label">Guests:</p>
                                            <ul class="guest-list">
                                                <li>Lea</li>
                                                <li>Calab</li>
                                            </ul>
                                        </div>
                                        <p><strong>Room Type:</strong> Ocean View Balcony</p>
                                        <p class="mt-2"><strong>Location Tip:</strong> Sunset-friendly balcony with fresh sea air</p>
                                    </div>

                                    <!-- Room 5 - Ocean View -->
                                    <div class="room-card">
                                        <div class="room-header">
                                            <div>
                                                <div class="room-number">2D 8612</div>
                                                <div class="room-location">
                                                    <i class="fas fa-map-marker-alt" aria-hidden="true"></i>
                                                    Deck 8 â€¢ Quiet aft corridor
                                                </div>
                                            </div>
                                            <span class="tag tag--info">Ocean View</span>
                                        </div>
                                        <div class="room-guests">
                                            <p class="room-label">Guests:</p>
                                            <ul class="guest-list">
                                                <li>Bella</li>
                                                <li>TJ</li>
                                            </ul>
                                        </div>
                                        <p><strong>Room Type:</strong> Ocean View Balcony</p>
                                        <p class="mt-2"><strong>Location Tip:</strong> Peaceful evenings away from promenade traffic</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Itinerary Section -->
                    <section id="itinerary" class="section section--critical" aria-labelledby="itineraryTitle">
                        <div class="card">
                            <div class="card__header">
                                <div class="card__icon" aria-hidden="true">
                                    <i class="fas fa-calendar-alt"></i>
                                </div>
                                <div>
                                    <h2 id="itineraryTitle" class="card__title">7-Day Itinerary (6 Nights)</h2>
                                    <p class="card__subtitle">Day-by-day adventure schedule</p>
                                </div>
                                <button class="card__toggle" aria-expanded="false" aria-controls="itineraryContent">
                                    <i class="fas fa-chevron-down" aria-hidden="true"></i>
                                    <span class="sr-only">Toggle section</span>
                                </button>
                            </div>
                            <div id="itineraryContent" class="card__content collapsed">
                                <div class="timeline">
                                    <!-- Day 1 -->
                                    <div class="timeline-item">
                                        <span class="timeline-day">Day 1 â€¢ Feb 14</span>
                                        <div class="timeline-content">
                                            <h3>Port Canaveral - Embarkation Day</h3>
                                            <p><strong>Departure:</strong> 4:00 PM</p>
                                            <div class="activity-grid mt-6">
                                                <div class="activity-card">
                                                    <div class="activity-card__icon" role="img" aria-label="Target">ðŸŽ¯</div>
                                                    <h4 class="activity-card__title">Embarkation Tips</h4>
                                                    <p class="activity-card__description">Arrive by 10:30 AM for the smoothest boarding</p>
                                                </div>
                                                <div class="activity-card">
                                                    <div class="activity-card__icon" role="img" aria-label="Phone">ðŸ“±</div>
                                                    <h4 class="activity-card__title">First Hour Tasks</h4>
                                                    <p class="activity-card__description">eMuster 2.0, app chat setup, book specialty dinners</p>
                                                </div>
                                                <div class="activity-card">
                                                    <div class="activity-card__icon" role="img" aria-label="Map">ðŸ—ºï¸</div>
                                                    <h4 class="activity-card__title">Ship Tour @ 2:00 PM</h4>
                                                    <p class="activity-card__description">Meet at Guest Services for a quick orientation loop</p>
                                                </div>
                                                <div class="activity-card">
                                                    <div class="activity-card__icon" role="img" aria-label="Salad">ðŸ¥—</div>
                                                    <h4 class="activity-card__title">Lunch Strategy</h4>
                                                    <p class="activity-card__description">Skip Windjammer crowds and grab Solarium Bistro (Deck 11 aft)</p>
                                                </div>
                                            </div>
                                            <div class="chip-group mt-6">
                                                <span class="tag tag--essential">All Aboard 3:30 PM</span>
                                                <span class="tag tag--recommended">Early Arrival</span>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Day 2 -->
                                    <div class="timeline-item">
                                        <span class="timeline-day">Day 2 â€¢ Feb 15</span>
                                        <div class="timeline-content">
                                            <h3>Perfect Day at CocoCay</h3>
                                            <p><strong>Time:</strong> 7:00 AM - 5:00 PM</p>
                                            <p><strong>Signature:</strong> Daredevil's Peak, Oasis Lagoon, Up Up &amp; Away</p>
                                            <div class="chip-group mt-4">
                                                <span class="tag tag--essential">All Aboard 4:30 PM</span>
                                                <span class="tag tag--recommended">Thrill Waterpark Early Entry</span>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Day 3 -->
                                    <div class="timeline-item">
                                        <span class="timeline-day">Day 3 â€¢ Feb 16</span>
                                        <div class="timeline-content">
                                            <h3>At Sea</h3>
                                            <p><strong>Signature:</strong> FlowRider clinic, ice show "Cool Art"</p>
                                            <p><strong>Family Fun:</strong> FlowRider private lesson at 9:00 AM, cupcake decorating at 3:00 PM</p>
                                            <p><strong>Couples' Escape:</strong> Adults-only hot tub at 7:00 PM (Deck 11 aft)</p>
                                            <div class="chip-group mt-4">
                                                <span class="tag tag--recommended">Formal Night #1</span>
                                                <span class="tag tag--info">Captain's Welcome</span>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Day 4 -->
                                    <div class="timeline-item">
                                        <span class="timeline-day">Day 4 â€¢ Feb 17</span>
                                        <div class="timeline-content">
                                            <h3>Falmouth, Jamaica</h3>
                                            <p><strong>Time:</strong> 7:00 AM - 4:00 PM</p>
                                            <p><strong>Signature:</strong> Dunn's River Falls + Blue Hole combo</p>
                                            <div class="chip-group mt-4">
                                                <span class="tag tag--essential">All Aboard 3:30 PM</span>
                                                <span class="tag tag--recommended">Water Shoes Required</span>
                                                <span class="tag tag--info">Local Cuisine</span>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Day 5 -->
                                    <div class="timeline-item">
                                        <span class="timeline-day">Day 5 â€¢ Feb 18</span>
                                        <div class="timeline-content">
                                            <h3>Labadee, Haiti</h3>
                                            <p><strong>Time:</strong> 9:30 AM - 5:00 PM</p>
                                            <p><strong>Signature:</strong> Dragon's Breath Flight Line, Nellie's cabana</p>
                                            <div class="chip-group mt-4">
                                                <span class="tag tag--essential">All Aboard 4:30 PM</span>
                                                <span class="tag tag--recommended">Morning Zip-line Slot</span>
                                                <span class="tag tag--info">Photo Package Available</span>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Day 6 -->
                                    <div class="timeline-item">
                                        <span class="timeline-day">Day 6 â€¢ Feb 19</span>
                                        <div class="timeline-content">
                                            <h3>At Sea</h3>
                                            <p><strong>Signature:</strong> Captain's Gala, formal night portraits</p>
                                            <div class="chip-group mt-4">
                                                <span class="tag tag--essential">Formal Night #2</span>
                                                <span class="tag tag--recommended">Portrait Sessions</span>
                                                <span class="tag tag--info">Farewell Events</span>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Day 7 -->
                                    <div class="timeline-item">
                                        <span class="timeline-day">Day 7 â€¢ Feb 20</span>
                                        <div class="timeline-content">
                                            <h3>Port Canaveral - Return</h3>
                                            <p><strong>Arrival:</strong> 6:30 AM</p>
                                            <p><strong>Disembarkation:</strong> Facial-recognition customs (~10 minutes)</p>
                                            <div class="chip-group mt-4">
                                                <span class="tag tag--essential">Bags Out by Midnight</span>
                                                <span class="tag tag--info">Early Breakfast Available</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Dining Section -->
                    <section id="dining" class="section" aria-labelledby="diningTitle">
                        <div class="card">
                            <div class="card__header">
                                <div class="card__icon" aria-hidden="true">
                                    <i class="fas fa-utensils"></i>
                                </div>
                                <div>
                                    <h2 id="diningTitle" class="card__title">Dining &amp; Restaurants</h2>
                                    <p class="card__subtitle">Culinary experiences onboard</p>
                                </div>
                                <button class="card__toggle" aria-expanded="false" aria-controls="diningContent">
                                    <i class="fas fa-chevron-down" aria-hidden="true"></i>
                                    <span class="sr-only">Toggle section</span>
                                </button>
                            </div>
                            <div id="diningContent" class="card__content collapsed">
                                <div class="dining-grid">
                                    <!-- Specialty Dining -->
                                    <div class="dining-card featured">
                                        <h3>Specialty Favorites</h3>
                                        <p class="mb-4">Reserve early for the most popular venues:</p>
                                        <ul class="guest-list mb-6">
                                            <li><strong>Chops GrilleÂ®:</strong> Prime steaks â€¢ $54 pp â€¢ ask for secret chimichurri</li>
                                            <li><strong>Izumi Hibachi &amp; Sushi:</strong> Teppanyaki + rolls â€¢ Ã  la carte â€¢ shout "Arigato" for bonus fried rice</li>
                                            <li><strong>Giovanni's Table:</strong> Rustic Italian â€¢ $46 pp â€¢ half-price lunch on port days</li>
                                            <li><strong>Izumi Sushi Roulette:</strong> Ask the chef for a surprise roll</li>
                                            <li><strong>Chef's Table Backstage:</strong> Tip ~$50 for a kitchen tour</li>
                                        </ul>
                                        <p class="text-sm text-light mb-4">Plan specialty dining around at-sea evenings to maximize time in port</p>
                                        <div class="dining-type">Premium Experience</div>
                                    </div>

                                    <!-- Main Dining -->
                                    <div class="dining-card">
                                        <h3>Main Dining Room</h3>
                                        <p class="mb-4">Dress Code: 2 formal nights; smart casual other evenings</p>
                                        <p class="mb-2"><strong>My Time Dining:</strong> Pre-book or expect a wait</p>
                                        <p class="mb-6"><strong>Tip:</strong> Captain's Gala and formal portraits on the final sea day</p>
                                        <div class="dining-type">Included</div>
                                    </div>

                                    <!-- Casual Options -->
                                    <div class="dining-card">
                                        <h3>Casual Dining &amp; Snacks</h3>
                                        <ul class="guest-list mb-6">
                                            <li><strong>Windjammer CafÃ©:</strong> Global buffet â€¢ complimentary</li>
                                            <li><strong>CafÃ© Promenade:</strong> 24/7 snacks and coffee</li>
                                            <li><strong>Room Service:</strong> Free continental breakfast (order via TV), $7.95 fee after 6 PM</li>
                                            <li><strong>Johnny Rockets:</strong> Classic burgers &amp; shakes â€¢ Ã  la carte</li>
                                            <li><strong>Ben &amp; Jerry's:</strong> Ice cream treats â€¢ extra charge</li>
                                        </ul>
                                        <div class="dining-type">Included</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Communication & Budget Section -->
                    <section id="communication" class="section" aria-labelledby="communicationTitle">
                        <div class="card">
                            <div class="card__header">
                                <div class="card__icon" aria-hidden="true">
                                    <i class="fas fa-comments-dollar"></i>
                                </div>
                                <div>
                                    <h2 id="communicationTitle" class="card__title">Communication &amp; Budget Plan</h2>
                                    <p class="card__subtitle">Stay connected and manage expenses</p>
                                </div>
                                <button class="card__toggle" aria-expanded="false" aria-controls="communicationContent">
                                    <i class="fas fa-chevron-down" aria-hidden="true"></i>
                                    <span class="sr-only">Toggle section</span>
                                </button>
                            </div>
                            <div id="communicationContent" class="card__content collapsed">
                                <div class="tips-grid">
                                    <!-- Connectivity Plan -->
                                    <div class="tip-card">
                                        <div class="tip-header">
                                            <div class="tip-icon">ðŸ“±</div>
                                            <h4>Connectivity Plan</h4>
                                        </div>
                                        <ul class="guest-list">
                                            <li><strong>Royal app chat:</strong> Free on ship Wi-Fi for group updates</li>
                                            <li><strong>VOOM Surf + Stream:</strong> From ~$16 pp/day (pre-cruise)</li>
                                            <li><strong>In port:</strong> WhatsApp if on cellular or local Wi-Fi</li>
                                            <li><strong>Best Wi-Fi signal:</strong> Deck 4 library zones</li>
                                            <li><strong>Before sailaway:</strong> Set airplane mode to avoid roaming fees</li>
                                        </ul>
                                        <div class="chip-group mt-4">
                                            <span class="tag tag--info">110V/220V Outlets + USB</span>
                                            <span class="tag tag--recommended">WhatsApp: RaheCruise2026</span>
                                        </div>
                                    </div>

                                    <!-- Policies & Gratuities -->
                                    <div class="tip-card">
                                        <div class="tip-header">
                                            <div class="tip-icon">ðŸ§¾</div>
                                            <h4>Policies &amp; Gratuities</h4>
                                        </div>
                                        <ul class="guest-list">
                                            <li><strong>Daily gratuities:</strong> $18.50 pp/day ($21 suites) auto-charge or pre-pay</li>
                                            <li><strong>Alcohol policy:</strong> 1 sealed 750 ml wine/champagne per adult at embarkation</li>
                                            <li><strong>Smoking areas:</strong> Port side Deck 11 + Casino Royale designated zone</li>
                                            <li><strong>Dress code:</strong> 2 formal nights, smart casual other nights</li>
                                            <li><strong>Age restrictions:</strong> Must be 21 to drink, 18 to gamble</li>
                                        </ul>
                                        <div class="chip-group mt-4">
                                            <span class="tag tag--recommended">Review SeaPass Charges Nightly</span>
                                        </div>
                                    </div>

                                    <!-- Budget Dashboard -->
                                    <div class="tip-card">
                                        <div class="tip-header">
                                            <div class="tip-icon">ðŸ’³</div>
                                            <h4>Budget Dashboard</h4>
                                        </div>
                                        <ul class="guest-list">
                                            <li><strong>Excursions:</strong> $800 (Dunn's River Falls, Dragon's Breath, CocoCay)</li>
                                            <li><strong>Specialty Dining:</strong> $300 (3 restaurants for 2 people)</li>
                                            <li><strong>Drinks Package:</strong> $400 (Deluxe Beverage for 2)</li>
                                            <li><strong>VOOM Wi-Fi:</strong> $150 (2 devices for 6 nights)</li>
                                            <li><strong>Souvenirs:</strong> $300 (gifts, photos, keepsakes)</li>
                                            <li><strong>Onboard Credits:</strong> $200 (applied to SeaPass)</li>
                                        </ul>
                                        <p class="text-sm text-light mt-4">Use a shared Google Sheet for real-time expense tracking</p>
                                        <div class="chip-group mt-4">
                                            <span class="tag tag--essential">Track Totals Nightly</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Tips Section -->
                    <section id="tips" class="section" aria-labelledby="tipsTitle">
                        <div class="card">
                            <div class="card__header">
                                <div class="card__icon" aria-hidden="true">
                                    <i class="fas fa-lightbulb"></i>
                                </div>
                                <div>
                                    <h2 id="tipsTitle" class="card__title">Pro Tips &amp; Recommendations</h2>
                                    <p class="card__subtitle">Expert advice for the perfect cruise</p>
                                </div>
                                <button class="card__toggle" aria-expanded="false" aria-controls="tipsContent">
                                    <i class="fas fa-chevron-down" aria-hidden="true"></i>
                                    <span class="sr-only">Toggle section</span>
                                </button>
                            </div>
                            <div id="tipsContent" class="card__content collapsed">
                                <div class="tips-grid">
                                    <!-- Tip 1 -->
                                    <div class="tip-card">
                                        <div class="tip-header">
                                            <div class="tip-icon">ðŸ“±</div>
                                            <h4>Royal App is Essential</h4>
                                        </div>
                                        <p>Download before you sail. Use for daily schedules, onboard chat, and account monitoring. Enable notifications for important announcements.</p>
                                        <div class="chip-group mt-4">
                                            <span class="tag tag--essential">Must Do</span>
                                            <span class="tag tag--info">Free Onboard</span>
                                        </div>
                                    </div>

                                    <!-- Tip 2 -->
                                    <div class="tip-card">
                                        <div class="tip-header">
                                            <div class="tip-icon">ðŸ‘•</div>
                                            <h4>Packing Checklist</h4>
                                        </div>
                                        <p>Mid-Feb temps: 75-82Â°F days, 68Â°F nights. Pack light layers, reef-safe SPF 50, quick-dry swimwear, water shoes, and two formal outfits.</p>
                                        <ul class="guest-list mt-2">
                                            <li>Passports valid beyond Aug 2026</li>
                                            <li>Excursions booked in Cruise Planner</li>
                                            <li>Magnetic hooks, USB-C hub, night-light</li>
                                            <li>Motion sickness remedies</li>
                                        </ul>
                                        <div class="chip-group mt-4">
                                            <span class="tag tag--recommended">Ready-to-Print</span>
                                        </div>
                                    </div>

                                    <!-- Tip 3 -->
                                    <div class="tip-card">
                                        <div class="tip-header">
                                            <div class="tip-icon">ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦</div>
                                            <h4>Family Programs</h4>
                                        </div>
                                        <p>Adventure Ocean (3-12), Teen Lounge (13-17), Royal Babies &amp; Tots (6-36 mo, reservation-only), and Splashaway Bay for littles.</p>
                                        <div class="chip-group mt-4">
                                            <span class="tag tag--info">All Ages</span>
                                            <span class="tag tag--recommended">Early Registration</span>
                                        </div>
                                    </div>

                                    <!-- Tip 4 -->
                                    <div class="tip-card">
                                        <div class="tip-header">
                                            <div class="tip-icon">ðŸ•</div>
                                            <h4>Ship Time vs. Local Time</h4>
                                        </div>
                                        <p>Always follow ship time, not local port time, to avoid missing departure. Set watches to ship time and double-check before leaving ship.</p>
                                        <div class="chip-group mt-4">
                                            <span class="tag tag--essential">Critical</span>
                                        </div>
                                    </div>

                                    <!-- Tip 5 -->
                                    <div class="tip-card">
                                        <div class="tip-header">
                                            <div class="tip-icon">ðŸï¸</div>
                                            <h4>Ports Playbook</h4>
                                        </div>
                                        <p>CocoCay: Chill Island cabanas include snorkel gear + lunch. Falmouth: pair Dunn's River Falls with Blue Hole. Labadee: morning zip-line slot is cooler.</p>
                                        <div class="chip-group mt-4">
                                            <span class="tag tag--recommended">Insider Tips</span>
                                        </div>
                                    </div>

                                    <!-- Tip 6 -->
                                    <div class="tip-card">
                                        <div class="tip-header">
                                            <div class="tip-icon">ðŸ“¸</div>
                                            <h4>Photo &amp; Video</h4>
                                        </div>
                                        <p>Unlimited Digital Package $249 (formal + gangway + FlowRider shots). Video recap $149 if pre-ordered. Best photos on formal nights.</p>
                                        <div class="chip-group mt-4">
                                            <span class="tag tag--info">Keepsakes</span>
                                            <span class="tag tag--recommended">Pre-Cruise Discount</span>
                                        </div>
                                    </div>

                                    <!-- Tip 7 -->
                                    <div class="tip-card">
                                        <div class="tip-header">
                                            <div class="tip-icon">ðŸ‘‘</div>
                                            <h4>Crown &amp; Anchor</h4>
                                        </div>
                                        <p>Earn 1 point per night (2 in suites). Gold at 3+ points, Platinum at 30, Diamond at 80. Benefits include priority check-in and exclusive events.</p>
                                        <div class="chip-group mt-4">
                                            <span class="tag tag--info">Loyalty</span>
                                        </div>
                                    </div>

                                    <!-- Tip 8 -->
                                    <div class="tip-card">
                                        <div class="tip-header">
                                            <div class="tip-icon">ðŸ©º</div>
                                            <h4>Accessibility &amp; Health</h4>
                                        </div>
                                        <p>26 accessible cabins, pool lifts, captioned TVs, service-animal friendly. Medical Center Deck 1 (~$150 visit). Bring prescription copies.</p>
                                        <div class="chip-group mt-4">
                                            <span class="tag tag--essential">Plan Ahead</span>
                                        </div>
                                    </div>

                                    <!-- Tip 9 -->
                                    <div class="tip-card">
                                        <div class="tip-header">
                                            <div class="tip-icon">â“</div>
                                            <h4>FAQ Quick Hits</h4>
                                        </div>
                                        <ul class="guest-list">
                                            <li>Two formal nights on a 6-night sailing</li>
                                            <li>Streaming works with VOOM Surf + Stream</li>
                                            <li>Refill water bottles at Windjammer + CafÃ© Promenade</li>
                                            <li>Towels provided ashore (scan SeaPass)</li>
                                        </ul>
                                        <div class="chip-group mt-4">
                                            <span class="tag tag--info">Good to Know</span>
                                        </div>
                                    </div>

                                    <!-- Tip 10 -->
                                    <div class="tip-card">
                                        <div class="tip-header">
                                            <div class="tip-icon">ðŸ§­</div>
                                            <h4>Cruise Lingo &amp; Loyalty Perks</h4>
                                        </div>
                                        <ul class="guest-list">
                                            <li><strong>Muster Drill:</strong> Safety briefing (now electronic)</li>
                                            <li><strong>Port vs. Starboard:</strong> Left vs. right (facing the bow)</li>
                                            <li><strong>SeaPass:</strong> Onboard ID + payment card</li>
                                            <li><strong>Tender:</strong> Small boat to shore (not needed this sailing)</li>
                                            <li><strong>Diamond:</strong> Free drinks 5-8 PM in Suite Lounge</li>
                                        </ul>
                                        <div class="chip-group mt-4">
                                            <span class="tag tag--recommended">First-Timers + Veterans</span>
                                        </div>
                                    </div>

                                    <!-- Tip 11 -->
                                    <div class="tip-card">
                                        <div class="tip-header">
                                            <div class="tip-icon">ðŸ›³ï¸</div>
                                            <h4>Ship Overview Highlights</h4>
                                        </div>
                                        <ul class="guest-list">
                                            <li><strong>Thrills:</strong> Typhoon &amp; Cyclone waterslides + glow-in-the-dark laser tag</li>
                                            <li><strong>Dining:</strong> Izumi Hibachi + Windjammer global street food stations</li>
                                            <li><strong>Tech:</strong> Starlink Wi-Fi + RFID luggage tracking in the app</li>
                                        </ul>
                                        <div class="chip-group mt-4">
                                            <span class="tag tag--info">Amplified 2018+</span>
                                        </div>
                                    </div>

                                    <!-- Tip 12 -->
                                    <div class="tip-card">
                                        <div class="tip-header">
                                            <div class="tip-icon">ðŸ—ºï¸</div>
                                            <h4>Deck Cheat Sheet</h4>
                                        </div>
                                        <ul class="guest-list">
                                            <li><strong>Deck 11:</strong> Pools + Windjammer. Climb to Deck 12 for quiet seating</li>
                                            <li><strong>Deck 5:</strong> Royal Promenade. CafÃ© Promenade snacks 24/7 (choco croissants @ 3 AM)</li>
                                            <li><strong>Deck 13:</strong> FlowRiderÂ®. Early AM = no lines</li>
                                        </ul>
                                        <div class="chip-group mt-4">
                                            <span class="tag tag--recommended">Know the Shortcuts</span>
                                        </div>
                                    </div>

                                    <!-- Tip 13 -->
                                    <div class="tip-card">
                                        <div class="tip-header">
                                            <div class="tip-icon">ðŸ›Œ</div>
                                            <h4>Cabin Hacks</h4>
                                        </div>
                                        <ul class="guest-list">
                                            <li><strong>Magnetic walls:</strong> Use 10 lb+ hooks for schedules</li>
                                            <li><strong>Nightlight:</strong> USB stick-on light for late-night walks</li>
                                            <li><strong>Balcony etiquette:</strong> Close curtains at night for privacy</li>
                                            <li><strong>Interior cabins:</strong> Use the bridge cam TV for a virtual "window"</li>
                                        </ul>
                                        <div class="chip-group mt-4">
                                            <span class="tag tag--recommended">Sleep Smarter</span>
                                        </div>
                                    </div>

                                    <!-- Tip 14 -->
                                    <div class="tip-card">
                                        <div class="tip-header">
                                            <div class="tip-icon">ðŸŽª</div>
                                            <h4>Activities for Everyone</h4>
                                        </div>
                                        <ul class="guest-list">
                                            <li><strong>Families:</strong> Adventure Ocean Late Night (after 10 PM, $7/hr)</li>
                                            <li><strong>Families:</strong> Laser Tag Tournament â€” loser buys milkshakes</li>
                                            <li><strong>Couples:</strong> Helipad stargazing 10-11 PM on sea days</li>
                                            <li><strong>Couples:</strong> Couples massage 30% off on port days</li>
                                        </ul>
                                        <div class="chip-group mt-4">
                                            <span class="tag tag--info">Something for Every Crew</span>
                                        </div>
                                    </div>

                                    <!-- Tip 15 -->
                                    <div class="tip-card">
                                        <div class="tip-header">
                                            <div class="tip-icon">ðŸŒ´</div>
                                            <h4>Port Guides: Falmouth &amp; Labadee</h4>
                                        </div>
                                        <ul class="guest-list">
                                            <li><strong>Falmouth safety:</strong> Stay in gated port area unless on a tour</li>
                                            <li><strong>Blue Hole tour:</strong> "Rasta Dave" WhatsApp <a href="tel:+1 876-555-0123">+1 876-555-0123</a> ($40/person)</li>
                                            <li><strong>Labadee:</strong> Dragon's Breath Zipline (min weight 75 lbs)</li>
                                            <li><strong>Nellie's Beach Cabana:</strong> Suites get corkage fee waived</li>
                                        </ul>
                                        <div class="chip-group mt-4">
                                            <span class="tag tag--recommended">Local Flavor</span>
                                        </div>
                                    </div>

                                    <!-- Tip 16 -->
                                    <div class="tip-card">
                                        <div class="tip-header">
                                            <div class="tip-icon">ðŸ’°</div>
                                            <h4>Budget Tips &amp; Splurges</h4>
                                        </div>
                                        <ul class="guest-list">
                                            <li><strong>Wi-Fi:</strong> $18/day (first-timers) vs. $14/day (Diamond)</li>
                                            <li><strong>Photos:</strong> $199 unlimited vs. $99 Platinum deal</li>
                                            <li><strong>Freebies:</strong> Champagne at art auction + Captain's Toast</li>
                                            <li><strong>Deals:</strong> Shop clearance on Day 6</li>
                                            <li><strong>Splurges:</strong> The Key ($25/day) + Vintage Wine Trio ($120)</li>
                                        </ul>
                                        <div class="chip-group mt-4">
                                            <span class="tag tag--recommended">Stretch the Spend</span>
                                        </div>
                                    </div>

                                    <!-- Tip 17 -->
                                    <div class="tip-card">
                                        <div class="tip-header">
                                            <div class="tip-icon">ðŸ§³</div>
                                            <h4>Packing Checklist</h4>
                                        </div>
                                        <ul class="guest-list">
                                            <li><strong>First-timer essentials:</strong> Over-door organizer, highlighter</li>
                                            <li><strong>Veteran upgrades:</strong> Non-surge power strip, portable laundry line</li>
                                            <li><strong>Weather prep:</strong> UPF rash guards, cooling towels, pashmina</li>
                                        </ul>
                                        <div class="chip-group mt-4">
                                            <span class="tag tag--essential">Pack Smart</span>
                                        </div>
                                    </div>

                                    <!-- Tip 18 -->
                                    <div class="tip-card">
                                        <div class="tip-header">
                                            <div class="tip-icon">ðŸš¨</div>
                                            <h4>Safety &amp; Prep</h4>
                                        </div>
                                        <ul class="guest-list">
                                            <li>Store passports in cabin safe, not checked bags</li>
                                            <li>Closed-toe shoes for rock climbing and active excursions</li>
                                            <li>Upload vaccine cards/scripts pre-cruise</li>
                                            <li>Carry $200 in small bills for ports + tipping</li>
                                        </ul>
                                        <div class="chip-group mt-4">
                                            <span class="tag tag--essential">Must-Do</span>
                                        </div>
                                    </div>

                                    <!-- Tip 19 -->
                                    <div class="tip-card">
                                        <div class="tip-header">
                                            <div class="tip-icon">ðŸ“¶</div>
                                            <h4>Tech &amp; Connectivity</h4>
                                        </div>
                                        <ul class="guest-list">
                                            <li>Download the Royal Caribbean app before travel</li>
                                            <li>Use the AR tour in-app to explore suites</li>
                                            <li>Set airplane mode before sailaway to avoid roaming</li>
                                            <li>Bring portable charger for shore days</li>
                                        </ul>
                                        <div class="chip-group mt-4">
                                            <span class="tag tag--info">Stay Connected</span>
                                        </div>
                                    </div>

                                    <!-- Tip 20 -->
                                    <div class="tip-card">
                                        <div class="tip-header">
                                            <div class="tip-icon">ðŸ—‚ï¸</div>
                                            <h4>Organize Like a Pro</h4>
                                        </div>
                                        <ul class="guest-list">
                                            <li><strong>Binder tabs:</strong> Daily plans, port maps, budget tracker</li>
                                            <li><strong>Digital:</strong> Shared Google Sheet + WhatsApp group</li>
                                            <li><strong>Color coding:</strong> Assign colors to family members</li>
                                            <li><strong>Checklists:</strong> Pre-cruise, embarkation, disembarkation</li>
                                        </ul>
                                        <div class="chip-group mt-4">
                                            <span class="tag tag--recommended">Smooth Coordination</span>
                                        </div>
                                    </div>

                                    <!-- Tip 21 -->
                                    <div class="tip-card">
                                        <div class="tip-header">
                                            <div class="tip-icon">ðŸ†˜</div>
                                            <h4>Emergency Contacts</h4>
                                        </div>
                                        <ul class="guest-list">
                                            <li><strong>Ship Infirmary:</strong> Deck 1 â€” Dial 911 onboard</li>
                                            <li><strong>Cruise Admin:</strong> Melissa â€” +1 (XXX) XXX-XXXX</li>
                                            <li><strong>Jamaica U.S. Embassy:</strong> <a href="tel:+1 876-702-6000">+1 876-702-6000</a></li>
                                            <li><strong>Royal Caribbean Help Desk:</strong> via the app</li>
                                        </ul>
                                        <div class="chip-group mt-4">
                                            <span class="tag tag--essential">Print This</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- VIP Upgrades Section -->
                    <section id="integrate" class="section" aria-labelledby="integrateTitle">
                        <div class="card card--highlight">
                            <div class="card__header">
                                <div class="card__icon" aria-hidden="true">
                                    <i class="fas fa-star"></i>
                                </div>
                                <div>
                                    <h2 id="integrateTitle" class="card__title">VIP Upgrades: Platinum Edition Highlights</h2>
                                    <p class="card__subtitle">Premium experiences with clear value props for the Rahe Family Ultimate Caribbean Cruise Companion</p>
                                </div>
                                <button class="card__toggle" aria-expanded="false" aria-controls="integrateContent">
                                    <i class="fas fa-chevron-down" aria-hidden="true"></i>
                                    <span class="sr-only">Toggle section</span>
                                </button>
                            </div>
                            <div id="integrateContent" class="card__content collapsed">
                                <div class="tips-grid">
                                    <!-- VIP Voyage Add-ons -->
                                    <div class="tip-card">
                                        <div class="tip-header">
                                            <div class="tip-icon">âš“</div>
                                            <h4>VIP Voyage Add-ons</h4>
                                        </div>
                                        <ul class="guest-list">
                                            <li><strong>First-to-dock priority:</strong> secure early entry to Thrill Waterpark at CocoCay</li>
                                            <li><strong>Suite-only immersion:</strong> private artisan market guide in Labadee</li>
                                            <li><strong>Speakeasy alert:</strong> ask for the "Frosted Mule" behind the ice rink</li>
                                            <li><strong>Bridge tour:</strong> exclusive behind-the-scenes access</li>
                                            <li><strong>Personal concierge:</strong> dedicated staff for special requests</li>
                                        </ul>
                                        <div class="chip-group mt-4">
                                            <span class="tag tag--recommended">VIP Experience</span>
                                        </div>
                                    </div>

                                    <!-- Hero Moments & Signature Wins -->
                                    <div class="tip-card">
                                        <div class="tip-header">
                                            <div class="tip-icon">ðŸ—ºï¸</div>
                                            <h4>Hero Moments &amp; Signature Wins</h4>
                                        </div>
                                        <ul class="guest-list">
                                            <li>Sunrise zip line in Labadee + helipad stargazing at sea</li>
                                            <li>Blue Hole secret lagoon in Jamaica with waterproof LED lights</li>
                                            <li>Floating cabana at CocoCay (6 total) with butler service</li>
                                            <li>Private FlowRider lesson with champion surfer</li>
                                            <li>Behind-the-scenes kitchen tour with executive chef</li>
                                        </ul>
                                        <div class="chip-group mt-4">
                                            <span class="tag tag--recommended">Unforgettable Memories</span>
                                        </div>
                                    </div>

                                    <!-- Stateroom Strategy -->
                                    <div class="tip-card">
                                        <div class="tip-header">
                                            <div class="tip-icon">ðŸ›Œ</div>
                                            <h4>Stateroom Strategy</h4>
                                        </div>
                                        <ul class="guest-list">
                                            <li>Balcony 6650: pre-order pillow menu (memory foam, lavender, cooling gel)</li>
                                            <li>Interior 6443: pack a mini projector for a cinema night</li>
                                            <li>Deck 7/8 balcony: schedule sunrise yoga via the app</li>
                                            <li>Suite amenities: complimentary pressing, priority boarding</li>
                                            <li>Connecting rooms: coordinate schedules with magnetic boards</li>
                                        </ul>
                                        <div class="chip-group mt-4">
                                            <span class="tag tag--recommended">Enhanced Comfort</span>
                                        </div>
                                    </div>

                                    <!-- Dining & Toast Hacks -->
                                    <div class="tip-card">
                                        <div class="tip-header">
                                            <div class="tip-icon">ðŸ·</div>
                                            <h4>Dining &amp; Toast Hacks</h4>
                                        </div>
                                        <ul class="guest-list">
                                            <li>Chops Grille: request truffle mac off-menu + dessert flight</li>
                                            <li>Giovanni's Table: port-day lunch for half-price + limoncello</li>
                                            <li>Windjammer: 6:30 AM cronuts + made-to-order pho station</li>
                                            <li>Chef's Table: wine pairing with each course</li>
                                            <li>Room service: extended hours for suite guests</li>
                                        </ul>
                                        <div class="chip-group mt-4">
                                            <span class="tag tag--recommended">Culinary Excellence</span>
                                        </div>
                                    </div>

                                    <!-- Family Playbook -->
                                    <div class="tip-card">
                                        <div class="tip-header">
                                            <div class="tip-icon">ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦</div>
                                            <h4>Family Playbook</h4>
                                        </div>
                                        <ul class="guest-list">
                                            <li>Tots: themed character night + cookie decorating</li>
                                            <li>Kids: junior mixology mocktail class</li>
                                            <li>Teens: Instagram scavenger hunt with FlowRider prize</li>
                                            <li>Adults: mixology class with master bartender</li>
                                            <li>Multi-generational: family talent show night</li>
                                        </ul>
                                        <div class="chip-group mt-4">
                                            <span class="tag tag--recommended">All Ages Fun</span>
                                        </div>
                                    </div>

                                    <!-- Legacy & Sustainability -->
                                    <div class="tip-card">
                                        <div class="tip-header">
                                            <div class="tip-icon">ðŸŒ</div>
                                            <h4>Legacy &amp; Sustainability</h4>
                                        </div>
                                        <ul class="guest-list">
                                            <li>Enable Journey Mode in the Royal Caribbean app for AI itinerary tuning</li>
                                            <li>Book Memory Maker for 4K drone footage at Dunn's River Falls</li>
                                            <li>Join Green Anchor: recycle 5 bottles for a free cocktail</li>
                                            <li>Carbon offset: optional contribution to ocean conservation</li>
                                            <li>Local sourcing: support artisan markets in port</li>
                                        </ul>
                                        <div class="chip-group mt-4">
                                            <span class="tag tag--recommended">Responsible Travel</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="note note--accent mt-8">
                                    <strong>VIP Digital Passport:</strong> Add a QR code placeholder for captain's videos, crew secrets, and a live countdown clock. Access exclusive content via the Royal app.
                                </div>
                            </div>
                        </div>
                    </section>
                </div>

                <!-- Right Column - Sidebar -->
                <aside class="sidebar" aria-label="Supplementary information">
                    <!-- Focus This Week -->
                    <div class="sidebar-card sidebar-card--highlight">
                        <h3 class="sidebar-card__title">
                            <i class="fas fa-bullseye" aria-hidden="true"></i>
                            Focus This Week
                        </h3>
                        <ul class="list list--icon">
                            <li>
                                <i class="fas fa-check-circle text-success" aria-hidden="true"></i>
                                <span>Finalize 11:00 AM check-in</span>
                            </li>
                            <li>
                                <i class="fas fa-link text-primary" aria-hidden="true"></i>
                                <span>Link bookings in Royal app</span>
                            </li>
                            <li>
                                <i class="fas fa-calendar text-accent" aria-hidden="true"></i>
                                <span>Reserve Dunn's River + Dragon's Breath</span>
                            </li>
                            <li>
                                <i class="fas fa-utensils text-warning" aria-hidden="true"></i>
                                <span>Lock dining plans</span>
                            </li>
                            <li>
                                <i class="fas fa-passport text-info" aria-hidden="true"></i>
                                <span>Check passport expiration</span>
                            </li>
                        </ul>
                    </div>

                    <!-- Quick Links -->
                    <div class="sidebar-card">
                        <h3 class="sidebar-card__title">
                            <i class="fas fa-link" aria-hidden="true"></i>
                            Quick Navigation
                        </h3>
                        <nav aria-label="Page sections">
                            <ul class="sidebar-links">
                                <li>
                                    <button class="sidebar-link" data-section="overview">
                                        <i class="fas fa-anchor" aria-hidden="true"></i>
                                        <span>Start Here</span>
                                    </button>
                                </li>
                                <li>
                                    <button class="sidebar-link" data-section="operations">
                                        <i class="fas fa-compass" aria-hidden="true"></i>
                                        <span>Ops Manual</span>
                                    </button>
                                </li>
                                <li>
                                    <button class="sidebar-link" data-section="rooms">
                                        <i class="fas fa-bed" aria-hidden="true"></i>
                                        <span>Room Details</span>
                                    </button>
                                </li>
                                <li>
                                    <button class="sidebar-link" data-section="itinerary">
                                        <i class="fas fa-map-marked-alt" aria-hidden="true"></i>
                                        <span>Daily Schedule</span>
                                    </button>
                                </li>
                                <li>
                                    <button class="sidebar-link" data-section="dining">
                                        <i class="fas fa-concierge-bell" aria-hidden="true"></i>
                                        <span>Dining Options</span>
                                    </button>
                                </li>
                                <li>
                                    <button class="sidebar-link" data-section="communication">
                                        <i class="fas fa-comments-dollar" aria-hidden="true"></i>
                                        <span>Comms &amp; Budget</span>
                                    </button>
                                </li>
                                <li>
                                    <button class="sidebar-link" data-section="tips">
                                        <i class="fas fa-star" aria-hidden="true"></i>
                                        <span>Pro Tips</span>
                                    </button>
                                </li>
                                <li>
                                    <button class="sidebar-link" data-section="integrate">
                                        <i class="fas fa-rocket" aria-hidden="true"></i>
                                        <span>VIP Upgrades</span>
                                    </button>
                                </li>
                            </ul>
                        </nav>
                    </div>

                    <!-- Important Dates -->
                    <div class="sidebar-card">
                        <h3 class="sidebar-card__title">
                            <i class="fas fa-calendar-check" aria-hidden="true"></i>
                            Key Dates
                        </h3>
                        <ul class="date-list">
                            <li class="date-item">
                                <span class="date-label">Online Check-in Opens</span>
                                <span class="date-value">~Dec 31, 2025</span>
                            </li>
                            <li class="date-item">
                                <span class="date-label">Cruise Departure</span>
                                <span class="date-value">Feb 14, 2026</span>
                            </li>
                            <li class="date-item">
                                <span class="date-label">First Port (CocoCay)</span>
                                <span class="date-value">Feb 15, 2026</span>
                            </li>
                            <li class="date-item">
                                <span class="date-label">Falmouth, Jamaica</span>
                                <span class="date-value">Feb 17, 2026</span>
                            </li>
                            <li class="date-item">
                                <span class="date-label">Labadee, Haiti</span>
                                <span class="date-value">Feb 18, 2026</span>
                            </li>
                            <li class="date-item">
                                <span class="date-label">Return to Port</span>
                                <span class="date-value">Feb 20, 2026</span>
                            </li>
                        </ul>
                    </div>

                    <!-- Weather Widget -->
                    <div class="sidebar-card">
                        <h3 class="sidebar-card__title">
                            <i class="fas fa-sun" aria-hidden="true"></i>
                            Caribbean Weather
                        </h3>
                        <div class="weather-widget">
                            <div class="weather-icon" role="img" aria-label="Partly Cloudy" style="opacity: 1;">ðŸŒ¤ï¸</div>
                            <div class="weather-temp" id="weatherTemp" style="opacity: 1;">82Â°F</div>
                            <div class="weather-condition" id="weatherCondition" style="opacity: 1;">Partly Cloudy</div>
                            <p class="weather-forecast">
                                    Typical February weather: 75-82Â°F days, 68Â°F nights. Ideal for outdoor activities. Light breeze from the east.
                                </p>
                        </div>
                    </div>

                    <!-- Emergency Info -->
                    <div class="sidebar-card">
                        <h3 class="sidebar-card__title">
                            <i class="fas fa-first-aid" aria-hidden="true"></i>
                            Emergency Info
                        </h3>
                        <ul class="list list--icon">
                            <li>
                                <i class="fas fa-hospital" aria-hidden="true"></i>
                                <span>Medical Center: Deck 1 (24/7)</span>
                            </li>
                            <li>
                                <i class="fas fa-phone-alt" aria-hidden="true"></i>
                                <span>Emergency: Dial 911 from cabin phone</span>
                            </li>
                            <li>
                                <i class="fas fa-user-friends" aria-hidden="true"></i>
                                <span>eMuster Station: F6 (Deck 4)</span>
                            </li>
                            <li>
                                <i class="fas fa-life-ring" aria-hidden="true"></i>
                                <span>Life Jackets: Under bed storage</span>
                            </li>
                            <li>
                                <i class="fas fa-shield-alt" aria-hidden="true"></i>
                                <span>Security: Deck 2 (24/7 patrol)</span>
                            </li>
                        </ul>
                    </div>

                    <!-- Traveler Count -->
                    <div class="sidebar-card">
                        <h3 class="sidebar-card__title">
                            <i class="fas fa-users" aria-hidden="true"></i>
                            Traveler Summary
                        </h3>
                        <div class="grid grid-cols-2 gap-4 mt-4">
                            <div class="text-center p-4 bg-light rounded-lg">
                                <div class="text-3xl font-bold text-primary">14</div>
                                <div class="text-sm text-light">Travelers</div>
                            </div>
                            <div class="text-center p-4 bg-light rounded-lg">
                                <div class="text-3xl font-bold text-accent">5</div>
                                <div class="text-sm text-light">Staterooms</div>
                            </div>
                            <div class="text-center p-4 bg-light rounded-lg">
                                <div class="text-3xl font-bold text-teal">3</div>
                                <div class="text-sm text-light">Ports</div>
                            </div>
                            <div class="text-center p-4 bg-light rounded-lg">
                                <div class="text-3xl font-bold text-success">6</div>
                                <div class="text-sm text-light">Nights</div>
                            </div>
                        </div>
                    </div>
                </aside>
            </div>
        </div>
    </main>

    <!-- Floating Actions -->
    <div class="floating-actions" aria-label="Quick actions">
        <button class="fab fab--critical" id="jumpToCriticalBtn" aria-label="Jump to critical checklist">
            <i class="fas fa-exclamation-triangle" aria-hidden="true"></i>
        </button>
        <button class="fab fab--compact active" id="compactToggleBtn" aria-pressed="true" aria-label="Toggle compact mode">
            <i class="fas fa-compress-alt" aria-hidden="true"></i>
        </button>
    </div>

    <!-- Bottom Navigation for Mobile -->
    <nav class="bottom-nav" aria-label="Mobile navigation">
        <button class="nav-item" data-section="overview">
            <i class="fas fa-home" aria-hidden="true"></i>
            <span>Start Here</span>
        </button>
        <button class="nav-item" data-section="operations">
            <i class="fas fa-compass" aria-hidden="true"></i>
            <span>Ops</span>
            <span class="nav-badge" id="criticalCountBadge" style="display: inline-flex;">5</span>
        </button>
        <button class="nav-item" data-section="itinerary">
            <i class="fas fa-calendar-alt" aria-hidden="true"></i>
            <span>Schedule</span>
        </button>
        <button class="nav-item" data-section="tips">
            <i class="fas fa-lightbulb" aria-hidden="true"></i>
            <span>Tips</span>
        </button>
        <button class="nav-item" id="mobileMoreBtn">
            <i class="fas fa-ellipsis-h" aria-hidden="true"></i>
            <span>More</span>
        </button>
    </nav>

    <!-- Footer -->
    <footer class="footer" role="contentinfo">
        <div class="container">
            <div class="footer__content">
                <div class="footer__section">
                    <h3 class="footer__title">Cruise Details</h3>
                    <ul class="footer__list">
                        <li>
                            <i class="fas fa-ship" aria-hidden="true"></i>
                            <span>Adventure of the Seas</span>
                        </li>
                        <li>
                            <i class="fas fa-calendar" aria-hidden="true"></i>
                            <span>Feb 14-20, 2026</span>
                        </li>
                        <li>
                            <i class="fas fa-map-marker-alt" aria-hidden="true"></i>
                            <span>Western Caribbean</span>
                        </li>
                        <li>
                            <i class="fas fa-users" aria-hidden="true"></i>
                            <span>14 Travelers â€¢ 5 Staterooms</span>
                        </li>
                        <li>
                            <i class="fas fa-anchor" aria-hidden="true"></i>
                            <span>Port Canaveral, Florida</span>
                        </li>
                    </ul>
                </div>
                
                <div class="footer__section">
                    <h3 class="footer__title">Quick Resources</h3>
                    <ul class="footer__list">
                        <li>
                            <i class="fas fa-mobile-alt" aria-hidden="true"></i>
                            <span>Royal Caribbean App</span>
                        </li>
                        <li>
                            <i class="fas fa-passport" aria-hidden="true"></i>
                            <span>Passport Required</span>
                        </li>
                        <li>
                            <i class="fas fa-swimming-pool" aria-hidden="true"></i>
                            <span>eMuster Station: F6</span>
                        </li>
                        <li>
                            <i class="fas fa-wifi" aria-hidden="true"></i>
                            <span>Wi-Fi Available</span>
                        </li>
                        <li>
                            <i class="fas fa-phone-alt" aria-hidden="true"></i>
                            <span>Emergency: 911 onboard</span>
                        </li>
                    </ul>
                </div>
                
                <div class="footer__section">
                    <h3 class="footer__title">Stay Connected</h3>
                    <p class="footer__description">
                        Share memories and coordinate plans with your travel group. Download for offline access. Save this page for reference throughout your cruise.
                    </p>
                    <div class="footer__social">
                        <button class="social-btn" id="whatsappBtn" aria-label="Open WhatsApp group">
                            <i class="fab fa-whatsapp" aria-hidden="true"></i>
                        </button>
                        <button class="social-btn" id="photoBtn" aria-label="View photo album">
                            <i class="fas fa-photo-video" aria-hidden="true"></i>
                        </button>
                        <button class="social-btn" id="shareFooterBtn" aria-label="Share this hub">
                            <i class="fas fa-share-alt" aria-hidden="true"></i>
                        </button>
                        <button class="social-btn" id="printFooterBtn" aria-label="Print itinerary">
                            <i class="fas fa-print" aria-hidden="true"></i>
                        </button>
                    </div>
                    <div class="mt-6">
                        <button class="btn btn--outline w-full" id="saveOfflineFooterBtn">
                            <i class="fas fa-download" aria-hidden="true"></i>
                            Save Entire Hub Offline
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="footer__bottom">
                <p class="footer__message">Your complete guide to an unforgettable Caribbean adventure! ðŸš¢</p>
                <p class="footer__copyright">
                    Royal Caribbean International Â© 2026 â€¢ Adventure of the Seas â€¢ This site works offline â€¢ Last updated: February 1, 2026
                </p>
                <p class="text-sm opacity-60 mt-2">
                    <i class="fas fa-heart text-danger" aria-hidden="true"></i>
                    Made with care for the Rahe Family &amp; Friends Cruise Adventure
                </p>
            </div>
        </div>
    </footer>

    <!-- Complete JavaScript -->
    <script>
        // ========== CRUISE COMPANION APPLICATION ==========
        class CruiseCompanion {
            constructor() {
                this.searchIndex = [];
                this.userPreferences = {};
                this.currentSection = 'overview';
                this.currentDay = 'all';
                this.currentTravelerView = 'all';
                this.observers = [];
                this.isLoading = false;
                this.isSearching = false;
                this.searchTimeout = null;
                this.toastTimeout = null;
                this.topBarTimeout = null;
                this.drawerOpen = false;
                this.lastTapTime = 0;
                this.touchStart = null;
                
                // Initialize everything
                this.init();
            }
            
            // Initialize application
            init() {
                console.log('ðŸš¢ Cruise Companion Hub Initializing...');
                
                // Initialize components
                this.setupLoading();
                this.setupMobileMenu();
                this.setupSearch();
                this.setupAccordions();
                this.setupCountdown();
                this.setupWeather();
                this.setupEventListeners();
                this.setupPrint();
                this.setupOffline();
                this.setupIntersectionObserver();
                this.setupDayNavigation();
                this.setupTravelerSelector();
                this.setupBottomNavigation();
                this.setupTopBarHint();
                this.setupCriticalFilter();
                this.setupCompactMode();
                this.setupJumpToCritical();
                this.setupTouchGestures();
                this.setupDaySelectorVisibility();
                this.updateStickyOffsets();
                this.handleResize();
                this.updateCriticalFabVisibility();
                
                // Build search index
                this.buildSearchIndex();
                
                // Load user preferences
                this.loadPreferences();
                
                // Hide loading after everything is ready
                setTimeout(() => {
                    this.hideLoading();
                    this.showToast('Welcome to your Cruise Companion Hub! ðŸš¢', 3000);
                }, 1500);
            }
            
            // ========== LOADING MANAGEMENT ==========
            setupLoading() {
                this.loadingOverlay = document.getElementById('loadingOverlay');
                
                // Simulate loading (in real app, this would be actual content loading)
                setTimeout(() => {
                    if (this.loadingOverlay && !this.loadingOverlay.classList.contains('hidden')) {
                        this.hideLoading();
                    }
                }, 2000);
            }
            
            showLoading(message = 'Loading...') {
                if (this.loadingOverlay) {
                    const loadingText = this.loadingOverlay.querySelector('.loading-text');
                    if (loadingText) {
                        loadingText.textContent = message;
                    }
                    this.loadingOverlay.classList.remove('hidden');
                    this.isLoading = true;
                }
            }
            
            hideLoading() {
                if (this.loadingOverlay) {
                    this.loadingOverlay.classList.add('hidden');
                    this.isLoading = false;
                }
            }
            
            // ========== MOBILE MENU ==========
            setupMobileMenu() {
                const mobileToggle = document.getElementById('mobileMenuBtn');
                const drawer = document.getElementById('sectionDrawer');
                const overlay = document.getElementById('sectionDrawerOverlay');
                const drawerClose = document.getElementById('sectionDrawerClose');
                
                if (!mobileToggle || !drawer || !overlay) return;
                
                mobileToggle.addEventListener('click', (e) => {
                    e.stopPropagation();
                    this.toggleSectionDrawer();
                });

                if (drawerClose) {
                    drawerClose.addEventListener('click', () => this.closeSectionDrawer());
                }

                overlay.addEventListener('click', () => this.closeSectionDrawer());

                drawer.addEventListener('click', (e) => {
                    const navItem = e.target.closest('.drawer-nav-item');
                    if (navItem) {
                        const section = navItem.dataset.section;
                        this.navigateToSection(section);
                        this.closeSectionDrawer();
                    }
                });

                document.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape' && this.drawerOpen) {
                        this.closeSectionDrawer();
                    }
                });
            }

            openSectionDrawer() {
                const drawer = document.getElementById('sectionDrawer');
                const overlay = document.getElementById('sectionDrawerOverlay');
                const mobileToggle = document.getElementById('mobileMenuBtn');
                if (!drawer || !overlay) return;

                drawer.classList.add('active');
                overlay.classList.add('active');
                drawer.setAttribute('aria-hidden', 'false');
                overlay.setAttribute('aria-hidden', 'false');
                document.body.style.overflow = 'hidden';
                this.drawerOpen = true;

                if (mobileToggle) {
                    mobileToggle.setAttribute('aria-expanded', 'true');
                }
            }

            closeSectionDrawer() {
                const drawer = document.getElementById('sectionDrawer');
                const overlay = document.getElementById('sectionDrawerOverlay');
                const mobileToggle = document.getElementById('mobileMenuBtn');
                if (!drawer || !overlay) return;

                drawer.classList.remove('active');
                overlay.classList.remove('active');
                drawer.setAttribute('aria-hidden', 'true');
                overlay.setAttribute('aria-hidden', 'true');
                document.body.style.overflow = '';
                this.drawerOpen = false;

                if (mobileToggle) {
                    mobileToggle.setAttribute('aria-expanded', 'false');
                }
            }

            toggleSectionDrawer() {
                if (this.drawerOpen) {
                    this.closeSectionDrawer();
                } else {
                    this.openSectionDrawer();
                }
            }
            
            // ========== SEARCH FUNCTIONALITY ==========
            setupSearch() {
                const searchBtn = document.getElementById('searchBtn');
                const searchOverlay = document.getElementById('searchOverlay');
                const searchClose = document.getElementById('searchClose');
                const searchForm = document.getElementById('searchForm');
                const searchInput = document.getElementById('searchInput');
                const searchResults = document.getElementById('searchResults');
                const searchChips = document.querySelectorAll('.search-chip');
                const searchSuggestions = document.getElementById('searchSuggestions');
                
                if (!searchBtn || !searchOverlay) return;

                this.suggestedSearches = [
                    'What time do I board?',
                    'Where is my room?',
                    'eMuster Station F6',
                    'Dining reservations',
                    'Shore excursions'
                ];
                this.searchHistory = this.loadSearchHistory();
                this.renderSearchSuggestions();
                
                // Open search
                searchBtn.addEventListener('click', () => {
                    searchOverlay.classList.add('active');
                    setTimeout(() => searchInput.focus(), 100);
                });
                
                // Close search
                searchClose.addEventListener('click', () => {
                    this.closeSearch();
                });
                
                // Close on escape
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape' && searchOverlay.classList.contains('active')) {
                        this.closeSearch();
                    }
                });
                
                // Handle search form submission
                searchForm.addEventListener('submit', (e) => {
                    e.preventDefault();
                    const query = searchInput.value.trim();
                    if (query) {
                        this.performSearch(query);
                    }
                });
                
                // Handle real-time search
                searchInput.addEventListener('input', (e) => {
                    const query = e.target.value.trim();
                    
                    // Clear previous timeout
                    if (this.searchTimeout) {
                        clearTimeout(this.searchTimeout);
                    }
                    
                    // Set new timeout for search
                    this.searchTimeout = setTimeout(() => {
                        if (query.length >= 2) {
                            this.performSearch(query);
                        } else {
                            this.clearSearchResults();
                        }
                    }, 300);
                });
                
                // Close when clicking outside
                searchOverlay.addEventListener('click', (e) => {
                    if (e.target === searchOverlay) {
                        this.closeSearch();
                    }
                });

                // Quick search chips
                searchChips.forEach(chip => {
                    chip.addEventListener('click', () => {
                        const query = chip.dataset.query || chip.textContent.trim();
                        searchInput.value = query;
                        this.performSearch(query);
                    });
                });

                if (searchSuggestions) {
                    searchSuggestions.addEventListener('click', (event) => {
                        const chip = event.target.closest('.search-chip');
                        if (!chip) return;
                        const query = chip.dataset.query || chip.textContent.trim();
                        searchInput.value = query;
                        this.performSearch(query);
                    });
                }
            }
            
            closeSearch() {
                const searchOverlay = document.getElementById('searchOverlay');
                const searchInput = document.getElementById('searchInput');
                
                searchOverlay.classList.remove('active');
                searchInput.value = '';
                this.clearSearchResults();
            }

            loadSearchHistory() {
                try {
                    const stored = localStorage.getItem('cruiseSearchHistory');
                    return stored ? JSON.parse(stored) : [];
                } catch (e) {
                    console.error('Failed to load search history', e);
                    return [];
                }
            }

            saveSearchHistory(query) {
                const normalized = query.trim();
                if (!normalized) return;

                const history = this.searchHistory || [];
                const updated = [normalized, ...history.filter(item => item.toLowerCase() !== normalized.toLowerCase())]
                    .slice(0, 5);
                this.searchHistory = updated;
                try {
                    localStorage.setItem('cruiseSearchHistory', JSON.stringify(updated));
                } catch (e) {
                    console.error('Failed to save search history', e);
                }
                this.renderSearchSuggestions();
            }

            renderSearchSuggestions() {
                const suggestedContainer = document.getElementById('suggestedSearchChips');
                const recentContainer = document.getElementById('recentSearchChips');
                const recentGroup = document.getElementById('recentSearchesGroup');

                if (suggestedContainer) {
                    suggestedContainer.innerHTML = this.suggestedSearches
                        .map(term => `<button type="button" class="search-chip" data-query="${term}">${term}</button>`)
                        .join('');
                }

                if (recentContainer && recentGroup) {
                    const history = this.searchHistory || [];
                    recentGroup.style.display = history.length ? 'block' : 'none';
                    recentContainer.innerHTML = history
                        .map(term => `<button type="button" class="search-chip" data-query="${term}">${term}</button>`)
                        .join('');
                }
            }

            // ========== TOP BAR HINT ==========
            setupTopBarHint() {
                this.dayHints = {
                    all: {
                        title: 'Today: Cruise Prep',
                        detail: 'Tap a day to see port highlights and all-aboard times.'
                    },
                    1: {
                        title: 'Today: Embarkation Day',
                        detail: 'Arrive 11:00 AM â€¢ Muster Station F6 â€¢ All Aboard 4:30 PM.'
                    },
                    2: {
                        title: 'Today: Perfect Day at CocoCay',
                        detail: 'Thrill Waterpark early â€¢ Oasis Lagoon lunch â€¢ All Aboard 4:30 PM.'
                    },
                    3: {
                        title: 'Today: Sea Day',
                        detail: 'Pool deck by 10 AM â€¢ R Bar meetup 6:45 PM.'
                    },
                    4: {
                        title: 'Today: Falmouth, Jamaica',
                        detail: 'Dunnâ€™s River Falls first â€¢ Return to ship by 4:00 PM.'
                    },
                    5: {
                        title: 'Today: Labadee, Haiti',
                        detail: 'Dragonâ€™s Breath zipline AM â€¢ All Aboard 4:30 PM.'
                    },
                    6: {
                        title: 'Today: Sea Day',
                        detail: 'Pack bags early â€¢ Final dinner and group photo.'
                    }
                };

                const closeBtn = document.getElementById('topBarHintClose');
                if (closeBtn) {
                    closeBtn.addEventListener('click', () => {
                        this.dismissTopBarHint();
                    });
                }

                this.updateTopBarHint(this.currentDay);
            }

            updateTopBarHint(day) {
                const hint = this.dayHints?.[day] || this.dayHints?.all;
                if (!hint) return;

                const titleEl = document.getElementById('topBarHintTitle');
                const detailEl = document.getElementById('topBarHintDetail');

                if (titleEl) titleEl.textContent = hint.title;
                if (detailEl) detailEl.textContent = hint.detail;

                this.showTopBarHint();
            }

            showTopBarHint(force = false) {
                const hintEl = document.getElementById('topBarHint');
                if (!hintEl) return;

                const dismissedKey = this.getHintDismissKey();
                if (!force && dismissedKey) {
                    return;
                }

                hintEl.classList.remove('is-hidden');
                this.updateStickyOffsets();

                if (this.topBarTimeout) {
                    clearTimeout(this.topBarTimeout);
                }

                this.topBarTimeout = setTimeout(() => {
                    this.hideTopBarHint();
                }, 10000);
            }

            hideTopBarHint() {
                const hintEl = document.getElementById('topBarHint');
                if (hintEl) {
                    hintEl.classList.add('is-hidden');
                    this.updateStickyOffsets();
                }
            }

            dismissTopBarHint() {
                try {
                    localStorage.setItem('cruiseHintDismissedDate', this.getTodayKey());
                } catch (e) {
                    console.error('Failed to store hint dismissal', e);
                }
                this.hideTopBarHint();
            }

            getHintDismissKey() {
                try {
                    const dismissed = localStorage.getItem('cruiseHintDismissedDate');
                    return dismissed === this.getTodayKey();
                } catch (e) {
                    return false;
                }
            }

            getTodayKey() {
                return new Date().toISOString().split('T')[0];
            }
            
            buildSearchIndex() {
                // Collect all searchable content from sections
                const sections = [
                    { id: 'quick-start', title: 'Quick Start Guide', keywords: ['quick', 'start', 'checklist', 'critical'], priority: 4, critical: true },
                    { id: 'overview', title: 'Start Here', keywords: ['overview', 'start', 'begin', 'essential'], priority: 2 },
                    { id: 'operations', title: 'Operations Manual', keywords: ['operations', 'manual', 'protocol', 'checklist', 'emergency'], priority: 4, critical: true },
                    { id: 'rooms', title: 'Your Staterooms', keywords: ['rooms', 'staterooms', 'cabins', 'guests', 'accommodation'], priority: 2, critical: true },
                    { id: 'itinerary', title: '7-Day Itinerary', keywords: ['itinerary', 'schedule', 'day', 'port', 'sea day'], priority: 3, critical: true },
                    { id: 'dining', title: 'Dining & Restaurants', keywords: ['dining', 'restaurants', 'food', 'chops', 'izumi', 'giovanni'], priority: 2 },
                    { id: 'communication', title: 'Communication & Budget', keywords: ['communication', 'budget', 'wifi', 'cost', 'expenses'], priority: 2 },
                    { id: 'tips', title: 'Pro Tips', keywords: ['tips', 'advice', 'recommendation', 'hack', 'suggestion'], priority: 1 },
                    { id: 'integrate', title: 'VIP Upgrades', keywords: ['integrate', 'platinum', 'upgrade', 'vip', 'enhance'], priority: 1 }
                ];
                
                // Add content from each section
                sections.forEach(section => {
                    const sectionElement = document.getElementById(section.id);
                    if (sectionElement) {
                        const content = sectionElement.textContent || '';
                            this.searchIndex.push({
                                id: section.id,
                                title: section.title,
                                category: section.title,
                                content: content.substring(0, 1000),
                                keywords: section.keywords,
                                element: sectionElement,
                                priority: section.priority || 1,
                                critical: section.critical || false
                        });
                    }
                });
                
                // Add specific items
                this.addSpecificSearchItems();
            }
            
            addSpecificSearchItems() {
                // Add specific important items to search index
                const specificItems = [
                    { id: 'countdown', title: 'Countdown Timer', category: 'Hero', content: 'Days until cruise departure', keywords: ['countdown', 'timer', 'departure', 'days'], priority: 1 },
                    { id: 'cococay', title: 'Perfect Day at CocoCay', category: 'Itinerary', content: 'Thrill Waterpark, Oasis Lagoon, Daredevils Peak', keywords: ['cococay', 'perfect day', 'waterpark', 'beach'], priority: 3 },
                    { id: 'dunnsriver', title: 'Dunns River Falls', category: 'Itinerary', content: 'Jamaica waterfall climb, water shoes required', keywords: ['dunns', 'river', 'falls', 'jamaica', 'waterfall'], priority: 3 },
                    { id: 'dragonsbreath', title: 'Dragons Breath Zipline', category: 'Itinerary', content: 'Labadee Haiti zipline, longest over water', keywords: ['dragon', 'breath', 'zipline', 'labadee', 'haiti'], priority: 3 },
                    { id: 'flowrider', title: 'FlowRider', category: 'Onboard Activities', content: 'Surf simulator on Adventure of the Seas', keywords: ['flowrider', 'surf', 'simulator', 'activity'], priority: 2 },
                    { id: 'formalnight', title: 'Formal Nights', category: 'Dining & Events', content: 'Two formal nights during the cruise', keywords: ['formal', 'night', 'dress', 'code', 'captain'], priority: 2 },
                    { id: 'emuster', title: 'eMuster Station F6', category: 'Operations Manual', content: 'Safety briefing location on Deck 4', keywords: ['emuster', 'safety', 'drill', 'station', 'f6'], priority: 4, critical: true },
                    { id: 'royalapp', title: 'Royal Caribbean App', category: 'Operations Manual', content: 'Essential app for schedules, chat, and bookings', keywords: ['royal', 'app', 'mobile', 'download', 'chat'], priority: 2 },
                    { id: 'wifi', title: 'Wi-Fi & Connectivity', category: 'Communication & Budget', content: 'VOOM Surf + Stream, Royal-WIFI, internet packages', keywords: ['wifi', 'internet', 'connectivity', 'vroom', 'online'], priority: 2 }
                ];
                
                specificItems.forEach(item => {
                    this.searchIndex.push(item);
                });
            }
            
            performSearch(query) {
                if (!query || this.searchIndex.length === 0 || this.isSearching) return;

                this.isSearching = true;
                const searchResults = document.getElementById('searchResults');

                this.saveSearchHistory(query);
                
                // Show searching indicator
                searchResults.innerHTML = `
                    <div class="no-results">
                        <p>Searching for "${query}"...</p>
                    </div>
                `;
                
                // Simulate search delay for UX
                setTimeout(() => {
                    const normalizedQuery = query.toLowerCase();
                    const results = this.searchIndex.filter(item => {
                        // Search in title, content, and keywords
                        const searchText = (item.title + ' ' + item.content + ' ' + (item.keywords || []).join(' ')).toLowerCase();
                        return searchText.includes(normalizedQuery);
                    });
                    
                    this.displaySearchResults(results, query);
                    this.isSearching = false;
                }, 300);
            }
            
            displaySearchResults(results, query) {
                const searchResults = document.getElementById('searchResults');
                
                if (results.length === 0) {
                    searchResults.innerHTML = `
                        <div class="no-results">
                            <p>No results found for "${query}"</p>
                            <p class="text-sm mt-2">Try different keywords or browse the sections above</p>
                        </div>
                    `;
                    return;
                }
                
                // Sort by priority (critical first), then title matches
                results.sort((a, b) => {
                    const aPriority = a.priority || 1;
                    const bPriority = b.priority || 1;
                    if (aPriority !== bPriority) return bPriority - aPriority;
                    if (a.critical && !b.critical) return -1;
                    if (!a.critical && b.critical) return 1;
                    const aTitleMatch = a.title.toLowerCase().includes(query.toLowerCase());
                    const bTitleMatch = b.title.toLowerCase().includes(query.toLowerCase());
                    if (aTitleMatch && !bTitleMatch) return -1;
                    if (!aTitleMatch && bTitleMatch) return 1;
                    return 0;
                });
                
                const resultsHTML = results.slice(0, 10).map(result => {
                    // Create snippet with highlighted text
                    let snippet = result.content.substring(0, 150);
                    const queryIndex = snippet.toLowerCase().indexOf(query.toLowerCase());
                    if (queryIndex > -1 && queryIndex < 100) {
                        snippet = '...' + snippet.substring(Math.max(0, queryIndex - 30));
                    }
                    snippet = this.highlightText(snippet + '...', query);
                    
                    return `
                        <div class="search-result-item ${result.critical ? 'critical' : ''}" data-result-id="${result.id}">
                            <div class="search-result-link">
                                <div class="search-result-category">
                                    <i class="fas fa-folder-open" aria-hidden="true"></i>
                                    ${result.category || 'Section'}
                                </div>
                                <h4 class="search-result-title">${this.highlightText(result.title, query)}</h4>
                                <p class="search-result-snippet">${snippet}</p>
                                <div class="text-xs text-light mt-2">
                                    <i class="fas fa-map-marker-alt" aria-hidden="true"></i>
                                    ${result.id.replace(/-/g, ' ').toUpperCase()}
                                </div>
                                ${result.critical ? '<div class="search-result-badge"><i class="fas fa-exclamation-circle" aria-hidden="true"></i>Critical</div>' : ''}
                            </div>
                        </div>
                    `;
                }).join('');
                
                searchResults.innerHTML = resultsHTML;
                
                // Add click handlers
                document.querySelectorAll('.search-result-item').forEach(item => {
                    item.addEventListener('click', (e) => {
                        const resultId = item.getAttribute('data-result-id');
                        this.handleSearchResultClick(resultId);
                    });
                });
            }
            
            highlightText(text, query) {
                if (!query) return text;
                
                const regex = new RegExp(`(${this.escapeRegExp(query)})`, 'gi');
                return text.replace(regex, '<span class="search-result-highlight">$1</span>');
            }
            
            escapeRegExp(string) {
                return string.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
            }
            
            clearSearchResults() {
                const searchResults = document.getElementById('searchResults');
                if (searchResults) {
                    searchResults.innerHTML = `
                        <div class="no-results">
                            <p>Type to search for cruise information...</p>
                            <p class="text-sm mt-2">Try: "CocoCay", "dining", "formal night", "wifi"</p>
                        </div>
                    `;
                }
            }
            
            handleSearchResultClick(resultId) {
                // Close search overlay
                this.closeSearch();
                
                const item = this.searchIndex.find(item => item.id === resultId);
                if (item && item.critical) {
                    this.jumpToCriticalChecklist();
                    return;
                }

                // Navigate to section
                if (resultId.includes('-')) {
                    this.navigateToSection(resultId);
                } else {
                    // For specific items, find related section
                    if (item && item.element) {
                        const section = item.element.closest('section[id]');
                        if (section) {
                            this.navigateToSection(section.id);
                        }
                    }
                }
                
                // Highlight the section
                this.highlightSection(resultId);
            }
            
            highlightSection(sectionId) {
                const section = document.getElementById(sectionId);
                if (!section) return;
                
                const card = section.querySelector('.card');
                if (card) {
                    // Add highlight animation
                    card.style.animation = 'none';
                    setTimeout(() => {
                        card.style.animation = 'pulse 2s ease';
                    }, 10);
                    
                    // Scroll into view with offset for header
                    const headerHeight = document.querySelector('.header').offsetHeight;
                    const sectionTop = section.offsetTop - headerHeight - 20;
                    
                    window.scrollTo({
                        top: sectionTop,
                        behavior: 'smooth'
                    });
                }
            }
            
            // ========== ACCORDIONS ==========
            setupAccordions() {
                const toggles = document.querySelectorAll('.card__toggle');
                
                toggles.forEach(toggle => {
                    toggle.addEventListener('click', () => {
                        const isExpanded = toggle.getAttribute('aria-expanded') === 'true';
                        const contentId = toggle.getAttribute('aria-controls');
                        const content = document.getElementById(contentId);
                        
                        if (!content) return;
                        
                        // Toggle state
                        toggle.setAttribute('aria-expanded', !isExpanded);
                        
                        // Toggle content with smooth animation
                        if (isExpanded) {
                            content.style.maxHeight = content.scrollHeight + 'px';
                            setTimeout(() => {
                                content.classList.remove('expanded');
                                content.classList.add('collapsed');
                                content.style.maxHeight = '';
                            }, 10);
                        } else {
                            content.classList.remove('collapsed');
                            content.classList.add('expanded');
                            content.style.maxHeight = content.scrollHeight + 'px';
                            setTimeout(() => {
                                content.style.maxHeight = 'none';
                            }, 300);
                        }
                    });
                    
                    // Open first section by default
                    if (toggle.getAttribute('aria-controls') === 'overviewContent') {
                        toggle.click();
                    }
                });
            }
            
            // ========== COUNTDOWN TIMER ==========
            setupCountdown() {
                // Set cruise date: February 14, 2026, 10:30 AM EST
                const cruiseDate = new Date('2026-02-14T10:30:00-05:00');
                
                const updateCountdown = () => {
                    const now = new Date();
                    const timeLeft = cruiseDate - now;
                    
                    if (timeLeft > 0) {
                        const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
                        const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                        const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
                        
                        // Update display with animation
                        const updateWithAnimation = (element, newValue, label) => {
                            const oldValue = parseInt(element.textContent) || 0;
                            if (oldValue !== newValue) {
                                element.style.transform = 'scale(1.2)';
                                element.style.color = 'var(--accent-light)';
                                setTimeout(() => {
                                    element.textContent = newValue;
                                    element.setAttribute('aria-label', `${newValue} ${label} remaining`);
                                    element.style.transform = 'scale(1)';
                                    element.style.color = '';
                                }, 150);
                            } else {
                                element.textContent = newValue;
                                element.setAttribute('aria-label', `${newValue} ${label} remaining`);
                            }
                        };
                        
                        updateWithAnimation(document.getElementById('days'), days, 'days');
                        updateWithAnimation(document.getElementById('hours'), hours, 'hours');
                        updateWithAnimation(document.getElementById('minutes'), minutes, 'minutes');
                    } else {
                        // Cruise has started or passed
                        document.getElementById('days').textContent = '0';
                        document.getElementById('hours').textContent = '0';
                        document.getElementById('minutes').textContent = '0';
                        document.getElementById('days').setAttribute('aria-label', '0 days remaining');
                        document.getElementById('hours').setAttribute('aria-label', '0 hours remaining');
                        document.getElementById('minutes').setAttribute('aria-label', '0 minutes remaining');
                        
                        // Update message if cruise has started
                        if (timeLeft < -86400000) { // More than 1 day past
                            const heroTitle = document.getElementById('heroTitle');
                            if (heroTitle) {
                                heroTitle.textContent = 'Cruise Memories ðŸš¢';
                            }
                        }
                    }
                };
                
                // Initial update
                updateCountdown();
                
                // Update every minute
                setInterval(updateCountdown, 60000);
            }
            
            // ========== WEATHER WIDGET ==========
            setupWeather() {
                const weatherConditions = [
                    { temp: '84Â°F', condition: 'Sunny', icon: 'â˜€ï¸', description: 'Perfect beach weather' },
                    { temp: '82Â°F', condition: 'Partly Cloudy', icon: 'ðŸŒ¤ï¸', description: 'Ideal for outdoor activities' },
                    { temp: '81Â°F', condition: 'Mostly Sunny', icon: 'â›…', description: 'Warm with light breeze' },
                    { temp: '80Â°F', condition: 'Light Showers', icon: 'ðŸŒ¦ï¸', description: 'Brief rain, mostly sunny' },
                    { temp: '83Â°F', condition: 'Clear Skies', icon: 'âœ¨', description: 'Beautiful stargazing tonight' }
                ];
                
                let currentIndex = 0;
                
                const updateWeather = () => {
                    const weather = weatherConditions[currentIndex];
                    const tempElement = document.getElementById('weatherTemp');
                    const conditionElement = document.getElementById('weatherCondition');
                    const iconElement = document.querySelector('.weather-icon');
                    
                    // Animate weather change
                    if (tempElement && conditionElement && iconElement) {
                        // Fade out
                        tempElement.style.opacity = '0.5';
                        conditionElement.style.opacity = '0.5';
                        iconElement.style.opacity = '0.5';
                        
                        setTimeout(() => {
                            // Update values
                            tempElement.textContent = weather.temp;
                            conditionElement.textContent = weather.condition;
                            iconElement.textContent = weather.icon;
                            iconElement.setAttribute('aria-label', weather.condition);
                            
                            // Update forecast text
                            const forecastElement = document.querySelector('.weather-forecast');
                            if (forecastElement) {
                                forecastElement.innerHTML = `
                                    Typical February weather: 75-82Â°F days, 68Â°F nights. ${weather.description}. Light breeze from the east.
                                `;
                            }
                            
                            // Fade in
                            tempElement.style.opacity = '1';
                            conditionElement.style.opacity = '1';
                            iconElement.style.opacity = '1';
                        }, 200);
                    }
                    
                    currentIndex = (currentIndex + 1) % weatherConditions.length;
                };
                
                // Initial update
                updateWeather();
                
                // Rotate every 15 seconds
                setInterval(updateWeather, 15000);
            }
            
            // ========== DAY NAVIGATION ==========
            setupDayNavigation() {
                const dayBtns = document.querySelectorAll('.day-btn');
                
                dayBtns.forEach(btn => {
                    btn.addEventListener('click', () => {
                        // Update active state
                        dayBtns.forEach(b => b.classList.remove('active'));
                        btn.classList.add('active');
                        
                        this.currentDay = btn.dataset.day;
                        
                        // Filter content by day if needed
                        this.filterByDay(this.currentDay);

                        // Update top bar hint
                        this.updateTopBarHint(this.currentDay);
                    });
                });
            }

            setupDaySelectorVisibility() {
                const daySelector = document.getElementById('daySelector');
                const itinerarySection = document.getElementById('itinerary');
                if (!daySelector || !itinerarySection) return;

                const setVisibility = (isVisible) => {
                    daySelector.classList.toggle('day-selector--hidden', !isVisible);
                    this.updateStickyOffsets();
                };

                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        setVisibility(entry.isIntersecting);
                    });
                }, { threshold: 0.15 });

                observer.observe(itinerarySection);
                this.observers.push(observer);

                setVisibility(this.currentSection === 'itinerary');
            }
            
            filterByDay(day) {
                // This is a simplified version - in a full implementation,
                // you would filter timeline items and other content by day
                const timelineItems = document.querySelectorAll('.timeline-item');
                
                timelineItems.forEach(item => {
                    const dayText = item.querySelector('.timeline-day')?.textContent || '';
                    if (day === 'all' || dayText.includes(`Day ${day}`)) {
                        item.style.display = 'block';
                    } else {
                        item.style.display = 'none';
                    }
                });
            }
            
            // ========== TRAVELER SELECTOR ==========
            setupTravelerSelector() {
                const travelerSelect = document.getElementById('travelerSelect');
                
                if (travelerSelect) {
                    travelerSelect.addEventListener('change', (e) => {
                        this.currentTravelerView = e.target.value;
                        this.filterByTravelerView(this.currentTravelerView);
                    });
                }
            }
            
            filterByTravelerView(view) {
                // This is a simplified version - in a full implementation,
                // you would filter content by traveler view
                const sections = document.querySelectorAll('.section');
                
                sections.forEach(section => {
                    // Show all sections for "all" view
                    if (view === 'all') {
                        section.style.display = '';
                    } else {
                        // In a real implementation, you would filter based on content
                        section.style.display = '';
                    }
                });
            }

            // ========== COMPACT MODE ==========
            setupCompactMode() {
                const compactToggleBtn = document.getElementById('compactToggleBtn');
                try {
                    const storedMode = localStorage.getItem('cruiseCompactMode');
                    if (storedMode === 'true') {
                        document.body.classList.add('compact-mode');
                        if (compactToggleBtn) {
                            compactToggleBtn.classList.add('active');
                            compactToggleBtn.setAttribute('aria-pressed', 'true');
                        }
                    }
                } catch (e) {
                    console.error('Failed to load compact mode preference', e);
                }

                if (compactToggleBtn) {
                    compactToggleBtn.addEventListener('click', () => this.toggleCompactMode());
                }
            }

            toggleCompactMode() {
                const compactToggleBtn = document.getElementById('compactToggleBtn');
                const isActive = document.body.classList.toggle('compact-mode');

                if (compactToggleBtn) {
                    compactToggleBtn.classList.toggle('active', isActive);
                    compactToggleBtn.setAttribute('aria-pressed', String(isActive));
                }

                try {
                    localStorage.setItem('cruiseCompactMode', String(isActive));
                } catch (e) {
                    console.error('Failed to save compact mode preference', e);
                }
            }

            // ========== JUMP TO CRITICAL ==========
            setupJumpToCritical() {
                const jumpBtn = document.getElementById('jumpToCriticalBtn');
                if (jumpBtn) {
                    jumpBtn.addEventListener('click', () => this.jumpToCriticalChecklist());
                }

                this.updateCriticalBadge();
            }

            updateCriticalBadge() {
                const badge = document.getElementById('criticalCountBadge');
                const criticalItems = document.querySelectorAll('.critical-item');
                const count = criticalItems.length;

                if (badge) {
                    badge.textContent = count;
                    badge.style.display = count ? 'inline-flex' : 'none';
                }
            }

            updateCriticalFabVisibility() {
                const jumpBtn = document.getElementById('jumpToCriticalBtn');
                if (!jumpBtn) return;
                const hide = this.currentSection === 'operations';
                jumpBtn.classList.toggle('fab--hidden', hide);
            }

            // ========== CRITICAL INFO FILTER ==========
            setupCriticalFilter() {
                const toggleBtn = document.getElementById('criticalToggleBtn');
                if (!toggleBtn) return;

                let isCriticalOnly = false;
                try {
                    isCriticalOnly = localStorage.getItem('cruiseCriticalOnly') === 'true';
                } catch (e) {
                    console.error('Failed to load critical-only preference', e);
                }

                this.applyCriticalFilter(isCriticalOnly);

                toggleBtn.addEventListener('click', () => {
                    const newState = !document.body.classList.contains('critical-only');
                    this.applyCriticalFilter(newState);
                    try {
                        localStorage.setItem('cruiseCriticalOnly', String(newState));
                    } catch (e) {
                        console.error('Failed to save critical-only preference', e);
                    }
                });
            }

            applyCriticalFilter(isCriticalOnly) {
                const toggleBtn = document.getElementById('criticalToggleBtn');
                const statusText = document.getElementById('criticalToggleStatus');

                document.body.classList.toggle('critical-only', isCriticalOnly);
                if (toggleBtn) {
                    toggleBtn.setAttribute('aria-pressed', String(isCriticalOnly));
                }
                if (statusText) {
                    statusText.textContent = isCriticalOnly ? 'Showing critical sections only' : 'Showing all sections';
                }

                this.updateStickyOffsets();
            }

            jumpToCriticalChecklist() {
                this.navigateToSection('operations');
                this.updateCriticalFabVisibility();
                const operationsToggle = document.querySelector('[aria-controls="operationsContent"]');
                if (operationsToggle && operationsToggle.getAttribute('aria-expanded') === 'false') {
                    operationsToggle.click();
                }

                setTimeout(() => {
                    const checklist = document.getElementById('criticalChecklist');
                    if (checklist) {
                        const offset = this.getStickyOffset();
                        const checklistTop = checklist.getBoundingClientRect().top + window.pageYOffset - offset;
                        window.scrollTo({ top: checklistTop, behavior: 'smooth' });
                        this.highlightCriticalItems();
                    }
                }, 250);
            }

            highlightCriticalItems() {
                const items = document.querySelectorAll('.critical-item');
                items.forEach(item => item.classList.add('critical-highlight'));
                setTimeout(() => {
                    items.forEach(item => item.classList.remove('critical-highlight'));
                }, 2000);
            }
            
            // ========== BOTTOM NAVIGATION ==========
            setupBottomNavigation() {
                const bottomNavItems = document.querySelectorAll('.bottom-nav .nav-item');
                const mobileMoreBtn = document.getElementById('mobileMoreBtn');
                
                bottomNavItems.forEach(item => {
                    item.addEventListener('click', (e) => {
                        e.preventDefault();
                        const section = item.dataset.section;
                        
                        if (section) {
                            this.navigateToSection(section);
                            // Update active state
                            bottomNavItems.forEach(i => i.classList.remove('active'));
                            item.classList.add('active');
                        }
                    });
                });
                
                // Mobile more button
                if (mobileMoreBtn) {
                    mobileMoreBtn.addEventListener('click', () => {
                        this.openSectionDrawer();
                    });
                }
            }

            // ========== TOUCH GESTURES ==========
            setupTouchGestures() {
                document.addEventListener('touchstart', (event) => {
                    if (event.touches.length !== 1) return;
                    const touch = event.touches[0];
                    this.touchStart = {
                        x: touch.clientX,
                        y: touch.clientY,
                        time: Date.now()
                    };
                }, { passive: true });

                document.addEventListener('touchend', (event) => {
                    if (!this.touchStart) return;
                    const touch = event.changedTouches[0];
                    const deltaX = touch.clientX - this.touchStart.x;
                    const deltaY = touch.clientY - this.touchStart.y;
                    const elapsed = Date.now() - this.touchStart.time;

                    // Swipe down from top to reveal hint
                    if (this.touchStart.y < 60 && deltaY > 80) {
                        this.showTopBarHint(true);
                    }

                    // Double tap to toggle compact mode
                    if (elapsed < 250) {
                        const now = Date.now();
                        if (now - this.lastTapTime < 300) {
                            this.toggleCompactMode();
                            this.lastTapTime = 0;
                        } else {
                            this.lastTapTime = now;
                        }
                    }

                    this.touchStart = null;
                }, { passive: true });

                const drawer = document.getElementById('sectionDrawer');
                if (drawer) {
                    drawer.addEventListener('touchstart', (event) => {
                        const touch = event.touches[0];
                        this.drawerSwipeStartX = touch.clientX;
                    }, { passive: true });

                    drawer.addEventListener('touchend', (event) => {
                        const touch = event.changedTouches[0];
                        const deltaX = touch.clientX - (this.drawerSwipeStartX || 0);
                        if (deltaX > 80) {
                            this.closeSectionDrawer();
                        }
                    }, { passive: true });
                }
            }
            
            // ========== EVENT LISTENERS ==========
            setupEventListeners() {
                // Smooth scrolling for anchor links
                document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                    anchor.addEventListener('click', (e) => {
                        const href = anchor.getAttribute('href');
                        if (href === '#' || href === '#!') return;
                        
                        const target = document.querySelector(href);
                        if (target) {
                            e.preventDefault();
                            this.scrollToSection(target.id);
                            
                            // Update active navigation
                            this.updateActiveNav(anchor);
                        }
                    });
                });
                
                // Navigation links
                document.querySelectorAll('.header__nav-link, .sidebar-link, .quick-start__link').forEach(link => {
                    link.addEventListener('click', (e) => {
                        e.preventDefault();
                        const section = link.dataset.section;
                        this.navigateToSection(section);
                    });
                });
                
                // Print button
                const printBtn = document.getElementById('printBtn');
                const printFooterBtn = document.getElementById('printFooterBtn');
                if (printBtn) printBtn.addEventListener('click', () => this.printPage());
                if (printFooterBtn) printFooterBtn.addEventListener('click', () => this.printPage());
                
                // Offline button
                const offlineBtn = document.getElementById('offlineBtn');
                const saveOfflineBtn = document.getElementById('saveOfflineFooterBtn');
                if (offlineBtn) offlineBtn.addEventListener('click', () => this.saveOffline());
                if (saveOfflineBtn) saveOfflineBtn.addEventListener('click', () => this.saveOffline());
                
                // Share button
                const shareBtn = document.getElementById('shareBtn');
                const shareFooterBtn = document.getElementById('shareFooterBtn');
                if (shareBtn) shareBtn.addEventListener('click', () => this.sharePage());
                if (shareFooterBtn) shareFooterBtn.addEventListener('click', () => this.sharePage());
                
                // Social buttons
                const whatsappBtn = document.getElementById('whatsappBtn');
                const photoBtn = document.getElementById('photoBtn');
                if (whatsappBtn) whatsappBtn.addEventListener('click', () => this.showToast('WhatsApp group: RaheCruise2026', 3000));
                if (photoBtn) photoBtn.addEventListener('click', () => this.showToast('Photo album coming soon! ðŸ“¸', 3000));
                
                // Toast close button
                const toastClose = document.getElementById('toastClose');
                if (toastClose) {
                    toastClose.addEventListener('click', () => this.hideToast());
                }
                
                // Auto-hide toast on click
                const toast = document.getElementById('toast');
                if (toast) {
                    toast.addEventListener('click', (e) => {
                        if (e.target === toast || e.target.closest('.toast__close')) {
                            this.hideToast();
                        }
                    });
                }
                
                // Window resize handling
                let resizeTimeout;
                window.addEventListener('resize', () => {
                    clearTimeout(resizeTimeout);
                    resizeTimeout = setTimeout(() => this.handleResize(), 250);
                });
                
                // Online/offline detection
                window.addEventListener('online', () => this.handleOnline());
                window.addEventListener('offline', () => this.handleOffline());
                
                // Beforeunload for cleanup
                window.addEventListener('beforeunload', () => this.cleanup());
                
                // Keyboard shortcuts
                document.addEventListener('keydown', (e) => {
                    // Ctrl/Cmd + F for search
                    if ((e.ctrlKey || e.metaKey) && e.key === 'f') {
                        e.preventDefault();
                        const searchBtn = document.getElementById('searchBtn');
                        if (searchBtn) searchBtn.click();
                    }
                    
                    // Escape to close modals
                    if (e.key === 'Escape') {
                        this.closeAllModals();
                    }
                });
                
                // Click outside to close modals
                document.addEventListener('click', (e) => {
                    if (this.drawerOpen) {
                        const drawer = document.getElementById('sectionDrawer');
                        const mobileToggle = document.getElementById('mobileMenuBtn');
                        if (drawer && mobileToggle &&
                            !drawer.contains(e.target) &&
                            !mobileToggle.contains(e.target)) {
                            this.closeSectionDrawer();
                        }
                    }
                });
            }
            
            navigateToSection(sectionId) {
                const section = document.getElementById(sectionId);
                if (!section) return;
                
                // Update current section
                this.currentSection = sectionId;
                
                // Scroll to section
                this.scrollToSection(sectionId);
                
                // Update active nav
                this.updateActiveNavForSection(sectionId);
                
                // Close mobile menu if open
                const mobileToggle = document.getElementById('mobileMenuBtn');
                if (mobileToggle && mobileToggle.getAttribute('aria-expanded') === 'true') {
                    mobileToggle.click();
                }
            }
            
            scrollToSection(sectionId) {
                const section = document.getElementById(sectionId);
                if (!section) return;
                
                const sectionTop = section.offsetTop - this.getStickyOffset();
                
                window.scrollTo({
                    top: sectionTop,
                    behavior: 'smooth'
                });
            }
            
            updateActiveNavForSection(sectionId) {
                // Update header navigation
                document.querySelectorAll('.header__nav-link').forEach(link => {
                    link.classList.toggle('active', link.dataset.section === sectionId);
                });
                
                // Update sidebar navigation
                document.querySelectorAll('.sidebar-link').forEach(link => {
                    link.classList.toggle('active', link.dataset.section === sectionId);
                });
                
                // Update bottom navigation
                document.querySelectorAll('.bottom-nav .nav-item').forEach(item => {
                    item.classList.toggle('active', item.dataset.section === sectionId);
                });

                // Update drawer navigation
                document.querySelectorAll('.drawer-nav-item').forEach(item => {
                    item.classList.toggle('active', item.dataset.section === sectionId);
                });

                this.updateCriticalFabVisibility();
            }
            
            closeAllModals() {
                // Close search overlay
                const searchOverlay = document.getElementById('searchOverlay');
                if (searchOverlay && searchOverlay.classList.contains('active')) {
                    this.closeSearch();
                }
                
                // Close section drawer
                if (this.drawerOpen) {
                    this.closeSectionDrawer();
                }
                
                // Hide toast
                this.hideToast();
            }
            
            // ========== PRINT FUNCTIONALITY ==========
            setupPrint() {
                if (window.matchMedia) {
                    const mediaQuery = window.matchMedia('print');
                    mediaQuery.addEventListener('change', (mq) => {
                        if (mq.matches) {
                            this.beforePrint();
                        } else {
                            this.afterPrint();
                        }
                    });
                }
            }
            
            beforePrint() {
                // Store scroll position
                this.prePrintScroll = window.pageYOffset;
                
                // Expand all accordions for printing
                document.querySelectorAll('.card__toggle[aria-expanded="false"]').forEach(toggle => {
                    toggle.click();
                });
                
                this.showToast('Preparing for printing...', 1000);
            }
            
            afterPrint() {
                // Restore scroll position
                if (this.prePrintScroll !== undefined) {
                    window.scrollTo(0, this.prePrintScroll);
                    delete this.prePrintScroll;
                }
                
                this.showToast('Print complete!', 2000);
            }
            
            printPage() {
                this.showToast('Opening print dialog...', 1000);
                setTimeout(() => window.print(), 100);
            }
            
            // ========== OFFLINE FUNCTIONALITY ==========
            setupOffline() {
                // Check if service worker is supported
                if ('serviceWorker' in navigator) {
                    // In a real app, you would register a service worker here
                    // For this demo, we'll simulate offline functionality
                    console.log('Service Worker support detected');
                }
                
                // Check initial connectivity
                if (!navigator.onLine) {
                    this.handleOffline();
                }
            }
            
            saveOffline() {
                this.showToast('ðŸ’¾ Saving for offline access...', 2000);
                
                // In a real app, this would save data to IndexedDB or use a service worker
                // For this demo, we'll simulate the process
                setTimeout(() => {
                    this.showToast('âœ… Cruise hub saved for offline access!', 3000);
                    
                    // Update button text
                    const offlineBtn = document.getElementById('offlineBtn');
                    const saveOfflineBtn = document.getElementById('saveOfflineFooterBtn');
                    if (offlineBtn) offlineBtn.innerHTML = '<i class="fas fa-check" aria-hidden="true"></i> Saved Offline';
                    if (saveOfflineBtn) saveOfflineBtn.innerHTML = '<i class="fas fa-check" aria-hidden="true"></i> Already Saved Offline';
                    
                    // Store in localStorage
                    try {
                        localStorage.setItem('cruiseHubLastSaved', new Date().toISOString());
                        localStorage.setItem('cruiseHubOffline', 'true');
                    } catch (e) {
                        console.error('Failed to save offline status:', e);
                    }
                }, 1500);
            }
            
            // ========== INTERSECTION OBSERVER ==========
            setupIntersectionObserver() {
                const sections = document.querySelectorAll('section[id]');
                const navLinks = document.querySelectorAll('.header__nav-link');
                
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            const sectionId = entry.target.id;
                            this.currentSection = sectionId;
                            
                            // Update navigation
                            navLinks.forEach(link => {
                                const linkSection = link.dataset.section;
                                if (linkSection === sectionId) {
                                    link.classList.add('active');
                                } else {
                                    link.classList.remove('active');
                                }
                            });

                            this.updateActiveNavForSection(sectionId);
                            
                            // Update URL hash without scrolling
                            history.replaceState(null, null, `#${sectionId}`);
                        }
                    });
                }, {
                    root: null,
                    rootMargin: '-100px 0px -50% 0px',
                    threshold: 0.1
                });
                
                sections.forEach(section => observer.observe(section));
                this.observers.push(observer);
            }
            
            // ========== UTILITY METHODS ==========
            updateStickyOffsets() {
                const header = document.querySelector('.header');
                const daySelector = document.querySelector('.day-selector');
                const topBar = document.getElementById('topBarHint');
                const headerHeight = header ? header.offsetHeight : 0;
                const topBarHeight = topBar && !topBar.classList.contains('is-hidden') ? topBar.offsetHeight : 0;
                const daySelectorOffset = headerHeight + topBarHeight;

                document.documentElement.style.setProperty('--header-height', `${headerHeight}px`);
                document.documentElement.style.setProperty('--day-selector-offset', `${daySelectorOffset}px`);

                const daySelectorHeight = daySelector && !daySelector.classList.contains('day-selector--hidden')
                    ? daySelector.offsetHeight
                    : 0;
                const scrollPadding = headerHeight + topBarHeight + daySelectorHeight + 20;
                document.documentElement.style.setProperty('--scroll-padding', `${scrollPadding}px`);
            }

            getStickyOffset() {
                const header = document.querySelector('.header');
                const daySelector = document.querySelector('.day-selector');
                const topBar = document.getElementById('topBarHint');
                const headerHeight = header ? header.offsetHeight : 0;
                const topBarHeight = topBar && !topBar.classList.contains('is-hidden') ? topBar.offsetHeight : 0;
                const daySelectorHeight = daySelector && !daySelector.classList.contains('day-selector--hidden')
                    ? daySelector.offsetHeight
                    : 0;
                return headerHeight + topBarHeight + daySelectorHeight + 20;
            }

            updateActiveNav(clickedLink) {
                document.querySelectorAll('.header__nav-link').forEach(link => {
                    link.classList.remove('active');
                });
                clickedLink.classList.add('active');
            }
            
            showToast(message, duration = 3000) {
                const toast = document.getElementById('toast');
                const toastMessage = document.getElementById('toastMessage');
                
                if (!toast || !toastMessage) return;
                
                // Clear any existing timeout
                if (this.toastTimeout) {
                    clearTimeout(this.toastTimeout);
                }
                
                toastMessage.textContent = message;
                toast.classList.add('show');
                
                // Auto-hide
                this.toastTimeout = setTimeout(() => {
                    this.hideToast();
                }, duration);
            }
            
            hideToast() {
                const toast = document.getElementById('toast');
                if (toast) {
                    toast.classList.remove('show');
                }
            }
            
            sharePage() {
                if (navigator.share) {
                    navigator.share({
                        title: 'Cruise Companion Hub - Adventure of the Seas',
                        text: 'Check out our cruise itinerary for the Rahe Family & Friends Adventure!',
                        url: window.location.href
                    }).then(() => {
                        this.showToast('Thanks for sharing! ðŸš¢', 2000);
                    }).catch(err => {
                        console.log('Share failed:', err);
                        this.showToast('Share feature not available', 2000);
                    });
                } else {
                    // Fallback: copy to clipboard
                    navigator.clipboard.writeText(window.location.href).then(() => {
                        this.showToast('ðŸ“‹ Link copied to clipboard!', 2000);
                    }).catch(err => {
                        console.log('Copy failed:', err);
                        this.showToast('Share feature not supported', 2000);
                    });
                }
            }
            
            loadPreferences() {
                try {
                    const saved = localStorage.getItem('cruiseCompanionPreferences');
                    if (saved) {
                        this.userPreferences = JSON.parse(saved);
                        
                        // Apply preferences
                        this.applyPreferences();
                    }
                } catch (e) {
                    console.error('Failed to load preferences:', e);
                }
            }
            
            applyPreferences() {
                // Apply any saved user preferences
                if (this.userPreferences.theme === 'dark') {
                    document.body.classList.add('dark-theme');
                }
                
                // Restore accordion states if saved
                if (this.userPreferences.accordionStates) {
                    Object.entries(this.userPreferences.accordionStates).forEach(([sectionId, isExpanded]) => {
                        const toggle = document.querySelector(`[aria-controls="${sectionId}Content"]`);
                        if (toggle && toggle.getAttribute('aria-expanded') !== String(isExpanded)) {
                            toggle.click();
                        }
                    });
                }
            }
            
            savePreferences() {
                try {
                    // Save accordion states
                    const accordionStates = {};
                    document.querySelectorAll('.card__toggle').forEach(toggle => {
                        const contentId = toggle.getAttribute('aria-controls');
                        const isExpanded = toggle.getAttribute('aria-expanded') === 'true';
                        accordionStates[contentId] = isExpanded;
                    });
                    
                    this.userPreferences.accordionStates = accordionStates;
                    localStorage.setItem('cruiseCompanionPreferences', JSON.stringify(this.userPreferences));
                } catch (e) {
                    console.error('Failed to save preferences:', e);
                }
            }
            
            handleResize() {
                // Handle responsive adjustments
                const isMobile = window.innerWidth <= 768;
                
                if (isMobile) {
                    // Mobile-specific adjustments
                    document.body.classList.add('mobile-view');
                } else {
                    document.body.classList.remove('mobile-view');
                    this.closeSectionDrawer();
                }

                this.updateStickyOffsets();
            }
            
            handleOnline() {
                this.showToast('Back online! Syncing updates...', 2000);
            }
            
            handleOffline() {
                this.showToast('You are offline. Some features may be limited.', 3000);
            }
            
            cleanup() {
                // Clean up observers
                this.observers.forEach(observer => observer.disconnect());
                
                // Save preferences
                this.savePreferences();
            }
        }
        
        // Initialize the application when DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            window.cruiseApp = new CruiseCompanion();
            
            // Add error handling
            window.addEventListener('error', (event) => {
                console.error('Application error:', event.error);
                if (window.cruiseApp) {
                    window.cruiseApp.showToast('An error occurred. Please refresh the page.');
                }
            });
            
            window.addEventListener('unhandledrejection', (event) => {
                console.error('Unhandled promise rejection:', event.reason);
            });
        });
        
        // Service Worker Registration (simplified)
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                // In a real implementation, you would register a service worker
                console.log('Service Worker support available');
            });
        }
    </script>


</body></html>
