<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#0079d4">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <link rel="manifest" href="manifest.json?v=2">
    <link rel="apple-touch-icon" href="icons/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="192x192" href="icons/icon-192.png">
  <link rel="icon" type="image/svg+xml" href="icons/icon-192.svg">
    <title>Royal Caribbean Itinerary | Adventure of the Seas</title>
    <meta name="description" content="Your complete 7-day Western Caribbean cruise itinerary with daily schedules, port information, and onboard activities.">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700;800;900&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/base.css">
  <link rel="stylesheet" href="css/utilities.css">
  <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/feature-modules.css">
    <script src="js/shared-layout.js?v=6" defer></script>
    
    <style>
        /* Enhanced Hero Section */
        .hero--itinerary {
            background: var(--ocean-gradient);
            padding: 80px 0 60px;
            position: relative;
            overflow: hidden;
            margin-bottom: 40px;
        }

        .hero--itinerary::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(255, 255, 255, 0.15) 0%, transparent 40%),
                radial-gradient(circle at 90% 80%, rgba(255, 255, 255, 0.1) 0%, transparent 40%);
        }

        .hero__badge {
            display: inline-block;
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            color: white;
            padding: 8px 20px;
            border-radius: 50px;
            font-weight: 600;
            font-size: 0.9rem;
            letter-spacing: 0.5px;
            margin-bottom: 20px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            animation: fadeInUp 0.6s ease;
        }

        .hero__title {
            font-size: 3rem;
            font-weight: 800;
            color: white;
            margin-bottom: 16px;
            line-height: 1.2;
            animation: fadeInUp 0.6s ease 0.1s both;
        }

        .hero__description {
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.9);
            max-width: 600px;
            margin-bottom: 32px;
            animation: fadeInUp 0.6s ease 0.2s both;
        }

        .hero__actions {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
            animation: fadeInUp 0.6s ease 0.3s both;
        }

        .btn--accent {
            background: var(--gold-gradient);
            color: var(--royal-navy);
            box-shadow: var(--shadow-medium);
        }

        .btn--accent:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-floating);
        }

        .btn--icon i {
            font-size: 1.1rem;
        }

        /* Stats Overview */
        .stats-overview {
            margin-bottom: 48px;
        }

        .stats-grid {
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
            margin-bottom: 32px;
        }

        .stat-card {
            padding: 28px 24px;
            text-align: center;
            transition: var(--transition-bounce);
            position: relative;
            overflow: hidden;
        }

        .stat-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-floating);
            border-color: var(--royal-sky);
        }

        .stat-card::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--royal-blue), var(--royal-sky));
        }

        .stat-card__value {
            font-size: 3.5rem;
            font-weight: 800;
            color: var(--royal-blue);
            line-height: 1;
            margin-bottom: 8px;
            font-family: 'Montserrat', sans-serif;
        }

        .stat-card__label {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--royal-navy);
            margin-bottom: 4px;
        }

        .stat-card__subtitle {
            font-size: 0.9rem;
            color: var(--royal-ink);
            opacity: 0.7;
        }

        /* Day Navigation */
        .day-navigation {
            margin-bottom: 40px;
        }

        .day-navigation__header {
            text-align: center;
            margin-bottom: 28px;
        }

        .day-navigation__title {
            font-size: 2.2rem;
            margin-bottom: 8px;
            color: var(--royal-navy);
        }

        .day-navigation__description {
            color: var(--royal-ink);
            opacity: 0.8;
            font-size: 1.1rem;
        }

        .day-navigation__tools {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 12px;
        }

        .day-selector {
            display: flex;
            background: white;
            padding: 16px;
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-light);
            border: 1px solid var(--royal-border);
            gap: 8px;
            overflow-x: auto;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }

        .day-selector::-webkit-scrollbar {
            display: none;
        }

        .day-btn {
            flex: 0 0 auto;
            padding: 12px 20px;
            border-radius: var(--radius-lg);
            border: 2px solid transparent;
            background: var(--royal-foam);
            color: var(--royal-navy);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition-smooth);
            display: flex;
            align-items: center;
            gap: 8px;
            white-space: nowrap;
        }

        .day-btn:hover {
            background: #d9ebfb;
            transform: translateY(-2px);
        }

        .day-btn--active {
            background: linear-gradient(135deg, var(--royal-blue), var(--royal-sky));
            color: white;
            border-color: var(--royal-sky);
            box-shadow: var(--shadow-medium);
        }

        /* Summary Cards */
        .summary-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 24px;
            margin-bottom: 48px;
        }

        .summary-card {
            background: white;
            border-radius: var(--radius-xl);
            padding: 32px;
            box-shadow: var(--shadow-light);
            border: 1px solid var(--royal-border);
            transition: var(--transition-smooth);
        }

        .summary-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-medium);
        }

        .summary-card__icon {
            width: 64px;
            height: 64px;
            background: linear-gradient(135deg, var(--royal-blue), var(--royal-sky));
            border-radius: var(--radius-lg);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
            color: white;
            font-size: 28px;
        }

        .summary-card__title {
            font-size: 1.5rem;
            margin-bottom: 16px;
            color: var(--royal-navy);
        }

        .summary-card__content {
            color: var(--royal-ink);
        }

        .port-item {
            padding: 12px 0;
            border-bottom: 1px solid var(--royal-border);
        }

        .port-item:last-child {
            border-bottom: none;
        }

        .port-item__header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 4px;
        }

        .port-item__details {
            font-size: 0.9rem;
            color: var(--royal-ink);
            opacity: 0.8;
            padding-left: 24px;
        }

        /* Weather Widget */
        .weather-widget {
            display: flex;
            align-items: center;
            gap: 12px;
            background: var(--royal-foam);
            padding: 14px 18px;
            border-radius: var(--radius-lg);
            margin-top: 16px;
            border: 1px solid var(--royal-border);
        }

        .weather-widget i {
            color: #ff9a3c;
            font-size: 1.8rem;
        }

        /* List Styles */
        .list--checkmarks {
            list-style: none;
            padding: 0;
        }

        .list--checkmarks li {
            position: relative;
            padding-left: 28px;
            margin-bottom: 10px;
            color: var(--royal-ink);
        }

        .list--checkmarks li::before {
            content: "✓";
            position: absolute;
            left: 0;
            color: var(--royal-sky);
            font-weight: bold;
        }

        /* Day Completion */
        .day-completion {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-top: 24px;
            padding-top: 20px;
            border-top: 1px solid var(--royal-border);
        }

        .completion-checkbox {
            width: 28px;
            height: 28px;
            border-radius: var(--radius-sm);
            border: 2px solid var(--royal-blue);
            background: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition-smooth);
        }

        .completion-checkbox.checked {
            background: var(--royal-blue);
            color: white;
        }

        /* Itinerary Days */
        .itinerary-days {
            margin-bottom: 60px;
        }

        .itinerary-day {
            background: white;
            border-radius: var(--radius-xl);
            padding: 32px;
            margin-bottom: 24px;
            box-shadow: var(--shadow-light);
            border: 1px solid var(--royal-border);
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .itinerary-day--visible {
            opacity: 1;
            transform: translateY(0);
        }

        .itinerary-day__header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 32px;
            flex-wrap: wrap;
            gap: 16px;
        }

        .itinerary-day__title {
            font-size: 1.8rem;
            color: var(--royal-navy);
            margin-bottom: 12px;
        }

        .itinerary-day__badges {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .badge {
            display: inline-block;
            padding: 6px 14px;
            border-radius: 50px;
            font-size: 0.85rem;
            font-weight: 600;
            letter-spacing: 0.3px;
        }

        .badge--primary {
            background: var(--royal-foam);
            color: var(--royal-blue);
        }

        .badge--accent {
            background: var(--gold-gradient);
            color: var(--royal-navy);
        }

        .badge--info {
            background: linear-gradient(135deg, #e3f2fd, #bbdefb);
            color: var(--royal-blue);
        }

        .badge--warning {
            background: #fff3cd;
            color: #856404;
        }

        .itinerary-day__tags {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .tag {
            padding: 8px 16px;
            border-radius: var(--radius-sm);
            font-size: 0.9rem;
            font-weight: 500;
        }

        .tag--critical {
            background: #ffebee;
            color: #c62828;
            border: 1px solid #ffcdd2;
        }

        .tag--info {
            background: var(--royal-foam);
            color: var(--royal-blue);
            border: 1px solid #bbdefb;
        }

        .tag--success {
            background: #e8f5e9;
            color: #2e7d32;
            border: 1px solid #c8e6c9;
        }

        /* Timeline */
        .timeline-section {
            margin-bottom: 32px;
        }

        .timeline-section__title {
            font-size: 1.3rem;
            color: var(--royal-navy);
            margin-bottom: 20px;
            padding-left: 12px;
            border-left: 4px solid var(--royal-sky);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .timeline {
            position: relative;
            padding-left: 24px;
        }

        .timeline::before {
            content: "";
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 2px;
            background: linear-gradient(to bottom, var(--royal-sky), #84d8ff);
        }

        .timeline-item {
            position: relative;
            margin-bottom: 20px;
            padding: 20px;
            background: var(--royal-foam);
            border-radius: var(--radius-lg);
            border-left: 4px solid transparent;
            transition: var(--transition-smooth);
        }

        .timeline-item:hover {
            transform: translateX(4px);
            background: white;
            box-shadow: var(--shadow-light);
        }

        .timeline-item--critical {
            border-left-color: #ff6b6b;
            background: #fff5f5;
        }

        .timeline-item::before {
            content: "";
            position: absolute;
            left: -28px;
            top: 24px;
            width: 12px;
            height: 12px;
            background: white;
            border: 3px solid var(--royal-sky);
            border-radius: 50%;
            z-index: 2;
        }

        .timeline-item--critical::before {
            border-color: #ff6b6b;
        }

        .timeline__time {
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
            color: var(--royal-blue);
            margin-bottom: 8px;
            font-size: 0.95rem;
        }

        .timeline__title {
            font-size: 1.1rem;
            color: var(--royal-navy);
            margin-bottom: 8px;
        }

        .timeline__description {
            color: var(--royal-ink);
            opacity: 0.9;
            margin-bottom: 12px;
        }

        .timeline__meta {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        /* Alert & Card Styles */
        .alert {
            padding: 16px 20px;
            border-radius: var(--radius-lg);
            margin-bottom: 20px;
            border-left: 4px solid;
        }

        .alert--info {
            background: #e3f2fd;
            border-color: var(--royal-blue);
            color: var(--royal-navy);
        }

        .alert--warning {
            background: #fff3cd;
            border-color: #ffb400;
            color: #856404;
        }

        .alert--critical {
            background: #ffebee;
            border-color: #f44336;
            color: #c62828;
        }

        .info-card {
            background: var(--royal-foam);
            border-radius: var(--radius-lg);
            padding: 24px;
            margin-top: 24px;
            border: 1px solid var(--royal-border);
        }

        .info-card__title {
            font-size: 1.2rem;
            color: var(--royal-navy);
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* Tips Section */
        .tips-section {
            background: white;
            border-radius: var(--radius-xl);
            padding: 40px;
            margin-bottom: 48px;
            box-shadow: var(--shadow-light);
            border: 1px solid var(--royal-border);
        }

        .tips-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 24px;
            margin-top: 24px;
        }

        .tip-item {
            display: flex;
            gap: 16px;
            align-items: flex-start;
        }

        .tip-icon {
            width: 48px;
            height: 48px;
            background: var(--royal-foam);
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--royal-blue);
            font-size: 1.3rem;
            flex-shrink: 0;
        }

        .tip-content h4 {
            font-size: 1.1rem;
            margin-bottom: 6px;
            color: var(--royal-navy);
        }

        .tip-content p {
            font-size: 0.95rem;
            color: var(--royal-ink);
            opacity: 0.8;
        }

        /* Action Buttons */
        .action-buttons {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
            justify-content: center;
            margin-top: 48px;
        }

        .hero__status {
            margin: 14px 0 0;
            color: rgba(255, 255, 255, 0.92);
            font-weight: 600;
            min-height: 1.2em;
        }

        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes ripple {
            to {
                transform: scale(4);
                opacity: 0;
            }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .hero__title {
                font-size: 2.2rem;
            }
            
            .hero__description {
                font-size: 1.1rem;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .stat-card__value {
                font-size: 2.8rem;
            }
            
            .summary-cards {
                grid-template-columns: 1fr;
            }
            
            .itinerary-day__header {
                flex-direction: column;
            }
            
            .itinerary-day__tags {
                justify-content: flex-start;
            }
            
            .action-buttons {
                flex-direction: column;
            }
            
        }

        @media (max-width: 480px) {
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .hero__actions {
                flex-direction: column;
            }
            
            .btn {
                width: 100%;
                justify-content: center;
            }
            
            .tips-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
    <link rel="stylesheet" href="css/mobile-first.css">
</head>
<body class="itinerary-page">
    <!-- Header Placeholder -->
    <div id="sharedHeader" data-page="itinerary"></div>

    <!-- Hero Section -->
    <section class="hero hero--itinerary">
        <div class="container">
            <div class="hero__content">
                <span class="hero__badge">7-Day Western Caribbean</span>
                <h1 class="hero__title">Daily Itinerary</h1>
                <p class="hero__description">
                    Your complete 7-day plan for port schedules, onboard highlights, and daily logistics.
                </p>
                <div class="page-spine" aria-label="Itinerary briefing">
                    <div class="page-spine__item">
                        <span class="page-spine__label">Port windows</span>
                        <span class="page-spine__meta">Arrival, departure, and all-aboard timing</span>
                    </div>
                    <div class="page-spine__item">
                        <span class="page-spine__label">Sea-day flow</span>
                        <span class="page-spine__meta">Dining, shows, and activity sequencing</span>
                    </div>
                    <div class="page-spine__item">
                        <span class="page-spine__label">Daily logistics</span>
                        <span class="page-spine__meta">What to confirm before each next step</span>
                    </div>
                </div>
                <div class="hero__actions">
                    <button class="btn btn--primary btn--icon" id="printItineraryBtn">
                        <i class="fas fa-print"></i> Print Itinerary
                    </button>
                    <button class="btn btn--secondary btn--icon" id="shareItineraryBtn">
                        <i class="fas fa-share-alt"></i> Share
                    </button>
                    <button class="btn btn--accent btn--icon" id="toggleViewBtn">
                        <i class="fas fa-columns"></i> Compact View
                    </button>
                </div>
                <p id="itineraryStatus" class="hero__status" aria-live="polite"></p>
            </div>
        </div>
    </section>

    <!-- Main Content -->
    <main class="main">
        <div class="container">
            <!-- Stats Overview -->
            <section class="stats-overview">
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-card__value">7</div>
                        <div class="stat-card__label">Total Days</div>
                        <div class="stat-card__subtitle">Feb 14–20, 2026</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card__value">3</div>
                        <div class="stat-card__label">Port Days</div>
                        <div class="stat-card__subtitle">Grand Cayman, Jamaica, CocoCay</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card__value">3</div>
                        <div class="stat-card__label">Sea Days</div>
                        <div class="stat-card__subtitle">Relax & onboard activities</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card__value">2</div>
                        <div class="stat-card__label">Formal Nights</div>
                        <div class="stat-card__subtitle">Day 2 & 5</div>
                    </div>
                </div>
            </section>

            <section class="deck-grid container" aria-label="RCCL confirmation status">
                <div class="deck-grid__header">
                    <div>
                        <h2 class="deck-grid__title">RCCL Confirmation Status</h2>
                        <p class="deck-grid__subtitle">Use this as a baseline, then confirm final operational details in your booking documents.</p>
                    </div>
                </div>
                <div class="deck-cards" role="list">
                    <article class="deck-card" role="listitem">
                        <div class="deck-info">
                            <div class="deck-info__heading">
                                <h3>Confirmed baseline details</h3>
                            </div>
                            <div class="deck-highlights">
                                <span>Adventure of the Seas · Feb 14–20, 2026</span>
                                <span>Port Canaveral departure day: Saturday, Feb 14</span>
                                <span>Typical departure pattern: 4:00 PM</span>
                                <span>Typical return pattern: 7:00 AM</span>
                            </div>
                        </div>
                    </article>
                    <article class="deck-card" role="listitem">
                        <div class="deck-info">
                            <div class="deck-info__heading">
                                <h3>Verify before travel day</h3>
                            </div>
                            <div class="deck-highlights">
                                <span>Exact terminal assignment (T1/T5/T6 varies)</span>
                                <span>Any final port-order/time adjustments</span>
                                <span>Latest all-aboard and excursion check-in windows</span>
                            </div>
                        </div>
                    </article>
                </div>
            </section>

            <section class="deck-grid container" aria-label="Today at a glance">
                <div class="deck-grid__header">
                    <div>
                        <h2 class="deck-grid__title">Today At a Glance</h2>
                        <p class="deck-grid__subtitle">Critical details for the currently selected day.</p>
                    </div>
                </div>
                <div class="deck-cards" role="list">
                    <article class="deck-card" role="listitem">
                        <div class="deck-info">
                            <div class="deck-info__heading">
                                <h3>Next key event</h3>
                            </div>
                            <div class="deck-highlights">
                                <span id="glanceNextEvent">--</span>
                            </div>
                        </div>
                    </article>
                    <article class="deck-card" role="listitem">
                        <div class="deck-info">
                            <div class="deck-info__heading">
                                <h3>All-aboard timing</h3>
                            </div>
                            <div class="deck-highlights">
                                <span id="glanceAllAboard">--</span>
                            </div>
                        </div>
                    </article>
                    <article class="deck-card" role="listitem">
                        <div class="deck-info">
                            <div class="deck-info__heading">
                                <h3>Required docs/items</h3>
                            </div>
                            <div class="deck-highlights">
                                <span id="glanceRequired">--</span>
                            </div>
                        </div>
                    </article>
                </div>
            </section>

            <!-- Day Navigation -->
            <section class="day-navigation">
                <div class="day-navigation__header">
                    <h2 class="day-navigation__title">Complete 7-Day Itinerary</h2>
                    <p class="day-navigation__description">Select a day to view detailed schedules, activities, and logistics.</p>
                    <div class="day-navigation__tools">
                        <button class="btn btn--secondary btn--icon" type="button" data-modal-open="itineraryLegendModal">
                            <i class="fas fa-circle-info"></i> View Tag Legend
                        </button>
                    </div>
                </div>
                <div class="day-selector" id="daySelector">
                    <button class="day-btn day-btn--active" data-day="today">
                        <i class="fas fa-calendar-day"></i> Today
                    </button>
                    <button class="day-btn" data-day="1">
                        <i class="fas fa-ship"></i> Day 1
                    </button>
                    <button class="day-btn" data-day="2">
                        <i class="fas fa-water"></i> Day 2
                    </button>
                    <button class="day-btn" data-day="3">
                        <i class="fas fa-umbrella-beach"></i> Day 3
                    </button>
                    <button class="day-btn" data-day="4">
                        <i class="fas fa-mountain"></i> Day 4
                    </button>
                    <button class="day-btn" data-day="5">
                        <i class="fas fa-utensils"></i> Day 5
                    </button>
                    <button class="day-btn" data-day="6">
                        <i class="fas fa-swimming-pool"></i> Day 6
                    </button>
                    <button class="day-btn" data-day="7">
                        <i class="fas fa-suitcase-rolling"></i> Day 7
                    </button>
                </div>
            </section>

            <!-- Summary Cards -->
            <section class="summary-section">
                <div class="summary-cards">
                    <div class="summary-card">
                        <div class="summary-card__icon">
                            <i class="fas fa-anchor"></i>
                        </div>
                        <h3 class="summary-card__title">Cruise Overview</h3>
                        <div class="summary-card__content">
                            <p><strong>7-Day Western Caribbean</strong></p>
                            <p>Adventure of the Seas</p>
                            <p>Depart: Port Canaveral</p>
                            <div class="weather-widget">
                                <i class="fas fa-sun"></i>
                                <div>
                                    <div style="font-weight: 600;">Mostly Sunny</div>
                                    <div style="font-size: 0.9rem;">Avg: 82°F | Seas: Calm</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="summary-card">
                        <div class="summary-card__icon">
                            <i class="fas fa-map-marked-alt"></i>
                        </div>
                        <h3 class="summary-card__title">Ports of Call</h3>
                        <div class="summary-card__content">
                            <div class="port-item">
                                <div class="port-item__header">
                                    <i class="fas fa-ship" style="color: #4ecdc4;"></i>
                                    <span><strong>George Town, Grand Cayman</strong></span>
                                </div>
                                <div class="port-item__details">Day 3 • 11:00 AM | Tender Required</div>
                            </div>
                            <div class="port-item">
                                <div class="port-item__header">
                                    <i class="fas fa-mountain" style="color: #ff9a3c;"></i>
                                    <span><strong>Falmouth, Jamaica</strong></span>
                                </div>
                                <div class="port-item__details">Day 4 • 8:30 AM | Walk-off Access</div>
                            </div>
                            <div class="port-item">
                                <div class="port-item__header">
                                    <i class="fas fa-umbrella-beach" style="color: #ff6b6b;"></i>
                                    <span><strong>Perfect Day at CocoCay</strong></span>
                                </div>
                                <div class="port-item__details">Day 6 • 7:30 AM | Private Island</div>
                            </div>
                        </div>
                    </div>

                    <div class="summary-card">
                        <div class="summary-card__icon">
                            <i class="fas fa-star"></i>
                        </div>
                        <h3 class="summary-card__title">Highlights & Reminders</h3>
                        <div class="summary-card__content">
                            <ul class="list--checkmarks">
                                <li>Formal Nights: Day 2 & 5</li>
                                <li>Dunn's River Falls Excursion</li>
                                <li>Thrill Waterpark at CocoCay</li>
                                <li>The Key® Priority Benefits</li>
                                <li>All aboard Day 1 by 2:00 PM</li>
                            </ul>
                            <div class="day-completion">
                                <div class="completion-checkbox" id="dayCompletionToggle">
                                    <i class="fas fa-check" style="display: none;"></i>
                                </div>
                                <span>Mark today as completed</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Itinerary Days -->
            <div class="itinerary-days">
                <!-- Day 1 -->
                <div class="itinerary-day" data-day="1">
                    <div class="itinerary-day__header">
                        <div>
                            <h2 class="itinerary-day__title">Day 1 • Saturday, February 14</h2>
                            <div class="itinerary-day__badges">
                                <span class="badge badge--primary">Embarkation Day</span>
                                <span class="badge badge--accent">Valentine's Day</span>
                            </div>
                        </div>
                        <div class="itinerary-day__tags">
                            <span class="tag tag--critical">Port Canaveral</span>
                            <span class="tag tag--info">All aboard 2:00 PM · Sail away ~4:00 PM</span>
                        </div>
                    </div>

                    <div class="timeline-section">
                        <h3 class="timeline-section__title">
                            <i class="fas fa-sun"></i> Morning
                        </h3>
                        <div class="timeline">
                            <div class="timeline-item">
                                <div class="timeline__time">
                                    <i class="far fa-clock"></i> 7:00 AM
                                </div>
                                <h4 class="timeline__title">Depart Orlando Hotel</h4>
                                <p class="timeline__description">Shuttle departs from hotel lobby for Port Canaveral</p>
                                <div class="timeline__meta">
                                    <span class="tag tag--info">Duration: 45 min</span>
                                </div>
                            </div>

                            <div class="timeline-item timeline-item--critical">
                                <div class="timeline__time">
                                    <i class="far fa-clock"></i> 12:00 PM
                                </div>
                                <h4 class="timeline__title">Check-in window opens</h4>
                                <p class="timeline__description">Shared linked reservation check-in time</p>
                                <div class="timeline__meta">
                                    <span class="tag tag--critical">Passport & SetSail Pass Required</span>
                                </div>
                            </div>

                            <div class="timeline-item timeline-item--critical">
                                <div class="timeline__time">
                                    <i class="far fa-clock"></i> 2:00 PM
                                </div>
                                <h4 class="timeline__title">All aboard cutoff</h4>
                                <p class="timeline__description">All linked reservations must be back onboard</p>
                            </div>
                        </div>
                    </div>

                    <div class="info-card">
                        <h3 class="info-card__title">
                            <i class="fas fa-exclamation-circle"></i> Day 1 Essentials
                        </h3>
                        <ul class="list--checkmarks">
                            <li>Have passports and <span class="rccl-tooltip-target" data-tooltip="Royal Caribbean digital boarding pass and check-in flow">SetSail</span> passes ready</li>
                            <li>Complete eMuster shortly after boarding</li>
                            <li>Carry-on bag with essentials until stateroom ready</li>
                            <li>Sail away photos around 4:00 PM</li>
                        </ul>
                    </div>
                </div>

                <!-- Day 2 -->
                <div class="itinerary-day" data-day="2" style="display: none;">
                    <div class="itinerary-day__header">
                        <div>
                            <h2 class="itinerary-day__title">Day 2 • Sunday, February 15</h2>
                            <div class="itinerary-day__badges">
                                <span class="badge badge--primary">Sea Day</span>
                                <span class="badge badge--accent">First Formal Night</span>
                            </div>
                        </div>
                        <div class="itinerary-day__tags">
                            <span class="tag tag--success">At Sea</span>
                        </div>
                    </div>

                    <div class="alert alert--info">
                        <strong>Sea Day Activities:</strong> Full day of onboard activities. Pool deck gets crowded early.
                    </div>

                    <div class="timeline-section">
                        <h3 class="timeline-section__title">Morning Activities</h3>
                        <div class="timeline">
                            <div class="timeline-item">
                                <div class="timeline__time">
                                    <i class="far fa-clock"></i> 9:00 AM
                                </div>
                                <h4 class="timeline__title">FlowRider® Surf Lessons</h4>
                                <p class="timeline__description">Deck 13 aft • Sign up early at Sports Deck</p>
                            </div>
                        </div>
                    </div>

                    <div class="info-card">
                        <h3 class="info-card__title">
                            <i class="fas fa-route"></i> Day 2 Logistics & Next Actions
                        </h3>
                        <ul class="list--checkmarks">
                            <li>Reserve tonight's dinner window before 3:00 PM</li>
                            <li>Confirm tomorrow's Grand Cayman excursion check-in point</li>
                            <li>Use deck map for evening venue routes</li>
                        </ul>
                        <p><a href="dining.html">Dining reservations</a> · <a href="decks.html">Deck routes</a> · <a href="rooms.html">Return to staterooms</a></p>
                    </div>
                </div>

                <!-- Day 3 -->
                <div class="itinerary-day" data-day="3" style="display: none;">
                    <div class="itinerary-day__header">
                        <div>
                            <h2 class="itinerary-day__title">Day 3 • Monday, February 16</h2>
                            <div class="itinerary-day__badges">
                                <span class="badge badge--primary">Port Day</span>
                                <span class="badge badge--accent">Grand Cayman</span>
                            </div>
                        </div>
                        <div class="itinerary-day__tags">
                            <span class="tag tag--critical">Tender Port</span>
                            <span class="tag tag--info">All aboard 5:15 PM</span>
                        </div>
                    </div>

                    <div class="timeline-section">
                        <h3 class="timeline-section__title">Port Plan</h3>
                        <div class="timeline">
                            <div class="timeline-item">
                                <div class="timeline__time"><i class="far fa-clock"></i> 11:00 AM</div>
                                <h4 class="timeline__title">Gangway opens (tender)</h4>
                                <p class="timeline__description">Tender launch sequence begins for George Town.</p>
                            </div>
                        </div>
                    </div>

                    <div class="info-card">
                        <h3 class="info-card__title"><i class="fas fa-map-pin"></i> Logistics</h3>
                        <ul class="list--checkmarks">
                            <li>Tender waits can spike after 9:30 AM</li>
                            <li>Carry ship card, photo ID, and contact card</li>
                            <li>Start return by 4:30 PM to avoid tender rush</li>
                        </ul>
                        <p><a href="contacts.html">Emergency contacts</a> · <a href="dining.html">Tonight dining</a> · <a href="decks.html">Tender return route</a></p>
                    </div>
                </div>

                <!-- Day 4 -->
                <div class="itinerary-day" data-day="4" style="display: none;">
                    <div class="itinerary-day__header">
                        <div>
                            <h2 class="itinerary-day__title">Day 4 • Tuesday, February 17</h2>
                            <div class="itinerary-day__badges">
                                <span class="badge badge--primary">Port Day</span>
                                <span class="badge badge--accent">Falmouth, Jamaica</span>
                            </div>
                        </div>
                        <div class="itinerary-day__tags">
                            <span class="tag tag--success">Walk-off Access</span>
                            <span class="tag tag--info">All aboard 4:30 PM</span>
                        </div>
                    </div>
                    <div class="timeline-section">
                        <h3 class="timeline-section__title">Port Plan</h3>
                        <div class="timeline">
                            <div class="timeline-item">
                                <div class="timeline__time"><i class="far fa-clock"></i> 8:30 AM</div>
                                <h4 class="timeline__title">Arrival and disembarkation</h4>
                                <p class="timeline__description">Walk-off available directly from gangway.</p>
                            </div>
                            <div class="timeline-item">
                                <div class="timeline__time"><i class="far fa-clock"></i> 9:15 AM</div>
                                <h4 class="timeline__title">Excursion meet-up</h4>
                                <p class="timeline__description">Dunn's River Falls groups meet in terminal zone B.</p>
                            </div>
                        </div>
                    </div>
                    <div class="info-card">
                        <h3 class="info-card__title"><i class="fas fa-route"></i> Logistics</h3>
                        <ul class="list--checkmarks">
                            <li>Cash and cards both recommended for port vendors</li>
                            <li>Rain shell + water shoes for falls excursions</li>
                            <li>Reboard buffer: 45 minutes minimum</li>
                        </ul>
                        <p><a href="tips.html">Packing reminders</a> · <a href="contacts.html">Port contacts</a> · <a href="rooms.html">Room return checklist</a></p>
                    </div>
                </div>

                <!-- Day 5 -->
                <div class="itinerary-day" data-day="5" style="display: none;">
                    <div class="itinerary-day__header">
                        <div>
                            <h2 class="itinerary-day__title">Day 5 • Wednesday, February 18</h2>
                            <div class="itinerary-day__badges">
                                <span class="badge badge--primary">Sea Day</span>
                                <span class="badge badge--accent">Second Formal Night</span>
                            </div>
                        </div>
                        <div class="itinerary-day__tags">
                            <span class="tag tag--success">At Sea</span>
                        </div>
                    </div>
                    <div class="timeline-section">
                        <h3 class="timeline-section__title">Onboard Plan</h3>
                        <div class="timeline">
                            <div class="timeline-item">
                                <div class="timeline__time"><i class="far fa-clock"></i> 10:00 AM</div>
                                <h4 class="timeline__title">Pool and activity window</h4>
                                <p class="timeline__description">Best time for lighter crowds on top decks.</p>
                            </div>
                            <div class="timeline-item">
                                <div class="timeline__time"><i class="far fa-clock"></i> 6:00 PM</div>
                                <h4 class="timeline__title">Formal dinner</h4>
                                <p class="timeline__description">Main Dining and specialty dress-up windows.</p>
                            </div>
                        </div>
                    </div>
                    <div class="info-card">
                        <h3 class="info-card__title"><i class="fas fa-utensils"></i> Logistics</h3>
                        <ul class="list--checkmarks">
                            <li>Lock dinner reservation before afternoon events</li>
                            <li>Plan stateroom change window before dinner</li>
                            <li>Use deck map for theater-to-dinner route timing</li>
                        </ul>
                        <p><a href="dining.html">Dining plan</a> · <a href="decks.html">Venue routing</a> · <a href="rooms.html">Stateroom prep</a></p>
                    </div>
                </div>

                <!-- Day 6 -->
                <div class="itinerary-day" data-day="6" style="display: none;">
                    <div class="itinerary-day__header">
                        <div>
                            <h2 class="itinerary-day__title">Day 6 • Thursday, February 19</h2>
                            <div class="itinerary-day__badges">
                                <span class="badge badge--primary">Port Day</span>
                                <span class="badge badge--accent">Perfect Day at CocoCay</span>
                            </div>
                        </div>
                        <div class="itinerary-day__tags">
                            <span class="tag tag--success">Private Island</span>
                            <span class="tag tag--info">All aboard 4:30 PM</span>
                        </div>
                    </div>
                    <div class="timeline-section">
                        <h3 class="timeline-section__title">Island Plan</h3>
                        <div class="timeline">
                            <div class="timeline-item">
                                <div class="timeline__time"><i class="far fa-clock"></i> 7:30 AM</div>
                                <h4 class="timeline__title">First gangway window</h4>
                                <p class="timeline__description">Early departure for beach chairs and park lockers.</p>
                            </div>
                            <div class="timeline-item">
                                <div class="timeline__time"><i class="far fa-clock"></i> 1:00 PM</div>
                                <h4 class="timeline__title">Peak heat break</h4>
                                <p class="timeline__description">Hydration and shade window before afternoon activities.</p>
                            </div>
                        </div>
                    </div>
                    <div class="info-card">
                        <h3 class="info-card__title"><i class="fas fa-umbrella-beach"></i> Logistics</h3>
                        <ul class="list--checkmarks">
                            <li>Waterproof pouch, sunscreen, and towels in day bag</li>
                            <li>Set return alarm 90 minutes before all aboard</li>
                            <li>Use contacts page for missed-meeting contingency</li>
                        </ul>
                        <p><a href="tips.html">Beach-day packing</a> · <a href="contacts.html">Contingency contacts</a> · <a href="dining.html">Dinner re-entry plan</a></p>
                    </div>
                </div>

                <!-- Day 7 -->
                <div class="itinerary-day" data-day="7" style="display: none;">
                    <div class="itinerary-day__header">
                        <div>
                            <h2 class="itinerary-day__title">Day 7 • Friday, February 20</h2>
                            <div class="itinerary-day__badges">
                                <span class="badge badge--primary">Disembarkation</span>
                                <span class="badge badge--accent">Port Canaveral</span>
                            </div>
                        </div>
                        <div class="itinerary-day__tags">
                            <span class="tag tag--critical">Luggage tags required</span>
                        </div>
                    </div>
                    <div class="timeline-section">
                        <h3 class="timeline-section__title">Departure Plan</h3>
                        <div class="timeline">
                            <div class="timeline-item">
                                <div class="timeline__time"><i class="far fa-clock"></i> 7:30 AM</div>
                                <h4 class="timeline__title">Gangway / departure opens</h4>
                                <p class="timeline__description">Begin disembarkation with travel docs ready.</p>
                            </div>
                        </div>
                    </div>
                    <div class="info-card">
                        <h3 class="info-card__title"><i class="fas fa-suitcase-rolling"></i> Logistics</h3>
                        <ul class="list--checkmarks">
                            <li>Place tagged bags out night before by 10:00 PM</li>
                            <li>Carry meds, valuables, and travel docs personally</li>
                            <li>Confirm airport transfer and pickup point before leaving ship</li>
                        </ul>
                        <p><a href="operations.html">Departure checklist</a> · <a href="contacts.html">Transfer contacts</a> · <a href="rooms.html">Final room check</a></p>
                    </div>
                </div>
            </div>

            <!-- Tips Section -->
            <section class="tips-section">
                <h2 class="tips-section__title">
                    <i class="fas fa-lightbulb"></i> Execution Reminders
                </h2>
                <div class="tips-grid">
                    <div class="tip-item">
                        <div class="tip-icon">
                            <i class="fas fa-list-check"></i>
                        </div>
                        <div class="tip-content">
                            <h4>Use the full prep guide</h4>
                            <p>Detailed packing and preparation steps live in <a href="tips.html">Packing & Tips</a>.</p>
                        </div>
                    </div>
                    <div class="tip-item">
                        <div class="tip-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="tip-content">
                            <h4>Watch Time Zone Changes</h4>
                            <p>All times are ship time unless otherwise noted</p>
                        </div>
                    </div>
                    <div class="tip-item">
                        <div class="tip-icon">
                            <i class="fas fa-key"></i>
                        </div>
                        <div class="tip-content">
                            <h4>The Key® Benefits</h4>
                            <p>Priority boarding, departure, and activity access</p>
                        </div>
                    </div>
                    <div class="tip-item">
                        <div class="tip-icon">
                            <i class="fas fa-phone-volume"></i>
                        </div>
                        <div class="tip-content">
                            <h4>Save emergency contacts offline</h4>
                            <p>Keep a quick-access card from <a href="contacts.html">Contacts & Emergency</a> before port days.</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Action Buttons -->
            <div class="action-buttons">
                <button class="btn btn--primary btn--icon" id="savePDFBtn">
                    <i class="fas fa-download"></i> Save PDF
                </button>
                <button class="btn btn--secondary btn--icon" id="addToCalendarBtn">
                    <i class="fas fa-calendar-plus"></i> Add to Calendar
                </button>
                <button class="btn btn--accent btn--icon" id="emailBtn">
                    <i class="fas fa-envelope"></i> Email Itinerary
                </button>
            </div>
        </div>
    </main>

    <!-- Footer Placeholder -->
    <div id="sharedFooter"></div>

    <div id="itineraryLegendModal" class="rccl-modal" role="dialog" aria-modal="true" aria-labelledby="legendTitle" aria-describedby="legendBody" aria-hidden="true" data-modal>
        <div class="rccl-modal__content">
            <div class="rccl-modal__header">
                <h3 id="legendTitle">Tag Legend</h3>
                <button type="button" class="header-action" aria-label="Close legend" data-modal-close>
                    <i class="fas fa-times" aria-hidden="true"></i>
                </button>
            </div>
            <div id="legendBody" style="padding: 0 24px 24px;">
                <p style="margin: 0 0 12px; color: var(--royal-ink);">Use this legend when scanning day cards and timeline tags.</p>
                <ul class="list--checkmarks">
                    <li><strong>Critical:</strong> hard cutoffs like all-aboard times</li>
                    <li><strong>Info:</strong> useful context for pacing and movement</li>
                    <li><strong>Success:</strong> on-track or low-risk activities</li>
                    <li><strong>Warning:</strong> watchlist items that need confirmation</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Day navigation
            const dayButtons = document.querySelectorAll('.day-btn');
            const daySections = document.querySelectorAll('.itinerary-day');
            let currentDay = 1;
            const glanceMap = {
                1: { next: 'Check-in opens at 12:00 PM', aboard: 'All aboard 2:00 PM', req: 'SetSail pass + photo ID' },
                2: { next: 'Formal dinner seating at 6:00 PM', aboard: 'Sea day (no port cutoff)', req: 'Dinner dress code items' },
                3: { next: 'Gangway opens at 11:00 AM (tender)', aboard: 'All aboard 5:15 PM', req: 'Ship card + photo ID' },
                4: { next: 'Excursion meet-up at 9:15 AM', aboard: 'All aboard 4:30 PM', req: 'Port ID + excursion ticket' },
                5: { next: 'Formal dinner lock-in by 3:00 PM', aboard: 'Sea day (no port cutoff)', req: 'Dining confirmations' },
                6: { next: 'First gangway at 7:30 AM', aboard: 'All aboard 4:30 PM', req: 'Towels + sunscreen + ship card' },
                7: { next: 'Gangway opens at 7:30 AM', aboard: 'Departure from Port Canaveral', req: 'Passport + transfer details' }
            };

            function updateGlance(day) {
                const normalizedDay = Number(day);
                const glance = glanceMap[normalizedDay] || { next: '--', aboard: '--', req: '--' };
                const nextEl = document.getElementById('glanceNextEvent');
                const aboardEl = document.getElementById('glanceAllAboard');
                const requiredEl = document.getElementById('glanceRequired');
                if (nextEl) nextEl.textContent = glance.next;
                if (aboardEl) aboardEl.textContent = glance.aboard;
                if (requiredEl) requiredEl.textContent = glance.req;
            }

            function showDay(day) {
                daySections.forEach(section => {
                    if (section.dataset.day === String(day)) {
                        section.style.display = 'block';
                        setTimeout(() => {
                            section.classList.add('itinerary-day--visible');
                        }, 10);
                    } else {
                        section.classList.remove('itinerary-day--visible');
                        setTimeout(() => {
                            section.style.display = 'none';
                        }, 300);
                    }
                });

                dayButtons.forEach(btn => {
                    btn.classList.remove('day-btn--active');
                });
                document.querySelector(`.day-btn[data-day="${day}"]`)?.classList.add('day-btn--active');
                updateGlance(day);
            }

            dayButtons.forEach(btn => {
                btn.addEventListener('click', function(e) {
                    const day = this.dataset.day === 'today' ? getCurrentCruiseDay() : this.dataset.day;
                    currentDay = parseInt(day);
                    showDay(day);
                    
                    // Ripple effect
                    const ripple = document.createElement('span');
                    const rect = this.getBoundingClientRect();
                    const size = Math.max(rect.width, rect.height);
                    const x = e.clientX - rect.left - size / 2;
                    const y = e.clientY - rect.top - size / 2;
                    
                    ripple.style.cssText = `
                        position: absolute;
                        border-radius: 50%;
                        background: rgba(0, 82, 165, 0.2);
                        transform: scale(0);
                        animation: ripple 0.6s linear;
                        width: ${size}px;
                        height: ${size}px;
                        top: ${y}px;
                        left: ${x}px;
                    `;
                    
                    this.appendChild(ripple);
                    setTimeout(() => ripple.remove(), 600);
                });
            });

            function getCurrentCruiseDay() {
                const cruiseStart = new Date('2026-02-14');
                const today = new Date();
                const diffDays = Math.floor((today - cruiseStart) / (1000 * 60 * 60 * 24)) + 1;
                return Math.max(1, Math.min(7, diffDays));
            }

            const itineraryStatus = document.getElementById('itineraryStatus');
            
            function showToast(message, duration = 3000) {
                if (!itineraryStatus) return;
                itineraryStatus.textContent = message;
                window.setTimeout(() => {
                    if (itineraryStatus.textContent === message) {
                        itineraryStatus.textContent = '';
                    }
                }, duration);
            }

            // Day completion toggle
            document.getElementById('dayCompletionToggle').addEventListener('click', function() {
                this.classList.toggle('checked');
                const icon = this.querySelector('i');
                icon.style.display = this.classList.contains('checked') ? 'block' : 'none';
                showToast(this.classList.contains('checked') ? 'Day marked as completed! 🎉' : 'Day marked as incomplete');
            });

            // Print functionality
            document.getElementById('printItineraryBtn').addEventListener('click', () => {
                if (window.innerWidth < 768) {
                    showToast('Use browser share → Print on mobile');
                } else {
                    window.print();
                }
            });

            // Share functionality
            document.getElementById('shareItineraryBtn').addEventListener('click', async () => {
                if (navigator.share) {
                    try {
                        await navigator.share({
                            title: 'Royal Caribbean Itinerary',
                            text: 'Check out our cruise itinerary!',
                            url: window.location.href
                        });
                        showToast('Shared successfully! 📤');
                    } catch (err) {
                        showToast('Sharing cancelled');
                    }
                } else {
                    navigator.clipboard.writeText(window.location.href)
                        .then(() => showToast('Link copied to clipboard! 📋'))
                        .catch(() => showToast('Failed to copy link'));
                }
            });

            // Initialize
            showDay(getCurrentCruiseDay());
            setTimeout(() => showToast('Welcome to your cruise itinerary! 🚢'), 1000);

            // Keyboard navigation
            document.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowLeft' && currentDay > 1) {
                    currentDay--;
                    showDay(currentDay);
                } else if (e.key === 'ArrowRight' && currentDay < 7) {
                    currentDay++;
                    showDay(currentDay);
                }
            });
        });
    </script>
</body>
</html>
