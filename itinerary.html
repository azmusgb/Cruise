<!DOCTYPE html>
<html lang="en" style="--header-height: 100px; --scroll-padding: 120px;">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cruise Operations & Checklist | Adventure of the Seas | Feb 14-20, 2026</title>
    <meta name="description" content="Complete pre-cruise checklist, embarkation guide, daily operations, and essential tasks for your Royal Caribbean cruise.">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#1a365d">
    <link rel="apple-touch-icon" href="icons/icon-192.svg">
    <!-- Preconnect for fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;800&family=Source+Sans+Pro:wght@300;400;600&display=swap" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üö¢</text></svg>">
    <style>
        /* Base Styles */
        :root {
            --primary: #2c3e50;
            --primary-light: #3498db;
            --secondary: #e74c3c;
            --accent: #f39c12;
            --success: #27ae60;
            --info: #2980b9;
            --warning: #e67e22;
            --danger: #c0392b;
            --light: #f8f9fa;
            --dark: #343a40;
            --gray: #95a5a6;
            --border: #e0e6ed;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.15);
            --radius: 8px;
            --radius-lg: 12px;
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Source Sans Pro', sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #f5f7fa 0%, #e8f4fd 100%);
            min-height: 100vh;
        }

        h1, h2, h3, h4 {
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
            color: var(--primary);
        }

        .title-white {
            color: white;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Navigation - Matching itinerary style */
        .nav-container {
            background: white;
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 1000;
            padding: 1rem 0;
        }

        .nav-main {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .nav-brand {
            display: flex;
            align-items: center;
            gap: 12px;
            text-decoration: none;
            color: inherit;
        }

        .nav-brand-badge {
            font-size: 24px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            color: white;
            width: 48px;
            height: 48px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .nav-brand-text {
            display: flex;
            flex-direction: column;
        }

        .nav-brand-title {
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
            font-size: 1.25rem;
            color: var(--primary);
        }

        .nav-brand-subtitle {
            font-size: 0.875rem;
            color: var(--gray);
        }

        /* Buttons - Matching itinerary style */
        .btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 10px 20px;
            border-radius: var(--radius);
            border: none;
            font-family: 'Montserrat', sans-serif;
            font-weight: 600;
            font-size: 0.95rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
        }

        .btn i {
            font-size: 0.9em;
        }

        .btn--primary {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            color: white;
        }

        .btn--primary:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }

        .btn--outline {
            background: transparent;
            color: var(--primary-light);
            border: 2px solid var(--primary-light);
        }

        .btn--outline:hover {
            background: var(--primary-light);
            color: white;
        }

        .btn--sm {
            padding: 6px 12px;
            font-size: 0.85rem;
        }

        /* Main Content */
        main {
            padding: 20px 0 60px;
        }

        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        /* Card Styling - Matching itinerary style */
        .card {
            background: white;
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow);
            overflow: hidden;
            margin-bottom: 30px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }

        .card__header {
            padding: 24px;
            background: linear-gradient(135deg, var(--primary) 0%, #2c5282 100%);
            color: white;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 20px;
        }

        .card__header-left {
            display: flex;
            align-items: center;
            gap: 20px;
            flex: 1;
        }

        .card__icon {
            background: rgba(255, 255, 255, 0.2);
            width: 56px;
            height: 56px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }

        .card__title {
            font-size: 1.75rem;
            margin: 0 0 4px 0;
            color: white;
        }

        .card__subtitle {
            font-size: 1rem;
            opacity: 0.9;
            margin: 0;
        }

        .card__toggle {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .card__toggle:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .card__toggle i {
            transition: transform 0.3s ease;
        }

        .card__toggle[aria-expanded="true"] i {
            transform: rotate(180deg);
        }

        .card__content {
            padding: 30px;
        }

        /* Progress Overview - Matching itinerary badges */
        .progress-overview {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .progress-card {
            background: white;
            border-radius: var(--radius);
            padding: 25px;
            box-shadow: var(--shadow);
            transition: all 0.3s ease;
            border-top: 4px solid var(--primary-light);
            text-align: center;
        }

        .progress-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }

        .progress-card__number {
            font-size: 2.5rem;
            font-weight: 800;
            color: var(--primary);
            margin-bottom: 10px;
            font-family: 'Montserrat', sans-serif;
        }

        .progress-card__label {
            font-size: 0.95rem;
            color: var(--gray);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Task Checklist */
        .task-checklist {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .task-item {
            display: flex;
            align-items: flex-start;
            gap: 15px;
            padding: 20px;
            background: var(--light);
            border-radius: var(--radius);
            border: 1px solid var(--border);
            transition: all 0.3s ease;
        }

        .task-item:hover {
            transform: translateX(5px);
            box-shadow: var(--shadow);
        }

        .task-item.completed {
            background: #f0fdf4;
            border-color: var(--success);
        }

        .task-item.critical {
            border-left: 4px solid var(--secondary);
            background: #fee;
        }

        .task-checkbox {
            flex-shrink: 0;
            width: 22px;
            height: 22px;
            border: 2px solid var(--border);
            border-radius: 4px;
            cursor: pointer;
            position: relative;
            transition: var(--transition);
        }

        .task-checkbox.checked {
            background: var(--success);
            border-color: var(--success);
        }

        .task-checkbox.checked::after {
            content: '‚úì';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-weight: bold;
            font-size: 12px;
        }

        .task-content {
            flex: 1;
        }

        .task-title {
            font-family: 'Montserrat', sans-serif;
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 5px;
        }

        .task-description {
            font-size: 0.9rem;
            color: var(--dark);
            margin-bottom: 10px;
        }

        .task-meta {
            display: flex;
            gap: 15px;
            font-size: 0.85rem;
        }

        .task-due {
            display: flex;
            align-items: center;
            gap: 5px;
            color: var(--gray);
        }

        .task-priority {
            display: inline-block;
            padding: 3px 12px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .priority-high {
            background: rgba(231, 76, 60, 0.1);
            color: var(--secondary);
            border: 1px solid rgba(231, 76, 60, 0.2);
        }

        .priority-medium {
            background: rgba(243, 156, 18, 0.1);
            color: var(--accent);
            border: 1px solid rgba(243, 156, 18, 0.2);
        }

        .priority-low {
            background: rgba(52, 152, 219, 0.1);
            color: var(--primary-light);
            border: 1px solid rgba(52, 152, 219, 0.2);
        }

        /* Checklist Categories */
        .checklist-categories {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }

        .checklist-category {
            background: white;
            border-radius: var(--radius);
            padding: 25px;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }

        .checklist-category:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }

        .category-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--border);
        }

        .category-icon {
            font-size: 1.5rem;
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            color: white;
            border-radius: var(--radius);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .category-title {
            font-size: 1.25rem;
            color: var(--primary);
            font-family: 'Montserrat', sans-serif;
        }

        /* Progress Bar */
        .progress-container {
            margin: 30px 0;
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .progress-bar {
            height: 10px;
            background: var(--border);
            border-radius: 5px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-light), var(--success));
            border-radius: 5px;
            transition: width 0.5s ease;
        }

        /* Timeline - Matching itinerary style */
        .timeline {
            position: relative;
            padding-left: 30px;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 3px;
            background: linear-gradient(to bottom, var(--primary-light), #e0e6ed);
            border-radius: 3px;
        }

        .timeline-item {
            position: relative;
            margin-bottom: 30px;
            padding: 20px;
            background: white;
            border-radius: var(--radius);
            border: 1px solid var(--border);
            transition: all 0.3s ease;
            display: flex;
            gap: 20px;
        }

        .timeline-item:hover {
            transform: translateX(5px);
            box-shadow: var(--shadow);
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: -36px;
            top: 24px;
            width: 12px;
            height: 12px;
            background: var(--primary-light);
            border: 3px solid white;
            border-radius: 50%;
            box-shadow: 0 0 0 2px var(--primary-light);
        }

        .timeline-item.current::before {
            background: var(--accent);
            box-shadow: 0 0 0 2px var(--accent);
            animation: pulse 2s infinite;
        }

        .timeline-item.completed::before {
            background: var(--success);
            box-shadow: 0 0 0 2px var(--success);
        }

        .timeline-title {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .timeline-time {
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
            color: var(--primary-light);
            font-size: 1.1rem;
        }

        /* Notes Section - Matching itinerary style */
        .note {
            background: #e8f4fd;
            border-left: 4px solid var(--primary-light);
            padding: 25px;
            border-radius: var(--radius);
            margin: 30px 0;
        }

        .note--warning {
            background: #fff8e1;
            border-left-color: var(--accent);
        }

        .note--critical {
            background: #fee;
            border-left-color: var(--secondary);
        }

        .note--success {
            background: #f0fdf4;
            border-left-color: var(--success);
        }

        .note strong {
            color: var(--primary);
            font-size: 1.1rem;
        }

        .note p, .note ul {
            margin-top: 10px;
            color: var(--dark);
            font-size: 0.95rem;
        }

        .note ul {
            padding-left: 20px;
        }

        /* Quick Actions */
        .quick-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .action-card {
            background: white;
            border-radius: var(--radius);
            padding: 25px;
            box-shadow: var(--shadow);
            transition: var(--transition);
            border-top: 4px solid var(--primary-light);
            text-align: center;
            cursor: pointer;
        }

        .action-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }

        .action-icon {
            font-size: 2rem;
            color: var(--primary-light);
            margin-bottom: 15px;
        }

        /* Tags */
        .tag {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-right: 8px;
            margin-bottom: 8px;
        }

        .tag--critical {
            background: rgba(231, 76, 60, 0.1);
            color: var(--secondary);
            border: 1px solid rgba(231, 76, 60, 0.2);
        }

        .tag--info {
            background: rgba(52, 152, 219, 0.1);
            color: var(--primary-light);
            border: 1px solid rgba(52, 152, 219, 0.2);
        }

        .tag--success {
            background: rgba(39, 174, 96, 0.1);
            color: var(--success);
            border: 1px solid rgba(39, 174, 96, 0.2);
        }

        /* Status Badges - Matching itinerary badges */
        .status-badge {
            display: inline-block;
            padding: 8px 20px;
            border-radius: 20px;
            font-size: 0.875rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            background: rgba(52, 152, 219, 0.1);
            color: var(--primary-light);
            border: 1px solid rgba(52, 152, 219, 0.2);
        }

        .status-badge--critical {
            background: rgba(231, 76, 60, 0.1);
            color: var(--secondary);
            border-color: rgba(231, 76, 60, 0.2);
            animation: pulseCritical 2s infinite;
        }

        .status-badge--success {
            background: rgba(39, 174, 96, 0.1);
            color: var(--success);
            border-color: rgba(39, 174, 96, 0.2);
        }

        .status-badge--warning {
            background: rgba(243, 156, 18, 0.1);
            color: var(--accent);
            border-color: rgba(243, 156, 18, 0.2);
        }

        /* Toast Notification */
        .toast {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: white;
            color: var(--primary);
            padding: 20px;
            border-radius: var(--radius);
            box-shadow: var(--shadow-lg);
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 20px;
            z-index: 1000;
            transform: translateY(100px);
            opacity: 0;
            transition: transform 0.3s, opacity 0.3s;
            border-left: 4px solid var(--primary-light);
        }

        .toast.show {
            transform: translateY(0);
            opacity: 1;
        }

        .toast__close {
            background: none;
            border: none;
            color: var(--gray);
            cursor: pointer;
            padding: 5px;
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        @keyframes pulseCritical {
            0%, 100% { 
                box-shadow: 0 0 0 0 rgba(231, 76, 60, 0.7); 
            }
            70% { 
                box-shadow: 0 0 0 10px rgba(231, 76, 60, 0); 
            }
            100% { 
                box-shadow: 0 0 0 0 rgba(231, 76, 60, 0); 
            }
        }

        .task-item, .progress-card, .checklist-category, .action-card {
            animation: fadeIn 0.6s ease-out;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .nav-main {
                flex-direction: column;
                gap: 15px;
                align-items: stretch;
            }

            .nav-brand {
                justify-content: center;
                text-align: center;
            }

            .card__header {
                flex-direction: column;
                text-align: center;
                gap: 15px;
            }

            .card__header-left {
                flex-direction: column;
                gap: 15px;
            }

            .progress-overview {
                grid-template-columns: repeat(2, 1fr);
            }

            .checklist-categories {
                grid-template-columns: 1fr;
            }

            .quick-actions {
                grid-template-columns: repeat(2, 1fr);
            }

            .timeline-item {
                flex-direction: column;
                gap: 10px;
            }
        }

        @media (max-width: 480px) {
            .progress-overview {
                grid-template-columns: 1fr;
            }
            
            .quick-actions {
                grid-template-columns: 1fr;
            }
            
            .task-meta {
                flex-direction: column;
                gap: 5px;
            }
        }

        /* Utility Classes */
        .mt-2 { margin-top: 8px; }
        .mt-4 { margin-top: 16px; }
        .mt-6 { margin-top: 24px; }
        .mt-8 { margin-top: 32px; }
        .mb-2 { margin-bottom: 8px; }
        .mb-4 { margin-bottom: 16px; }
        .mb-6 { margin-bottom: 24px; }
        .mb-8 { margin-bottom: 32px; }
        .text-center { text-align: center; }
        .text-muted { color: var(--gray); }
        .d-flex { display: flex; }
        .justify-between { justify-content: space-between; }
        .align-center { align-items: center; }
        .gap-2 { gap: 8px; }
        .gap-4 { gap: 16px; }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="nav-container" aria-label="Main navigation">
        <div class="nav-main">
            <a href="index.html" class="nav-brand" aria-label="Back to Cruise Companion">
                <span class="nav-brand-badge" aria-hidden="true">‚õµ</span>
                <div class="nav-brand-text">
                    <span class="nav-brand-title">Cruise Companion</span>
                    <span class="nav-brand-subtitle">Adventure of the Seas ¬∑ Feb 14-20</span>
                </div>
            </a>
            <button class="btn btn--outline" onclick="history.back()">
                <i class="fas fa-arrow-left"></i> Back to Dashboard
            </button>
        </div>
    </nav>

    <main class="main" role="main">
        <div class="container">
            <!-- Operations Header Card -->
            <div class="card">
                <div class="card__header">
                    <div class="card__header-left">
                        <div class="card__icon" aria-hidden="true">
                            <i class="fas fa-tasks"></i>
                        </div>
                        <div>
                            <h2 class="title-white">Cruise Operations & Checklist</h2>
                            <p class="card__subtitle">Complete pre-cruise tasks, embarkation procedures, and essential operations</p>
                        </div>
                    </div>
                </div>
                <div class="card__content">
                    <!-- Hero Badges -->
                    <div class="d-flex gap-2 mb-6 flex-wrap">
                        <span class="status-badge">
                            <i class="fas fa-calendar-check"></i> Pre-Cruise Checklist
                        </span>
                        <span class="status-badge status-badge--critical" id="criticalBadge">
                            <i class="fas fa-exclamation-triangle"></i> <span id="criticalCount">3</span> Critical Tasks Pending
                        </span>
                        <span class="status-badge status-badge--warning">
                            <i class="fas fa-clock"></i> 14 Days Until Cruise
                        </span>
                    </div>

                    <!-- Progress Overview -->
                    <div class="progress-overview">
                        <div class="progress-card">
                            <div class="progress-card__number" id="completedTasks">18</div>
                            <div class="progress-card__label">Tasks Completed</div>
                        </div>
                        <div class="progress-card">
                            <div class="progress-card__number" id="pendingTasks">7</div>
                            <div class="progress-card__label">Tasks Pending</div>
                        </div>
                        <div class="progress-card">
                            <div class="progress-card__number" id="criticalTasks">3</div>
                            <div class="progress-card__label">Critical Tasks</div>
                        </div>
                        <div class="progress-card">
                            <div class="progress-card__number">78%</div>
                            <div class="progress-card__label">Overall Progress</div>
                        </div>
                    </div>

                    <!-- Action Buttons -->
                    <div class="d-flex gap-2 mt-6 flex-wrap">
                        <button class="btn btn--primary" id="printChecklistBtn">
                            <i class="fas fa-print"></i> Print Checklist
                        </button>
                        <button class="btn btn--outline" id="markAllCompleteBtn">
                            <i class="fas fa-check-double"></i> Mark All Complete
                        </button>
                        <button class="btn btn--outline" id="exportChecklistBtn">
                            <i class="fas fa-file-export"></i> Export to PDF
                        </button>
                    </div>
                </div>
            </div>

            <!-- Critical Tasks Card -->
            <div class="card">
                <div class="card__header" style="background: linear-gradient(135deg, var(--danger) 0%, #c0392b 100%);">
                    <div class="card__header-left">
                        <div class="card__icon" aria-hidden="true">
                            <i class="fas fa-exclamation-triangle"></i>
                        </div>
                        <div>
                            <h2 class="title-white">Critical Priority Tasks</h2>
                            <p class="card__subtitle">These tasks must be completed before embarkation</p>
                        </div>
                    </div>
                </div>
                <div class="card__content">
                    <div class="task-checklist">
                        <!-- Task 1 -->
                        <div class="task-item critical" id="task-critical-1">
                            <div class="task-checkbox" data-task="critical-1"></div>
                            <div class="task-content">
                                <div class="task-title">Complete Online Check-In & Print SetSail Pass</div>
                                <div class="task-description">Must be done 72 hours before sailing. Upload security photo and complete health questionnaire.</div>
                                <div class="task-meta">
                                    <div class="task-due">
                                        <i class="fas fa-calendar-day"></i> Due: Feb 11, 2026
                                    </div>
                                    <span class="task-priority priority-high">High Priority</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Task 2 -->
                        <div class="task-item critical" id="task-critical-2">
                            <div class="task-checkbox" data-task="critical-2"></div>
                            <div class="task-content">
                                <div class="task-title">Verify Passport Validity (6+ Months Post-Cruise)</div>
                                <div class="task-description">Passports must be valid through August 2026. Check all family members' passports.</div>
                                <div class="task-meta">
                                    <div class="task-due">
                                        <i class="fas fa-calendar-day"></i> Due: ASAP
                                    </div>
                                    <span class="task-priority priority-high">High Priority</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Task 3 -->
                        <div class="task-item critical" id="task-critical-3">
                            <div class="task-checkbox" data-task="critical-3"></div>
                            <div class="task-content">
                                <div class="task-title">Download Royal Caribbean App & Complete eMuster</div>
                                <div class="task-description">App required for onboard communication. eMuster must be completed before 4 PM on embarkation day.</div>
                                <div class="task-meta">
                                    <div class="task-due">
                                        <i class="fas fa-calendar-day"></i> Due: Feb 14, 2026
                                    </div>
                                    <span class="task-priority priority-high">High Priority</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="note note--critical mt-4">
                        <strong>‚ö†Ô∏è Warning:</strong> These tasks are mandatory for boarding. Failure to complete may result in boarding delays or denial.
                    </div>
                </div>
            </div>

            <!-- Complete Checklist Card -->
            <div class="card">
                <div class="card__header">
                    <div class="card__header-left">
                        <div class="card__icon" aria-hidden="true">
                            <i class="fas fa-clipboard-check"></i>
                        </div>
                        <div>
                            <h2 class="title-white">Complete Pre-Cruise Checklist</h2>
                            <p class="card__subtitle">Organized by category with progress tracking</p>
                        </div>
                    </div>
                </div>
                <div class="card__content">
                    <!-- Progress Bar -->
                    <div class="progress-container">
                        <div class="progress-header">
                            <span class="task-title">Overall Checklist Progress</span>
                            <span class="task-title" id="overallProgress">78%</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="progressFill" style="width: 78%"></div>
                        </div>
                    </div>
                    
                    <!-- Checklist Categories -->
                    <div class="checklist-categories">
                        <!-- Category 1: Documents & Admin -->
                        <div class="checklist-category">
                            <div class="category-header">
                                <div class="category-icon">
                                    <i class="fas fa-file-alt"></i>
                                </div>
                                <h3 class="category-title">Documents & Admin</h3>
                            </div>
                            
                            <div class="task-checklist">
                                <div class="task-item completed" id="task-doc-1">
                                    <div class="task-checkbox checked" data-task="doc-1"></div>
                                    <div class="task-content">
                                        <div class="task-title">Book Cruise & Select Stateroom</div>
                                    </div>
                                </div>
                                
                                <div class="task-item completed" id="task-doc-2">
                                    <div class="task-checkbox checked" data-task="doc-2"></div>
                                    <div class="task-content">
                                        <div class="task-title">Purchase Travel Insurance</div>
                                    </div>
                                </div>
                                
                                <div class="task-item" id="task-doc-3">
                                    <div class="task-checkbox" data-task="doc-3"></div>
                                    <div class="task-content">
                                        <div class="task-title">Complete Online Check-In</div>
                                        <div class="task-meta">
                                            <div class="task-due">
                                                <i class="fas fa-calendar-day"></i> Due: Feb 11
                                            </div>
                                            <span class="task-priority priority-high">High</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="task-item completed" id="task-doc-4">
                                    <div class="task-checkbox checked" data-task="doc-4"></div>
                                    <div class="task-content">
                                        <div class="task-title">Print Luggage Tags</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="d-flex justify-between mt-4">
                                <span class="text-muted">Progress: 3/4 tasks</span>
                                <span class="task-priority priority-medium">75%</span>
                            </div>
                        </div>
                        
                        <!-- Category 2: Financial -->
                        <div class="checklist-category">
                            <div class="category-header">
                                <div class="category-icon">
                                    <i class="fas fa-credit-card"></i>
                                </div>
                                <h3 class="category-title">Financial Setup</h3>
                            </div>
                            
                            <div class="task-checklist">
                                <div class="task-item completed" id="task-fin-1">
                                    <div class="task-checkbox checked" data-task="fin-1"></div>
                                    <div class="task-content">
                                        <div class="task-title">Set Up Onboard Account</div>
                                    </div>
                                </div>
                                
                                <div class="task-item completed" id="task-fin-2">
                                    <div class="task-checkbox checked" data-task="fin-2"></div>
                                    <div class="task-content">
                                        <div class="task-title">Pre-Pay Gratuities</div>
                                    </div>
                                </div>
                                
                                <div class="task-item" id="task-fin-3">
                                    <div class="task-checkbox" data-task="fin-3"></div>
                                    <div class="task-content">
                                        <div class="task-title">Purchase Drink Package</div>
                                        <div class="task-meta">
                                            <div class="task-due">
                                                <i class="fas fa-calendar-day"></i> Due: Feb 11
                                            </div>
                                            <span class="task-priority priority-medium">Medium</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="task-item completed" id="task-fin-4">
                                    <div class="task-checkbox checked" data-task="fin-4"></div>
                                    <div class="task-content">
                                        <div class="task-title">Book Shore Excursions</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="d-flex justify-between mt-4">
                                <span class="text-muted">Progress: 3/4 tasks</span>
                                <span class="task-priority priority-medium">75%</span>
                            </div>
                        </div>
                        
                        <!-- Category 3: Travel Prep -->
                        <div class="checklist-category">
                            <div class="category-header">
                                <div class="category-icon">
                                    <i class="fas fa-suitcase-rolling"></i>
                                </div>
                                <h3 class="category-title">Travel Preparation</h3>
                            </div>
                            
                            <div class="task-checklist">
                                <div class="task-item completed" id="task-travel-1">
                                    <div class="task-checkbox checked" data-task="travel-1"></div>
                                    <div class="task-content">
                                        <div class="task-title">Book Flights to Miami</div>
                                    </div>
                                </div>
                                
                                <div class="task-item completed" id="task-travel-2">
                                    <div class="task-checkbox checked" data-task="travel-2"></div>
                                    <div class="task-content">
                                        <div class="task-title">Arrange Airport Transfers</div>
                                    </div>
                                </div>
                                
                                <div class="task-item" id="task-travel-3">
                                    <div class="task-checkbox" data-task="travel-3"></div>
                                    <div class="task-content">
                                        <div class="task-title">Pre-Cruise Hotel Stay</div>
                                        <div class="task-description">One night in Miami before embarkation</div>
                                        <div class="task-meta">
                                            <div class="task-due">
                                                <i class="fas fa-calendar-day"></i> Due: Feb 10
                                            </div>
                                            <span class="task-priority priority-medium">Medium</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="task-item completed" id="task-travel-4">
                                    <div class="task-checkbox checked" data-task="travel-4"></div>
                                    <div class="task-content">
                                        <div class="task-title">Parking at Port Arranged</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="d-flex justify-between mt-4">
                                <span class="text-muted">Progress: 3/4 tasks</span>
                                <span class="task-priority priority-medium">75%</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Additional Categories -->
                    <div class="checklist-categories mt-6">
                        <!-- Category 4: Health & Safety -->
                        <div class="checklist-category">
                            <div class="category-header">
                                <div class="category-icon">
                                    <i class="fas fa-heartbeat"></i>
                                </div>
                                <h3 class="category-title">Health & Safety</h3>
                            </div>
                            
                            <div class="task-checklist">
                                <div class="task-item completed" id="task-health-1">
                                    <div class="task-checkbox checked" data-task="health-1"></div>
                                    <div class="task-content">
                                        <div class="task-title">Review Health Protocols</div>
                                    </div>
                                </div>
                                
                                <div class="task-item" id="task-health-2">
                                    <div class="task-checkbox" data-task="health-2"></div>
                                    <div class="task-content">
                                        <div class="task-title">Complete Health Questionnaire</div>
                                        <div class="task-meta">
                                            <div class="task-due">
                                                <i class="fas fa-calendar-day"></i> Due: Feb 13
                                            </div>
                                            <span class="task-priority priority-high">High</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="task-item completed" id="task-health-3">
                                    <div class="task-checkbox checked" data-task="health-3"></div>
                                    <div class="task-content">
                                        <div class="task-title">Pack Medications + Copies</div>
                                    </div>
                                </div>
                                
                                <div class="task-item completed" id="task-health-4">
                                    <div class="task-checkbox checked" data-task="health-4"></div>
                                    <div class="task-content">
                                        <div class="task-title">Motion Sickness Remedies</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="d-flex justify-between mt-4">
                                <span class="text-muted">Progress: 3/4 tasks</span>
                                <span class="task-priority priority-medium">75%</span>
                            </div>
                        </div>
                        
                        <!-- Category 5: Onboard Setup -->
                        <div class="checklist-category">
                            <div class="category-header">
                                <div class="category-icon">
                                    <i class="fas fa-mobile-alt"></i>
                                </div>
                                <h3 class="category-title">Onboard Setup</h3>
                            </div>
                            
                            <div class="task-checklist">
                                <div class="task-item completed" id="task-onboard-1">
                                    <div class="task-checkbox checked" data-task="onboard-1"></div>
                                    <div class="task-content">
                                        <div class="task-title">Download Royal App</div>
                                    </div>
                                </div>
                                
                                <div class="task-item" id="task-onboard-2">
                                    <div class="task-checkbox" data-task="onboard-2"></div>
                                    <div class="task-content">
                                        <div class="task-title">Complete eMuster Review</div>
                                        <div class="task-meta">
                                            <div class="task-due">
                                                <i class="fas fa-calendar-day"></i> Due: Feb 14
                                            </div>
                                            <span class="task-priority priority-high">High</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="task-item completed" id="task-onboard-3">
                                    <div class="task-checkbox checked" data-task="onboard-3"></div>
                                    <div class="task-content">
                                        <div class="task-title">Set Up Onboard Chat</div>
                                    </div>
                                </div>
                                
                                <div class="task-item completed" id="task-onboard-4">
                                    <div class="task-checkbox checked" data-task="onboard-4"></div>
                                    <div class="task-content">
                                        <div class="task-title">Book Specialty Dining</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="d-flex justify-between mt-4">
                                <span class="text-muted">Progress: 3/4 tasks</span>
                                <span class="task-priority priority-medium">75%</span>
                            </div>
                        </div>
                        
                        <!-- Category 6: Packing -->
                        <div class="checklist-category">
                            <div class="category-header">
                                <div class="category-icon">
                                    <i class="fas fa-suitcase"></i>
                                </div>
                                <h3 class="category-title">Packing & Gear</h3>
                            </div>
                            
                            <div class="task-checklist">
                                <div class="task-item completed" id="task-packing-1">
                                    <div class="task-checkbox checked" data-task="packing-1"></div>
                                    <div class="task-content">
                                        <div class="task-title">Create Packing List</div>
                                    </div>
                                </div>
                                
                                <div class="task-item" id="task-packing-2">
                                    <div class="task-checkbox" data-task="packing-2"></div>
                                    <div class="task-content">
                                        <div class="task-title">Purchase Cruise Essentials</div>
                                        <div class="task-description">Magnetic hooks, power strip, lanyards, etc.</div>
                                        <div class="task-meta">
                                            <div class="task-due">
                                                <i class="fas fa-calendar-day"></i> Due: Feb 10
                                            </div>
                                            <span class="task-priority priority-medium">Medium</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="task-item" id="task-packing-3">
                                    <div class="task-checkbox" data-task="packing-3"></div>
                                    <div class="task-content">
                                        <div class="task-title">Pack Luggage</div>
                                        <div class="task-meta">
                                            <div class="task-due">
                                                <i class="fas fa-calendar-day"></i> Due: Feb 13
                                            </div>
                                            <span class="task-priority priority-low">Low</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="task-item completed" id="task-packing-4">
                                    <div class="task-checkbox checked" data-task="packing-4"></div>
                                    <div class="task-content">
                                        <div class="task-title">Prepare Carry-On Bag</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="d-flex justify-between mt-4">
                                <span class="text-muted">Progress: 2/4 tasks</span>
                                <span class="task-priority priority-low">50%</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="note note--info mt-6">
                        <strong>üí° Tip:</strong> Complete high-priority tasks first. Medium and low-priority tasks can be done closer to departure.
                    </div>
                </div>
            </div>

            <!-- Embarkation Timeline Card -->
            <div class="card">
                <div class="card__header">
                    <div class="card__header-left">
                        <div class="card__icon" aria-hidden="true">
                            <i class="fas fa-calendar-day"></i>
                        </div>
                        <div>
                            <h2 class="title-white">Embarkation Day Timeline</h2>
                            <p class="card__subtitle">Step-by-step guide for February 14, 2026</p>
                        </div>
                    </div>
                </div>
                <div class="card__content">
                    <div class="timeline">
                        <!-- Timeline Item 1 -->
                        <div class="timeline-item current">
                            <div class="timeline-content">
                                <div class="timeline-title">
                                    <h4>10:00 AM - Arrive at Port of Miami</h4>
                                    <span class="timeline-time">Terminal A</span>
                                </div>
                                <p>Arrive during your assigned check-in window (10:00-10:30 AM). Have SetSail pass and passports ready.</p>
                                <div class="mt-2">
                                    <span class="tag tag--critical">Must Have: SetSail Pass</span>
                                    <span class="tag tag--info">Luggage Drop-off</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Timeline Item 2 -->
                        <div class="timeline-item">
                            <div class="timeline-content">
                                <div class="timeline-title">
                                    <h4>10:30 AM - Security & Check-In</h4>
                                    <span class="timeline-time">15-20 minutes</span>
                                </div>
                                <p>Go through security screening and check-in process. Receive SeaPass cards for all guests.</p>
                                <div class="note note--warning mt-2">
                                    <strong>Reminder:</strong> Have passports and health questionnaire confirmation ready.
                                </div>
                            </div>
                        </div>
                        
                        <!-- Timeline Item 3 -->
                        <div class="timeline-item">
                            <div class="timeline-content">
                                <div class="timeline-title">
                                    <h4>11:00 AM - Boarding Begins</h4>
                                    <span class="timeline-time">Priority then General</span>
                                </div>
                                <p>Listen for boarding announcements. Priority guests (suite, Diamond+) board first, followed by general boarding.</p>
                                <div class="mt-2">
                                    <span class="tag tag--info">Welcome Photo</span>
                                    <span class="tag tag--info">Champagne Welcome</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Timeline Item 4 -->
                        <div class="timeline-item">
                            <div class="timeline-content">
                                <div class="timeline-title">
                                    <h4>11:30 AM - Onboard Activities</h4>
                                    <span class="timeline-time">Until 3:30 PM</span>
                                </div>
                                <ul style="padding-left: 20px; margin-top: 10px;">
                                    <li>Visit your stateroom (available at 1:00 PM)</li>
                                    <li>Make specialty dining reservations</li>
                                    <li>Explore the ship</li>
                                    <li>Have lunch at Windjammer or Main Dining Room</li>
                                    <li>Complete eMuster if not done already</li>
                                </ul>
                            </div>
                        </div>
                        
                        <!-- Timeline Item 5 -->
                        <div class="timeline-item">
                            <div class="timeline-content">
                                <div class="timeline-title">
                                    <h4>4:00 PM - Mandatory Muster Drill</h4>
                                    <span class="timeline-time">Deck 4, Station F6</span>
                                </div>
                                <p>All guests must complete the safety drill. Check your SeaPass card for your assigned station.</p>
                                <div class="note note--critical mt-2">
                                    <strong>Mandatory:</strong> Failure to attend will result in mandatory disembarkation.
                                </div>
                            </div>
                        </div>
                        
                        <!-- Timeline Item 6 -->
                        <div class="timeline-item">
                            <div class="timeline-content">
                                <div class="timeline-title">
                                    <h4>5:00 PM - Sailaway Party</h4>
                                    <span class="timeline-time">Pool Deck</span>
                                </div>
                                <p>Join the sailaway celebration as we depart Miami. Music, dancing, and tropical drinks!</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Quick Actions Card -->
            <div class="card">
                <div class="card__header">
                    <div class="card__header-left">
                        <div class="card__icon" aria-hidden="true">
                            <i class="fas fa-bolt"></i>
                        </div>
                        <div>
                            <h2 class="title-white">Quick Actions</h2>
                            <p class="card__subtitle">One-click access to essential cruise operations</p>
                        </div>
                    </div>
                </div>
                <div class="card__content">
                    <div class="quick-actions">
                        <div class="action-card" id="action-checkin">
                            <div class="action-icon">
                                <i class="fas fa-clipboard-check"></i>
                            </div>
                            <h4>Online Check-In</h4>
                            <p class="text-muted">Complete check-in now</p>
                        </div>
                        
                        <div class="action-card" id="action-app">
                            <div class="action-icon">
                                <i class="fas fa-mobile-alt"></i>
                            </div>
                            <h4>Royal App</h4>
                            <p class="text-muted">Download & setup</p>
                        </div>
                        
                        <div class="action-card" id="action-excursions">
                            <div class="action-icon">
                                <i class="fas fa-umbrella-beach"></i>
                            </div>
                            <h4>Shore Excursions</h4>
                            <p class="text-muted">Browse & book</p>
                        </div>
                        
                        <div class="action-card" id="action-dining">
                            <div class="action-icon">
                                <i class="fas fa-utensils"></i>
                            </div>
                            <h4>Dining Reservations</h4>
                            <p class="text-muted">Book specialty dining</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tips & Notes Card -->
            <div class="card">
                <div class="card__header">
                    <div class="card__header-left">
                        <div class="card__icon" aria-hidden="true">
                            <i class="fas fa-lightbulb"></i>
                        </div>
                        <div>
                            <h2 class="title-white">Essential Tips & Notes</h2>
                            <p class="card__subtitle">Important reminders for a smooth cruise experience</p>
                        </div>
                    </div>
                </div>
                <div class="card__content">
                    <div class="task-checklist">
                        <div class="task-item completed">
                            <div class="task-checkbox checked"></div>
                            <div class="task-content">
                                <div class="task-title">Carry essential items in your embarkation day bag</div>
                                <div class="task-description">Include medications, swimwear, travel documents, and valuables since luggage may arrive later.</div>
                            </div>
                        </div>
                        
                        <div class="task-item completed">
                            <div class="task-checkbox checked"></div>
                            <div class="task-content">
                                <div class="task-title">Take photos of important documents</div>
                                <div class="task-description">Photograph passports, insurance cards, and prescriptions as backup.</div>
                            </div>
                        </div>
                        
                        <div class="task-item completed">
                            <div class="task-checkbox checked"></div>
                            <div class="task-content">
                                <div class="task-title">Set up onboard account before boarding</div>
                                <div class="task-description">Link a credit card to avoid waiting in line at guest services.</div>
                            </div>
                        </div>
                        
                        <div class="task-item completed">
                            <div class="task-checkbox checked"></div>
                            <div class="task-content">
                                <div class="task-title">Download entertainment before departure</div>
                                <div class="task-description">Save movies, books, and music for sea days with limited internet.</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="note note--success mt-4">
                        <strong>‚úÖ Pro Tip:</strong> Complete the online check-in as early as possible to secure the best boarding time and avoid long lines at the port.
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Toast Notification -->
    <div class="toast" id="toast">
        <span class="toast__message" id="toastMessage">Welcome to Cruise Operations! Track your pre-cruise checklist here. ‚úÖ</span>
        <button class="toast__close" id="toastClose">
            <i class="fas fa-times"></i>
        </button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Task management system
            let tasks = {
                'critical-1': false,
                'critical-2': false,
                'critical-3': false,
                'doc-1': true,
                'doc-2': true,
                'doc-3': false,
                'doc-4': true,
                'fin-1': true,
                'fin-2': true,
                'fin-3': false,
                'fin-4': true,
                'travel-1': true,
                'travel-2': true,
                'travel-3': false,
                'travel-4': true,
                'health-1': true,
                'health-2': false,
                'health-3': true,
                'health-4': true,
                'onboard-1': true,
                'onboard-2': false,
                'onboard-3': true,
                'onboard-4': true,
                'packing-1': true,
                'packing-2': false,
                'packing-3': false,
                'packing-4': true
            };
            
            // Initialize checkboxes
            Object.keys(tasks).forEach(taskId => {
                const checkbox = document.querySelector(`.task-checkbox[data-task="${taskId}"]`);
                const taskItem = document.getElementById(`task-${taskId}`);
                
                if (checkbox) {
                    if (tasks[taskId]) {
                        checkbox.classList.add('checked');
                        if (taskItem) taskItem.classList.add('completed');
                    }
                    
                    checkbox.addEventListener('click', function() {
                        const task = this.getAttribute('data-task');
                        tasks[task] = !tasks[task];
                        
                        if (tasks[task]) {
                            this.classList.add('checked');
                            if (taskItem) {
                                taskItem.classList.add('completed');
                                // Remove critical class if it was critical
                                taskItem.classList.remove('critical');
                            }
                            showToast(`Task completed: ${getTaskName(task)}`);
                        } else {
                            this.classList.remove('checked');
                            if (taskItem) {
                                taskItem.classList.remove('completed');
                                // Add critical class back if it's a critical task
                                if (task.startsWith('critical')) {
                                    taskItem.classList.add('critical');
                                }
                            }
                            showToast(`Task marked incomplete: ${getTaskName(task)}`);
                        }
                        
                        updateProgress();
                        updateCriticalBadge();
                        
                        // Save to localStorage
                        localStorage.setItem('cruiseOperationsTasks', JSON.stringify(tasks));
                    });
                }
            });
            
            // Update progress function
            function updateProgress() {
                const totalTasks = Object.keys(tasks).length;
                const completedTasks = Object.values(tasks).filter(Boolean).length;
                const pendingTasks = totalTasks - completedTasks;
                const criticalTasks = Object.keys(tasks).filter(key => key.startsWith('critical') && !tasks[key]).length;
                const progressPercentage = Math.round((completedTasks / totalTasks) * 100);
                
                // Update counters
                document.getElementById('completedTasks').textContent = completedTasks;
                document.getElementById('pendingTasks').textContent = pendingTasks;
                document.getElementById('criticalTasks').textContent = criticalTasks;
                document.getElementById('overallProgress').textContent = `${progressPercentage}%`;
                document.getElementById('progressFill').style.width = `${progressPercentage}%`;
                
                // Update progress card
                document.querySelector('.progress-card:last-child .progress-card__number').textContent = `${progressPercentage}%`;
                
                // Update category progress
                updateCategoryProgress();
            }
            
            // Update category progress
            function updateCategoryProgress() {
                const categories = {
                    'doc': [1, 2, 3, 4],
                    'fin': [1, 2, 3, 4],
                    'travel': [1, 2, 3, 4],
                    'health': [1, 2, 3, 4],
                    'onboard': [1, 2, 3, 4],
                    'packing': [1, 2, 3, 4]
                };
                
                Object.keys(categories).forEach(category => {
                    const taskIds = categories[category].map(num => `${category}-${num}`);
                    const completed = taskIds.filter(id => tasks[id]).length;
                    const total = taskIds.length;
                    const progress = Math.round((completed / total) * 100);
                    
                    // Find category element and update progress
                    const categoryElement = document.querySelector(`.checklist-category:nth-child(${getCategoryIndex(category)})`);
                    if (categoryElement) {
                        const progressSpan = categoryElement.querySelector('.task-priority');
                        if (progressSpan) {
                            progressSpan.textContent = `${progress}%`;
                            progressSpan.className = 'task-priority ';
                            if (progress === 100) {
                                progressSpan.classList.add('priority-success');
                            } else if (progress >= 75) {
                                progressSpan.classList.add('priority-medium');
                            } else if (progress >= 50) {
                                progressSpan.classList.add('priority-low');
                            } else {
                                progressSpan.classList.add('priority-high');
                            }
                            
                            // Update text
                            const progressText = categoryElement.querySelector('.text-muted');
                            if (progressText) {
                                progressText.textContent = `Progress: ${completed}/${total} tasks`;
                            }
                        }
                    }
                });
            }
            
            function getCategoryIndex(category) {
                const categoryMap = {
                    'doc': 1,
                    'fin': 2,
                    'travel': 3,
                    'health': 1,
                    'onboard': 2,
                    'packing': 3
                };
                return categoryMap[category] || 1;
            }
            
            function getTaskName(taskId) {
                const taskElements = {
                    'critical-1': 'Complete Online Check-In',
                    'critical-2': 'Verify Passport Validity',
                    'critical-3': 'Download Royal Caribbean App',
                    'doc-1': 'Book Cruise & Select Stateroom',
                    'doc-2': 'Purchase Travel Insurance',
                    'doc-3': 'Complete Online Check-In',
                    'doc-4': 'Print Luggage Tags',
                    'fin-1': 'Set Up Onboard Account',
                    'fin-2': 'Pre-Pay Gratuities',
                    'fin-3': 'Purchase Drink Package',
                    'fin-4': 'Book Shore Excursions',
                    'travel-1': 'Book Flights to Miami',
                    'travel-2': 'Arrange Airport Transfers',
                    'travel-3': 'Pre-Cruise Hotel Stay',
                    'travel-4': 'Parking at Port Arranged',
                    'health-1': 'Review Health Protocols',
                    'health-2': 'Complete Health Questionnaire',
                    'health-3': 'Pack Medications + Copies',
                    'health-4': 'Motion Sickness Remedies',
                    'onboard-1': 'Download Royal App',
                    'onboard-2': 'Complete eMuster Review',
                    'onboard-3': 'Set Up Onboard Chat',
                    'onboard-4': 'Book Specialty Dining',
                    'packing-1': 'Create Packing List',
                    'packing-2': 'Purchase Cruise Essentials',
                    'packing-3': 'Pack Luggage',
                    'packing-4': 'Prepare Carry-On Bag'
                };
                return taskElements[taskId] || taskId;
            }
            
            // Update critical badge
            function updateCriticalBadge() {
                const criticalTasks = Object.keys(tasks).filter(key => key.startsWith('critical') && !tasks[key]).length;
                const criticalBadge = document.getElementById('criticalBadge');
                const criticalCount = document.getElementById('criticalCount');
                
                criticalCount.textContent = criticalTasks;
                
                if (criticalTasks === 0) {
                    criticalBadge.classList.remove('status-badge--critical');
                    criticalBadge.classList.add('status-badge--success');
                    criticalBadge.innerHTML = '<i class="fas fa-check-circle"></i> All Critical Tasks Complete';
                } else {
                    criticalBadge.classList.add('status-badge--critical');
                    criticalBadge.classList.remove('status-badge--success');
                    criticalBadge.innerHTML = `<i class="fas fa-exclamation-triangle"></i> ${criticalTasks} Critical Tasks Pending`;
                }
            }
            
            // Show toast notification
            const toast = document.getElementById('toast');
            const toastClose = document.getElementById('toastClose');
            const toastMessage = document.getElementById('toastMessage');
            
            function showToast(message, duration = 3000) {
                toastMessage.textContent = message;
                toast.classList.add('show');
                
                setTimeout(() => {
                    toast.classList.remove('show');
                }, duration);
            }
            
            setTimeout(() => {
                showToast('Welcome to Cruise Operations! Track your pre-cruise checklist here. ‚úÖ');
            }, 1000);
            
            toastClose.addEventListener('click', () => {
                toast.classList.remove('show');
            });
            
            // Button functionality
            document.getElementById('printChecklistBtn').addEventListener('click', function() {
                showToast('Opening print dialog...');
                setTimeout(() => {
                    window.print();
                }, 500);
            });
            
            document.getElementById('markAllCompleteBtn').addEventListener('click', function() {
                Object.keys(tasks).forEach(taskId => {
                    tasks[taskId] = true;
                    const checkbox = document.querySelector(`.task-checkbox[data-task="${taskId}"]`);
                    const taskItem = document.getElementById(`task-${taskId}`);
                    
                    if (checkbox) {
                        checkbox.classList.add('checked');
                        if (taskItem) {
                            taskItem.classList.add('completed');
                            taskItem.classList.remove('critical');
                        }
                    }
                });
                
                updateProgress();
                updateCriticalBadge();
                showToast('All tasks marked as complete! üéâ');
                
                // Update button text temporarily
                this.innerHTML = '<i class="fas fa-check"></i> All Complete!';
                this.classList.remove('btn--outline');
                this.classList.add('btn--primary');
                
                setTimeout(() => {
                    this.innerHTML = '<i class="fas fa-check-double"></i> Mark All Complete';
                    this.classList.remove('btn--primary');
                    this.classList.add('btn--outline');
                }, 2000);
                
                // Save to localStorage
                localStorage.setItem('cruiseOperationsTasks', JSON.stringify(tasks));
            });
            
            document.getElementById('exportChecklistBtn').addEventListener('click', function() {
                this.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Exporting...';
                
                setTimeout(() => {
                    this.innerHTML = '<i class="fas fa-file-pdf"></i> Exported!';
                    this.classList.remove('btn--outline');
                    this.classList.add('btn--primary');
                    showToast('Checklist exported as PDF! Download will start shortly.');
                    
                    // Simulate PDF download
                    const data = JSON.stringify(tasks, null, 2);
                    const blob = new Blob([data], { type: 'application/json' });
                    const url = window.URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = 'cruise-checklist-' + new Date().toISOString().split('T')[0] + '.json';
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a);
                    window.URL.revokeObjectURL(url);
                    
                    setTimeout(() => {
                        this.innerHTML = '<i class="fas fa-file-export"></i> Export to PDF';
                        this.classList.remove('btn--primary');
                        this.classList.add('btn--outline');
                    }, 2000);
                }, 1500);
            });
            
            // Quick action cards
            document.getElementById('action-checkin').addEventListener('click', function() {
                showToast('Opening Royal Caribbean Online Check-In...');
                setTimeout(() => {
                    window.open('https://www.royalcaribbean.com/onlinecheckin', '_blank');
                }, 500);
            });
            
            document.getElementById('action-app').addEventListener('click', function() {
                showToast('Redirecting to Royal Caribbean App download...');
                setTimeout(() => {
                    window.open('https://www.royalcaribbean.com/mobile-cruise-app', '_blank');
                }, 500);
            });
            
            document.getElementById('action-excursions').addEventListener('click', function() {
                showToast('Opening Shore Excursions portal...');
                setTimeout(() => {
                    window.open('https://www.royalcaribbean.com/shore-excursions', '_blank');
                }, 500);
            });
            
            document.getElementById('action-dining').addEventListener('click', function() {
                showToast('Opening Specialty Dining reservations...');
                setTimeout(() => {
                    window.open('https://www.royalcaribbean.com/cruise-dining', '_blank');
                }, 500);
            });
            
            // Initialize progress
            updateProgress();
            updateCriticalBadge();
            
            // Load saved progress
            const savedTasks = localStorage.getItem('cruiseOperationsTasks');
            if (savedTasks) {
                try {
                    const parsedTasks = JSON.parse(savedTasks);
                    Object.keys(parsedTasks).forEach(taskId => {
                        if (tasks.hasOwnProperty(taskId)) {
                            tasks[taskId] = parsedTasks[taskId];
                            
                            const checkbox = document.querySelector(`.task-checkbox[data-task="${taskId}"]`);
                            const taskItem = document.getElementById(`task-${taskId}`);
                            
                            if (checkbox) {
                                if (parsedTasks[taskId]) {
                                    checkbox.classList.add('checked');
                                    if (taskItem) {
                                        taskItem.classList.add('completed');
                                        taskItem.classList.remove('critical');
                                    }
                                } else {
                                    checkbox.classList.remove('checked');
                                    if (taskItem) {
                                        taskItem.classList.remove('completed');
                                        if (taskId.startsWith('critical')) {
                                            taskItem.classList.add('critical');
                                        }
                                    }
                                }
                            }
                        }
                    });
                    
                    updateProgress();
                    updateCriticalBadge();
                    showToast('Previous progress restored from local storage. üìÅ');
                } catch (e) {
                    console.error('Error loading saved tasks:', e);
                }
            }
            
            // Add animations to action cards
            document.querySelectorAll('.action-card').forEach(card => {
                card.addEventListener('click', function() {
                    this.style.transform = 'scale(0.95)';
                    setTimeout(() => {
                        this.style.transform = '';
                    }, 200);
                });
            });
            
            // Add hover effect to timeline items
            document.querySelectorAll('.timeline-item').forEach(item => {
                item.addEventListener('mouseenter', function() {
                    const dot = this.querySelector('.timeline-dot');
                    if (dot) {
                        dot.style.transform = 'scale(1.2)';
                    }
                });
                
                item.addEventListener('mouseleave', function() {
                    const dot = this.querySelector('.timeline-dot');
                    if (dot) {
                        dot.style.transform = '';
                    }
                });
            });
            
            // Add priority-success class for completed tasks
            const style = document.createElement('style');
            style.textContent = `
                .priority-success {
                    background: rgba(39, 174, 96, 0.1);
                    color: var(--success);
                    border: 1px solid rgba(39, 174, 96, 0.2);
                }
            `;
            document.head.appendChild(style);
        });
    </script>
</body>
</html>
