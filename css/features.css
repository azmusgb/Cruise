/* Feature and page-scoped rules */
@layer features {
/* Itinerary */
.itinerary-card,
.day-card,
.timeline-card,
.deck-card {
  padding: var(--space-lg) !important;
}

/* Gallery */
.gallery-grid,
.photo-grid {
  gap: var(--space-lg) !important;
}
.photo-card img,
.gallery-item img {
  border-radius: var(--radius-md);
}
.photo-modal,
.modal,
.deck-modal {
  transition: opacity 220ms ease, transform 220ms ease;
}
.modal-backdrop,
.deck-modal__backdrop {
  background: color-mix(in hsl, black 75%, var(--accent-blue));
}

/* Comments */
.comment,
.comment-item,
.comment-card {
  border-radius: 18px !important;
  padding: var(--space-md) var(--space-lg) !important;
  background: color-mix(in hsl, var(--bg-card) 78%, var(--bg-ocean));
}
.comment-avatar,
.avatar {
  inline-size: 40px;
  block-size: 40px;
  border-radius: 50%;
  background: linear-gradient(145deg, var(--accent-blue), var(--accent-teal));
}

/* Deck viewer */
.deck-modal__toolbar button,
.deck-vertical-indicator button,
#zoomIn,
#zoomOut {
  min-width: 44px;
  min-height: 44px;
  border-radius: 12px !important;
}
.room-selected,
.is-selected,
[data-selected="true"] {
  filter: drop-shadow(0 0 8px color-mix(in hsl, var(--accent-sun) 70%, white));
}

/* gentle reveal */
[data-reveal],
section {
  animation: fadeCruiseIn 420ms ease both;
}
@keyframes fadeCruiseIn {
  from { opacity: 0; transform: translateY(8px); }
  to { opacity: 1; transform: translateY(0); }
}

/* Migrated from page-inline-extracted.css */
/* Consolidated extracted page styles.
 * Source pages: index, plan, itinerary, decks, dining, rooms, ports, operations, tips, photos, contacts
 * Notes: styles are grouped per page block to keep ownership clear.
 */

/* Section Index
 * 1. plan
 * 2. ports
 * 3. contacts
 * 4. index
 * 5. decks
 * 6. dining
 * 7. itinerary
 * 8. rooms
 * 9. operations
 * 10. tips
 * 11. photos
 */
/* ===== plan.html ===== */
    .plan-page {
      position: relative;
      background: linear-gradient(180deg, #eef8ff 0%, #def1ff 52%, #cfeaff 78%, #c3e7fd 100%);
      color: #133553;
      min-height: 100vh;
    }

    .plan-page::before {
      content: "";
      position: fixed;
      left: -10%;
      right: -10%;
      bottom: -6%;
      height: 42vh;
      pointer-events: none;
      z-index: 0;
      opacity: 0.18;
      background:
        radial-gradient(120% 90% at 50% 100%, rgba(0, 164, 216, 0.45), rgba(0, 164, 216, 0) 62%),
        radial-gradient(80% 70% at 40% 100%, rgba(255, 206, 132, 0.55), rgba(255, 206, 132, 0) 66%);
      animation: planDrift 26s linear infinite;
    }

    @keyframes planDrift {
      0% { transform: translateX(0); }
      50% { transform: translateX(-1.8%); }
      100% { transform: translateX(0); }
    }

    .plan-page .hero__eyebrow {
      letter-spacing: 0.02em;
    }

    .plan-page .plan-band {
      position: relative;
      z-index: 1;
    }

    .plan-page .plan-band--top {
      background: linear-gradient(145deg, rgba(11, 79, 144, 0.06), rgba(25, 194, 255, 0.08), rgba(255, 255, 255, 0.95) 62%);
    }

    .plan-page .plan-band--embark {
      background: linear-gradient(145deg, rgba(255, 201, 58, 0.16), rgba(255, 255, 255, 0.92) 44%);
      border-color: rgba(255, 176, 32, 0.26);
    }

    .plan-page .plan-band--blockers {
      background: linear-gradient(135deg, rgba(215, 63, 74, 0.08), rgba(255, 255, 255, 0.92) 42%);
      border-color: rgba(215, 63, 74, 0.26);
    }

    .plan-page .plan-band__title {
      color: #0d446c;
    }

    .plan-page .plan-band__subtitle {
      color: #305a7c;
    }

    .plan-card {
      background: rgba(255, 255, 255, 0.97);
      border: 1px solid rgba(0, 82, 165, 0.14);
      border-radius: 16px;
      padding: 14px;
      box-shadow: 0 10px 20px rgba(5, 54, 92, 0.08);
      transition: transform 180ms ease, box-shadow 180ms ease;
    }

    .plan-card h3 {
      margin: 0 0 6px;
      font-size: 1.06rem;
      color: #0f3f69;
    }

    .plan-card p {
      margin: 0;
      color: #2e5678;
      font-size: 0.93rem;
      line-height: 1.45;
    }

    .plan-card__list {
      margin: 10px 0 0;
      padding-left: 18px;
      color: #224b6e;
      display: grid;
      gap: 6px;
      font-size: 0.92rem;
    }

    .plan-links {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 12px;
    }

    .plan-link {
      min-height: 38px;
      border-radius: 999px;
      border: 1px solid rgba(0, 82, 165, 0.22);
      background: #fff;
      color: #0a4e8e;
      font-weight: 700;
      font-size: 0.86rem;
      padding: 8px 12px;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      transition: transform 160ms ease, box-shadow 160ms ease, background-color 160ms ease;
    }

    .plan-link:hover {
      transform: translateY(-1px);
      box-shadow: 0 8px 16px rgba(0, 96, 160, 0.16);
    }

    .plan-link--primary {
      background: #0072bf;
      border-color: #0072bf;
      color: #fff;
    }

    .plan-page .plan-checklist {
      margin: 0;
      padding: 0;
      list-style: none;
      display: grid;
      gap: 10px;
    }

    .plan-page .plan-checklist li {
      border: 1px solid rgba(0, 82, 165, 0.12);
      border-radius: 12px;
      background: #fff;
      padding: 10px 12px;
      color: #224b6e;
      font-size: 0.92rem;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .plan-page .plan-checklist li i {
      color: #0079d4;
    }

    .plan-page .plan-progress {
      display: grid;
      gap: 10px;
    }

    .plan-page .plan-progress__meter {
      width: 100%;
      height: 12px;
      border-radius: 999px;
      background: rgba(0, 82, 165, 0.1);
      overflow: hidden;
    }

    .plan-page .plan-progress__fill {
      height: 100%;
      width: 58%;
      background: linear-gradient(90deg, #0079d4, #19c2ff);
      border-radius: inherit;
    }

    @media (max-width: 768px) {
      .plan-page .plan-band__title {
        font-size: 1.1rem;
      }
    }

    @media (prefers-reduced-motion: reduce) {
      .plan-page::before {
        animation: none;
      }
      .plan-card,
      .plan-link {
        transition: none;
      }
    }

/* ===== ports.html ===== */
    .ports-page {
      background: linear-gradient(180deg, #eef8ff 0%, #def1ff 52%, #cfeaff 78%, #c3e7fd 100%);
      color: #153955;
    }

    .ports-page .port-band--intro {
      background: linear-gradient(145deg, rgba(11, 79, 144, 0.06), rgba(25, 194, 255, 0.08), rgba(255, 255, 255, 0.95) 62%);
    }

    .ports-page .port-band--highlight {
      border-color: rgba(255, 176, 32, 0.3);
      background: linear-gradient(145deg, rgba(255, 201, 58, 0.16), rgba(255, 255, 255, 0.92) 44%);
    }

    .ports-page .port-band__title {
      color: #0d426f;
    }

    .ports-page .port-band__subtitle {
      color: #315a7c;
    }

    .port-grid {
      display: grid;
      gap: 14px;
    }

    .port-card {
      background: rgba(255, 255, 255, 0.97);
      border: 1px solid rgba(0, 82, 165, 0.14);
      border-radius: 18px;
      overflow: hidden;
      box-shadow: 0 10px 20px rgba(5, 54, 92, 0.08);
      transition: transform 180ms ease, box-shadow 180ms ease;
    }

    .ports-page .port-card--feature {
      border-color: rgba(255, 176, 32, 0.35);
      box-shadow: 0 10px 22px rgba(255, 176, 32, 0.14);
    }

    .port-card__image {
      width: 100%;
      height: clamp(160px, 28vw, 220px);
      object-fit: cover;
      display: block;
    }

    .port-card__content {
      padding: 14px;
      display: grid;
      gap: 8px;
    }

    .port-card h3 {
      margin: 0;
      color: #0f3f69;
      font-size: 1.08rem;
    }

    .port-subtitle {
      margin: 0;
      color: #2d5679;
      font-size: 0.92rem;
    }

    .port-list {
      margin: 0;
      padding-left: 18px;
      color: #20496b;
      font-size: 0.91rem;
      display: grid;
      gap: 5px;
    }

    .port-actions {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 2px;
    }

    .port-action {
      min-height: 38px;
      border-radius: 999px;
      border: 1px solid rgba(0, 82, 165, 0.22);
      background: #fff;
      color: #0a4e8e;
      font-weight: 700;
      font-size: 0.84rem;
      padding: 8px 12px;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      transition: transform 160ms ease, box-shadow 160ms ease, background-color 160ms ease;
    }

    .port-action:hover {
      transform: translateY(-1px);
      box-shadow: 0 8px 16px rgba(0, 96, 160, 0.14);
    }

    .ports-page .port-glance {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(210px, 1fr));
      gap: 10px;
    }

    .ports-page .port-glance__item {
      border: 1px solid rgba(0, 82, 165, 0.14);
      border-radius: 12px;
      background: rgba(255, 255, 255, 0.97);
      padding: 10px 12px;
      color: #214b6f;
      font-size: 0.9rem;
    }

    .ports-page .port-glance__item strong {
      display: block;
      color: #0d426f;
      margin-bottom: 4px;
    }

/* ===== contacts.html ===== */
    .hero--contacts {
      margin-bottom: 18px;
    }

    .hero--contacts .hero__title {
      font-size: clamp(1.7rem, 4vw, 2.3rem);
    }

    .hero--contacts .hero__description {
      max-width: 64ch;
    }

    .contact-context {
      display: grid;
      gap: 8px;
      margin-bottom: 14px;
      padding: 12px 14px;
      border-radius: 14px;
      border: 1px solid rgba(0, 82, 165, 0.18);
      background: linear-gradient(135deg, rgba(11, 79, 144, 0.95), rgba(0, 121, 212, 0.92));
      color: #fff;
    }

    .contact-context__body {
      margin: 0;
      font-size: 0.9rem;
      color: rgba(255, 255, 255, 0.92);
    }

    .contact-context__action {
      justify-self: start;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.42);
      background: rgba(255, 255, 255, 0.12);
      color: #fff;
      font-size: 0.84rem;
      font-weight: 700;
      padding: 7px 11px;
      transition: background 0.2s ease, transform 0.2s ease;
    }

    .contact-context__action:hover {
      background: rgba(255, 255, 255, 0.2);
      transform: translateY(-1px);
    }

    .contact-context--port {
      border-color: rgba(255, 201, 58, 0.45);
      background: linear-gradient(135deg, rgba(11, 79, 144, 0.94), rgba(0, 88, 153, 0.95));
    }

    .contact-context--sea {
      border-color: rgba(25, 194, 255, 0.45);
    }

    .contact-sections {
      display: grid;
      gap: 14px;
      margin-bottom: 20px;
    }

    .contact-section {
      background: #fff;
      border: 1px solid var(--royal-border);
      border-radius: 16px;
      padding: 14px;
      scroll-margin-top: 104px;
    }

    .contact-section:focus {
      outline: 2px solid rgba(0, 121, 212, 0.5);
      outline-offset: 2px;
    }

    .contact-section--priority {
      box-shadow: 0 0 0 3px rgba(0, 121, 212, 0.14);
      border-color: rgba(0, 121, 212, 0.35);
    }

    .contact-section__header {
      margin-bottom: 8px;
    }

    .contact-section__title {
      margin: 0 0 4px;
      font-size: 1.1rem;
      color: var(--royal-navy);
    }

    .contact-section__subtitle {
      margin: 0;
      color: #355b7d;
      font-size: 0.92rem;
    }

    .contact-list {
      display: grid;
      gap: 10px;
      margin-top: 10px;
    }

    .contact-row {
      border: 1px solid rgba(0, 82, 165, 0.12);
      border-radius: 12px;
      padding: 12px;
      background: #fff;
      display: grid;
      gap: 8px;
      grid-template-columns: 1fr auto;
      align-items: center;
    }

    .contact-row--emergency {
      border-left: 4px solid #d73f4a;
      background: #fff5f5;
    }

    .contact-row__main {
      min-width: 0;
    }

    .contact-row__name {
      margin: 0 0 4px;
      font-size: 0.98rem;
      color: #0f3e68;
    }

    .contact-row__value {
      margin: 0;
      color: #294f70;
      font-size: 0.92rem;
      line-height: 1.4;
      word-break: break-word;
    }

    .contact-row__meta {
      margin: 4px 0 0;
      color: #4e6e89;
      font-size: 0.84rem;
    }

    .contact-row__actions {
      display: inline-flex;
      gap: 8px;
      align-items: center;
      justify-content: flex-end;
      flex-wrap: wrap;
    }

    .contact-btn,
    .copy-btn {
      min-height: 38px;
      border-radius: 999px;
      border: 1px solid var(--royal-border);
      background: #fff;
      color: #0b4f90;
      font-weight: 700;
      font-size: 0.86rem;
      padding: 8px 12px;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      cursor: pointer;
    }

    .contact-btn--primary {
      background: #005fb0;
      color: #fff;
      border-color: #005fb0;
    }

    .copy-btn:hover,
    .contact-btn:hover {
      background: #f0f7ff;
    }

    .copy-btn.copy-success {
      background: #e6f4e6;
      border-color: #2e7d32;
      color: #2e7d32;
    }

    .contact-btn--primary:hover {
      background: #004c8d;
    }

    .verification-note {
      margin: 12px 0 0;
      font-size: 0.84rem;
      color: #5b7288;
    }

    .resources-list {
      margin: 10px 0 0;
      display: grid;
      gap: 8px;
    }

    .resource-item {
      padding: 10px 12px;
      border: 1px dashed rgba(0, 82, 165, 0.26);
      border-radius: 12px;
      background: #fcfeff;
    }

    .resource-item p {
      margin: 0;
      font-size: 0.9rem;
      color: #244a6b;
    }

    .resource-item strong {
      color: #0c456f;
    }

    .editable-contact {
      display: grid;
      gap: 8px;
      margin-top: 8px;
    }

    .editable-contact__label {
      margin: 0;
      font-size: 0.84rem;
      font-weight: 700;
      color: #325776;
      text-transform: uppercase;
      letter-spacing: 0.02em;
    }

    .editable-contact__row {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      align-items: center;
    }

    .editable-contact__value {
      flex: 1;
      min-width: 220px;
      margin: 0;
      font-size: 0.92rem;
      color: #1e486a;
    }

    .contact-btn--ghost {
      background: #fff;
      color: #0b4f90;
    }

    @media (max-width: 768px) {
      .hero--contacts {
        margin-bottom: 12px;
      }

      .contact-context {
        margin-bottom: 12px;
      }

      .contact-row {
        grid-template-columns: 1fr;
        align-items: flex-start;
        padding: 14px;
      }

      .contact-row__actions {
        justify-content: flex-start;
        width: 100%;
      }

      .contact-btn,
      .copy-btn {
        min-height: 42px;
        font-size: 0.92rem;
      }

      .contact-section {
        padding: 12px;
      }
    }

/* ===== index.html ===== */
.dashboard-page {
      --type-title-xl: clamp(2.55rem, 6.6vw, 4.35rem);
      --type-title-lg: clamp(1.55rem, 2.7vw, 2.1rem);
      --type-subtitle: clamp(1rem, 2vw, 1.18rem);
      --space-section: 26px;
      background: linear-gradient(180deg, #eef8ff 0%, #def1ff 52%, #cfeaff 78%, #c3e7fd 100%);
    }

    .dashboard-page .search-status {
      width: 100%;
      margin: 4px 0 0;
      font-size: 0.9rem;
      color: var(--royal-navy);
      font-weight: 600;
    }

    .dashboard-page .deck-hero {
      min-height: clamp(360px, 54vw, 540px);
      margin-bottom: 18px;
    }

    .dashboard-page .hero--cinematic {
      position: relative;
      overflow: hidden;
      border-radius: 24px;
      margin: 18px auto;
      min-height: clamp(360px, 54vw, 540px);
      max-width: 1200px;
      box-shadow: 0 14px 28px rgba(5, 62, 96, 0.14);
      isolation: isolate;
    }

    .dashboard-page .hero__media,
    .dashboard-page .hero__media img,
    .dashboard-page .hero__overlay,
    .dashboard-page .hero__content {
      position: absolute;
      inset: 0;
    }

    .dashboard-page .hero__media img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      object-position: center 30%;
      transform-origin: center;
      transform: scale(1.06);
      transition: transform 900ms cubic-bezier(.2, .9, .2, 1);
      will-change: transform;
    }

    .dashboard-page .hero--cinematic.is-ready .hero__media img {
      transform: scale(1);
    }

    .dashboard-page .hero__overlay {
      background:
        radial-gradient(circle at 20% 18%, rgba(255, 214, 132, 0.34), transparent 56%),
        radial-gradient(circle at 72% 74%, rgba(121, 222, 255, 0.24), transparent 46%),
        linear-gradient(180deg, rgba(187, 230, 252, 0.4) 0%, rgba(96, 181, 222, 0.42) 54%, rgba(44, 131, 176, 0.28) 100%);
      opacity: 0.94;
      transition: opacity 800ms ease;
      background-size: 170% 170%, 180% 180%, 100% 100%;
      background-position: 0% 50%, 100% 40%, center;
      will-change: opacity, background-position;
    }

    .dashboard-page .hero--cinematic.is-ready .hero__overlay {
      opacity: 1;
      background:
        radial-gradient(circle at 20% 18%, rgba(255, 216, 142, 0.4), transparent 58%),
        radial-gradient(circle at 72% 74%, rgba(128, 225, 255, 0.32), transparent 46%),
        linear-gradient(180deg, rgba(194, 234, 253, 0.44) 0%, rgba(102, 186, 226, 0.5) 56%, rgba(50, 137, 182, 0.3) 100%);
      background-size: 170% 170%, 180% 180%, 100% 100%;
    }

    .dashboard-page .hero--cinematic.is-cruise-mode .hero__overlay {
      animation: oceanShift 18s ease-in-out infinite;
    }

    .dashboard-page .hero__content {
      position: relative;
      display: flex;
      flex-direction: column;
      justify-content: flex-end;
      gap: 10px;
      padding: clamp(22px, 4.5vw, 42px);
      color: #f8fcff;
      z-index: 1;
    }

    .dashboard-page .hero__content::before {
      content: '';
      position: absolute;
      inset: auto 0 0 0;
      height: clamp(180px, 36%, 260px);
      border-radius: 18px;
      background: linear-gradient(180deg, rgba(12, 101, 148, 0) 0%, rgba(12, 101, 148, 0.18) 100%);
      pointer-events: none;
      z-index: -1;
    }

    .dashboard-page .hero__content h1 {
      margin: 0;
      font-size: var(--type-title-xl);
      line-height: 1.04;
      letter-spacing: -0.015em;
      text-shadow: 0 6px 12px rgba(6, 55, 85, 0.18);
      opacity: 0;
      transform: translateY(12px);
      transition: opacity 600ms ease, transform 600ms ease;
    }

    .dashboard-page .hero--cinematic.is-ready h1 {
      opacity: 1;
      transform: translateY(0);
    }

    .dashboard-page .phase-banner {
      margin: 0;
      width: fit-content;
      padding: 5px 12px;
      border-radius: 999px;
      background: rgba(255, 255, 255, 0.26);
      border: 1px solid rgba(255, 231, 166, 0.62);
      color: #fff4cc;
      font-size: 0.88rem;
      font-weight: 700;
      opacity: 0;
      transition: opacity 600ms ease;
    }

    .dashboard-page .hero--cinematic.is-ready .phase-banner {
      opacity: 1;
    }

    .dashboard-page #countdown {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      align-items: center;
    }

    .dashboard-page .countdown-unit {
      opacity: 0;
      transform: translateY(12px);
      transition: opacity 320ms ease, transform 320ms ease;
      border: 1px solid rgba(255, 255, 255, 0.3);
      border-radius: 12px;
      background: rgba(255, 255, 255, 0.24);
      padding: 9px 12px;
      min-width: 88px;
    }

    .dashboard-page .countdown-unit.is-visible {
      opacity: 1;
      transform: translateY(0);
    }

    .dashboard-page .countdown-unit strong {
      display: block;
      font-size: 1.15rem;
      line-height: 1;
      margin-bottom: 4px;
    }

    .dashboard-page .countdown-unit span {
      font-size: 0.78rem;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      opacity: 0.9;
    }

    .dashboard-page .deck-hero::before {
      background:
        radial-gradient(circle at 16% 20%, rgba(255, 255, 255, 0.26), transparent 34%),
        radial-gradient(circle at 84% 80%, rgba(255, 255, 255, 0.18), transparent 38%),
        linear-gradient(180deg, rgba(6, 86, 130, 0.24) 0%, rgba(6, 86, 130, 0.14) 52%, rgba(6, 86, 130, 0.34) 100%);
      animation: dashboardHeroPulse 14s ease-in-out infinite alternate;
    }

    .dashboard-page .deck-hero::after {
      content: '';
      position: absolute;
      inset: -12%;
      pointer-events: none;
      background: linear-gradient(118deg, rgba(25, 194, 255, 0) 0%, rgba(25, 194, 255, 0.18) 47%, rgba(255, 223, 137, 0) 100%);
      mix-blend-mode: screen;
      animation: dashboardHeroDrift 11s ease-in-out infinite alternate;
    }

    .dashboard-page .deck-hero__title {
      font-size: var(--type-title-xl);
      line-height: 1.06;
      letter-spacing: -0.015em;
      text-shadow: 0 10px 18px rgba(5, 43, 68, 0.28);
      margin-bottom: 10px;
      max-width: 16ch;
    }

    .dashboard-page .deck-hero__eyebrow {
      font-weight: 800;
      letter-spacing: 0.02em;
      background: rgba(5, 81, 122, 0.28);
      border-color: rgba(255, 223, 137, 0.55);
      box-shadow: 0 10px 18px rgba(2, 18, 34, 0.22);
    }

    .dashboard-page .deck-hero__eyebrow strong {
      color: #ffe7a6;
      font-weight: 900;
    }

    .dashboard-page .deck-hero__subtitle {
      max-width: 52ch;
      font-size: var(--type-subtitle);
      color: rgba(244, 251, 255, 0.98);
    }

    .dashboard-page .deck-grid {
      margin-top: var(--space-section);
    }

    .dashboard-page .deck-grid__title {
      font-size: var(--type-title-lg);
      line-height: 1.15;
      letter-spacing: -0.01em;
    }

    @keyframes dashboardHeroPulse {
      from { transform: scale(1.01); }
      to { transform: scale(1.06); }
    }

    @keyframes dashboardHeroDrift {
      from { transform: translateX(-2%) translateY(0); opacity: 0.44; }
      to { transform: translateX(2%) translateY(-1.5%); opacity: 0.72; }
    }

    @keyframes oceanShift {
      0% { background-position: 0% 50%, 100% 40%, center; }
      50% { background-position: 100% 50%, 0% 55%, center; }
      100% { background-position: 0% 50%, 100% 40%, center; }
    }

    .dashboard-page .secondary-groups {
      margin-bottom: 28px;
    }

    .dashboard-page .secondary-groups__inner {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 14px;
    }

    .dashboard-page .secondary-group {
      background: rgba(255, 255, 255, 0.93);
      border: 1px solid var(--royal-border);
      border-radius: 14px;
      padding: 14px 16px;
      box-shadow: 0 10px 20px rgba(0, 59, 117, 0.08);
      backdrop-filter: blur(4px);
    }

    .dashboard-page .secondary-group h3 {
      margin: 0 0 4px;
      color: var(--royal-navy);
      font-size: 1rem;
    }

    .dashboard-page .secondary-group__title {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .dashboard-page .secondary-group__icon {
      width: 28px;
      height: 28px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      background: linear-gradient(135deg, #0b4f90, #19c2ff);
      color: #fff;
      font-size: 0.8rem;
    }

    .dashboard-page .secondary-group p {
      margin: 0 0 10px;
      font-size: 0.9rem;
      color: var(--royal-ink);
      opacity: 0.85;
    }

    .dashboard-page .group-link {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      text-decoration: none;
      font-weight: 700;
      color: var(--royal-blue);
      font-size: 0.9rem;
    }

    .dashboard-page .deck-grid__header {
      margin-bottom: 10px;
    }

    .dashboard-page .priority-note {
      margin: 0 0 16px;
      color: var(--royal-ink);
      opacity: 0.92;
      font-size: 0.95rem;
    }

    .dashboard-page .deck-card {
      position: relative;
    }

    .dashboard-page .priority-badge {
      position: absolute;
      top: 12px;
      right: 12px;
      z-index: 2;
      border-radius: 999px;
      padding: 4px 9px;
      font-size: 0.72rem;
      font-weight: 800;
      letter-spacing: 0.04em;
      text-transform: uppercase;
      color: #fff;
      background: #d73f4a;
      box-shadow: 0 6px 16px rgba(215, 63, 74, 0.35);
    }

    .dashboard-page .priority-badge--normal {
      background: #2f7d62;
      box-shadow: 0 6px 16px rgba(47, 125, 98, 0.35);
    }

    .dashboard-page .search-empty {
      margin-top: 12px;
      background: #fff;
      border: 1px dashed var(--royal-border);
      border-radius: 12px;
      padding: 14px 16px;
      font-size: 0.95rem;
      color: var(--royal-ink);
    }

    .dashboard-page .tour-card {
      margin: 16px auto 28px;
      padding: 14px 16px;
      border-radius: 14px;
      border: 1px solid var(--royal-border);
      background: linear-gradient(145deg, #ffffff, #f4fbff);
      box-shadow: 0 10px 20px rgba(0, 59, 117, 0.08);
      display: flex;
      align-items: flex-start;
      justify-content: space-between;
      gap: 12px;
    }

    .dashboard-page .tour-card h3 {
      margin: 0 0 6px;
      color: var(--royal-navy);
      font-size: 1rem;
    }

    .dashboard-page .tour-card p {
      margin: 0;
      font-size: 0.92rem;
    }

    .dashboard-page .tour-card__actions {
      display: inline-flex;
      gap: 8px;
      flex-wrap: wrap;
      margin-top: 8px;
    }

    .dashboard-page .tour-btn {
      border: 1px solid var(--royal-border);
      background: #fff;
      color: var(--royal-navy);
      font-size: 0.82rem;
      font-weight: 700;
      border-radius: 999px;
      padding: 6px 10px;
      cursor: pointer;
    }

    .dashboard-page .search-status.is-loading {
      opacity: 0.7;
    }

    .dashboard-page .main-navigation__search {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .dashboard-page .main-navigation__search i {
      left: 12px;
    }

    .dashboard-page .main-navigation__search input {
      padding-right: 44px;
    }

    .dashboard-page .search-clear {
      position: absolute;
      right: 8px;
      top: 50%;
      transform: translateY(-50%);
      width: 30px;
      height: 30px;
      border-radius: 999px;
      border: 1px solid var(--royal-border);
      background: #fff;
      color: var(--royal-navy);
      font-size: 0.85rem;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
    }

    .dashboard-page .search-clear:hover {
      background: #f0f7ff;
      border-color: rgba(0, 82, 165, 0.26);
    }

    .dashboard-page .search-clear[hidden] {
      display: none;
    }

    .dashboard-page .deck-visual {
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 14px;
    }

    .dashboard-page .deck-visual--topic {
      min-height: 86px;
      border-radius: 14px;
      border: 1px solid rgba(0, 82, 165, 0.1);
      background: linear-gradient(145deg, rgba(15, 92, 168, 0.1), rgba(255, 255, 255, 0.96));
      color: #0b4f90;
      display: inline-flex;
      align-items: center;
      gap: 10px;
      width: 100%;
      justify-content: center;
      font-weight: 700;
      letter-spacing: 0.02em;
    }

    .dashboard-page .deck-visual--topic i {
      font-size: 1rem;
    }

    .dashboard-page .search-empty {
      display: grid;
      gap: 10px;
      justify-items: start;
    }

    .dashboard-page .search-empty__reset {
      border: 1px solid var(--royal-border);
      background: #fff;
      color: var(--royal-blue);
      border-radius: 999px;
      padding: 8px 12px;
      font-weight: 700;
      cursor: pointer;
    }

    .term-help {
      border-bottom: 1px dotted rgba(17, 56, 95, 0.35);
      cursor: help;
      text-decoration: none;
    }

    .mobile-collapse-toggle {
      display: none;
    }

    @media (prefers-reduced-motion: reduce) {
      .dashboard-page .hero__media img,
      .dashboard-page .hero__overlay,
      .dashboard-page .hero__content h1,
      .dashboard-page .phase-banner,
      .dashboard-page .countdown-unit {
        transition-duration: 1ms !important;
        animation: none !important;
      }

      .dashboard-page .hero__media img,
      .dashboard-page .hero--cinematic.is-ready .hero__media img {
        transform: none;
      }

      .dashboard-page .hero__content h1,
      .dashboard-page .phase-banner,
      .dashboard-page .countdown-unit {
        opacity: 1;
        transform: none;
      }

      .dashboard-page .deck-hero::before {
        animation: none;
      }
      .dashboard-page .deck-hero::after {
        animation: none;
      }
    }

    @media (max-width: 768px) {
      .mobile-collapse-toggle {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        border: 1px solid var(--royal-border);
        background: #fff;
        color: var(--royal-navy);
        border-radius: 999px;
        padding: 6px 10px;
        font-size: 0.8rem;
        font-weight: 700;
      }

      .mobile-collapsible.is-collapsed .deck-cards,
      .mobile-collapsible.is-collapsed .priority-note {
        display: none;
      }

      .dashboard-page .header-utility {
        display: none;
      }

      .dashboard-page .deck-hero {
        padding: 14px 0 8px;
        margin-bottom: 8px;
        min-height: 0;
      }

      .dashboard-page main {
        display: flex;
        flex-direction: column;
      }

      .dashboard-page #dashboardPrioritiesSection {
        order: 3;
      }

      .dashboard-page #dashboardTour {
        order: 4;
      }

      .dashboard-page #dashboardSecondaryGroups {
        order: 5;
      }

      .dashboard-page #dashboardBaselineSection {
        order: 6;
      }

      .dashboard-page #dashboardDeadlinesSection {
        order: 7;
      }

      .dashboard-page .deck-hero__subtitle,
      .dashboard-page .page-spine,
      .dashboard-page .deck-hero__actions {
        display: none;
      }

      .dashboard-page .tour-card {
        margin: 8px auto 14px;
        padding: 12px;
      }

      .dashboard-page .deck-card {
        padding: 16px;
        border-radius: 18px;
        margin-bottom: 12px;
      }

      .dashboard-page .deck-card .deck-visual {
        display: none;
      }

      .dashboard-page .priority-badge {
        position: static;
        display: inline-block;
        margin-bottom: 10px;
        width: fit-content;
      }

      .dashboard-page .deck-highlights {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        margin: 12px 0;
      }

      .dashboard-page .deck-highlights span {
        background: #f0f7fc;
        padding: 6px 14px;
        border-radius: 999px;
        font-size: 0.85rem;
        color: #005a8c;
      }

      .dashboard-page .deck-card__cta {
        width: 100%;
        justify-content: center;
      }

      .dashboard-page .main-navigation__hint {
        display: none;
      }
    }

/* ===== decks.html ===== */
/* ———— MODERN RESET & GLOBAL ———— */
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html { scroll-behavior: smooth; }
    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      background: linear-gradient(160deg, #f4fbff 0%, #e6f5ff 52%, #def1ff 100%);
      color: #13293d;
      line-height: 1.5;
      -webkit-font-smoothing: antialiased;
    }
    :root {
      --accent: #00a4d8;
      --accent-soft: rgba(0,164,216,0.1);
      --accent-glow: rgba(0,164,216,0.3);
      --deep-navy: #0a1e32;
      --warm-gold: #ffb74d;
      --glass-bg: rgba(255,255,255,0.68);
      --glass-border: rgba(255,255,255,0.5);
      --card-shadow: 0 18px 36px -12px rgba(0,40,80,0.2);
      --transition-magic: 0.4s cubic-bezier(0.2, 0.9, 0.3, 1.1);
      --type-title-xl: clamp(2.45rem, 4.4vw, 3.25rem);
      --type-title-lg: clamp(1.7rem, 3vw, 2.2rem);
      --type-title-md: clamp(1.25rem, 2.2vw, 1.55rem);
      --space-section: 28px;
    }
    .container { max-width: 1400px; margin: 0 auto; padding: 0 28px; width: 100%; }
    .decks-shell {
      position: relative;
      isolation: isolate;
    }
    .decks-shell::before {
      content: '';
      position: absolute;
      inset: 0;
      pointer-events: none;
      z-index: 0;
      background:
        radial-gradient(circle at 20% 10%, rgba(0,121,212,0.05), transparent 40%),
        radial-gradient(circle at 80% 90%, rgba(0,121,212,0.04), transparent 50%);
    }
    .decks-shell > * { position: relative; z-index: 1; }
    @media (max-width: 640px) { .container { padding: 0 20px; } }

    /* ———— SCULPTED HERO ———— */
    .deck-hero {
      background: linear-gradient(180deg, #eaf6ff 0%, #cfeaff 50%, #bde5ff 100%);
      border-radius: 0 0 48px 48px;
      padding: 72px 24px 56px;
      margin-bottom: 16px;
      color: #0a2a4a;
      box-shadow: 0 12px 24px rgba(0,40,80,0.12);
      position: relative;
      isolation: isolate;
    }
    .deck-hero::after {
      content: '';
      position: absolute;
      inset: 0;
      background: url('data:image/svg+xml;utf8,<svg width="100" height="100" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><path d="M10 50 Q 30 30, 50 50 T 90 50" stroke="%23008ec4" opacity="0.12" fill="none" stroke-width="1"/><path d="M0 80 L 100 20" stroke="%23008ec4" opacity="0.08" stroke-width="0.8"/></svg>');
      pointer-events: none;
      border-radius: inherit;
    }
    .deck-hero__eyebrow {
      font-size: 0.9rem;
      text-transform: uppercase;
      letter-spacing: 3px;
      color: #1f6b97;
      font-weight: 600;
      margin-bottom: 8px;
    }
    .deck-hero__title {
      font-family: 'Plus Jakarta Sans', sans-serif;
      font-size: var(--type-title-xl);
      font-weight: 800;
      line-height: 1.07;
      color: #08395f;
      margin-bottom: 12px;
      letter-spacing: -0.01em;
    }
    .deck-hero__subtitle {
      margin-top: 18px;
      font-size: clamp(1.02rem, 1.6vw, 1.16rem);
      color: rgba(12, 74, 110, 0.92);
      max-width: 640px;
      margin-bottom: 28px;
      font-weight: 450;
    }
    .deck-hero__accent {
      width: 80px;
      height: 3px;
      margin-top: 20px;
      background: linear-gradient(
        to right,
        var(--warm-gold),
        rgba(255,183,77,0.4)
      );
      border-radius: 2px;
    }
    .deck-hero__tag {
      background: rgba(255,255,255,0.56);
      backdrop-filter: blur(4px);
      border: 1px solid rgba(16, 122, 170, 0.18);
      padding: 6px 16px;
      border-radius: 60px;
      font-size: 0.9rem;
      display: inline-block;
      margin-right: 10px;
      color: #0a4d77;
    }
    .page-spine {
      display: flex;
      flex-wrap: wrap;
      gap: 28px;
      margin: 36px 0 40px;
    }
    .page-spine__item { border-left: 4px solid var(--accent); padding-left: 18px; }
    .page-spine__label { display: block; font-weight: 700; color: #0d4067; font-size: 1.1rem; }
    .page-spine__meta { color: #2d6f97; font-size: 0.88rem; }

    /* ———— GLASS NAVIGATION ———— */
    .main-navigation {
      background: var(--glass-bg);
      backdrop-filter: blur(18px);
      border: 1px solid var(--glass-border);
      border-radius: 120px;
      margin: -32px auto 24px;
      padding: 12px 18px;
      max-width: 980px;
      box-shadow: 0 10px 22px rgba(0, 76, 120, 0.1);
    }
    .main-navigation__inner { display: flex; align-items: center; gap: 20px; flex-wrap: wrap; }
    .main-navigation__search {
      flex: 1;
      position: relative;
      display: flex;
      align-items: center;
      background: white;
      border-radius: 48px;
      padding: 8px 20px;
      box-shadow: inset 0 1px 4px rgba(0,0,0,0.02), 0 2px 8px rgba(0,164,216,0.12);
    }
    .main-navigation__search i { color: var(--accent); font-size: 1.1rem; margin-right: 10px; }
    #deckSearch {
      border: none;
      background: transparent;
      padding: 12px 0;
      font-size: 1rem;
      width: 100%;
      outline: none;
      font-weight: 500;
    }
    .main-navigation__hint { color: #6b8faa; font-size: 0.75rem; background: #eef6fd; padding: 6px 10px; border-radius: 32px; letter-spacing: 0.3px; }
    .pill-btn {
      background: white;
      border: none;
      padding: 10px 24px;
      border-radius: 48px;
      font-weight: 600;
      color: #1f4460;
      border: 1px solid transparent;
      transition: all 0.2s ease;
      box-shadow: 0 2px 6px rgba(0,0,0,0.02);
    }
    .pill-btn.is-active { background: var(--accent); color: white; box-shadow: 0 10px 18px rgba(0,121,212,0.35); border-color: white; }
    .main-navigation__filters { display: flex; gap: 8px; }

    /* ———— QUICK RAIL (LUXE SCROLL) ———— */
    .deck-quickrail-wrap { margin-top: 20px; }
    .deck-directory,
    .deck-grid {
      margin-top: var(--space-section);
    }
    .deck-quickrail {
      display: flex;
      gap: 12px;
      overflow-x: auto;
      padding: 12px 12px 20px;
      scrollbar-width: thin;
      scrollbar-color: var(--accent) #e3ecf2;
    }
    .deck-quickbtn,
    .deck-pill {
      background: white;
      border: 1px solid rgba(0,82,165,0.1);
      border-radius: 28px;
      padding: 12px 22px;
      font-weight: 700;
      color: #0a2a4a;
      transition: all 0.2s ease;
      box-shadow: 0 4px 10px rgba(0,60,120,0.06);
      border: none;
      background: linear-gradient(145deg, #ffffff, #f5fcff);
      display: inline-flex;
      align-items: center;
      gap: 8px;
      cursor: pointer;
    }
    .deck-quickbtn:hover,
    .deck-pill:hover {
      transform: translateY(-2px);
      background: white;
      box-shadow: 0 12px 20px -8px rgba(0,121,212,0.24);
    }
    .deck-quickbtn.is-active,
    .deck-pill.is-active {
      background: var(--accent);
      color: white;
      box-shadow: 0 8px 18px rgba(0,121,212,0.25);
      border: none;
      transform: translateY(-1px);
    }
    .deck-quickbtn__num { font-weight: 800; font-size: 1.2rem; letter-spacing: -0.5px; }
    .deck-quickbtn.is-active .deck-quickbtn__num,
    .deck-quickbtn.is-active .deck-quickbtn__sub,
    .deck-pill.is-active .deck-pill__number,
    .deck-pill.is-active .deck-pill__text { color: white; }
    .deck-quickbtn__sub { font-size: 0.75rem; opacity: 0.8; font-weight: 500; }

    /* ———— CATEGORY PILLS ———— */
    .deck-directory__header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 12px;
      margin-bottom: 14px;
    }
    .deck-directory__title {
      font-size: 1.15rem;
      font-weight: 800;
      color: #0d3f64;
      letter-spacing: -0.01em;
    }
    .deck-directory__toggle {
      border: 1px solid rgba(0,121,212,0.22);
      background: #f5fcff;
      color: #0b4a72;
      border-radius: 999px;
      padding: 8px 14px;
      font-size: 0.85rem;
      font-weight: 700;
      cursor: pointer;
    }
    .deck-directory__toggle[aria-expanded="true"] i {
      transform: rotate(180deg);
    }
    .deck-directory__toggle i {
      transition: transform 180ms ease;
      margin-left: 6px;
    }
    .deck-directory__panels[hidden] {
      display: none;
    }
    .category-card {
      background: rgba(255,255,255,0.7);
      backdrop-filter: blur(12px);
      border: 1px solid rgba(255,255,255,0.6);
      border-radius: 40px;
      padding: 24px 28px;
      margin-bottom: 20px;
      box-shadow: 0 8px 24px rgba(0,30,60,0.04);
    }
    .category-card__heading {
      font-size: 1.3rem;
      font-weight: 700;
      display: flex;
      align-items: center;
      gap: 12px;
      color: #0f446a;
    }
    .category-card__heading i {
      color: #0a7fb1;
      font-size: 1.1rem;
    }
    .deck-pills { display: flex; flex-wrap: wrap; gap: 12px; margin-top: 16px; }
    .deck-pill {
      padding: 10px 16px;
      border-radius: 999px;
      font-weight: 700;
    }
    .deck-pill__number { font-size: 0.82rem; opacity: 0.85; }
    .deck-pill__text { font-size: 0.82rem; }

    /* ———— DECK CARDS ———— */
    .deck-cards {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(360px, 1fr));
      gap: 32px;
      margin-top: 32px;
    }
    .deck-card {
      background: white;
      border-radius: 36px;
      padding: 24px;
      display: flex;
      gap: 20px;
      border: 1px solid rgba(0,80,130,0.08);
      transition: all 0.35s cubic-bezier(0.18,0.89,0.32,1.28);
      box-shadow: 0 8px 22px -10px rgba(0,50,90,0.14);
      backdrop-filter: blur(4px);
    }
    .deck-card:hover {
      transform: translateY(-4px);
      border-color: var(--accent);
      box-shadow: 0 20px 30px -14px rgba(0,121,212,0.28);
    }
    .deck-visual {
      position: relative;
      width: 110px;
      flex-shrink: 0;
    }
    .deck-number {
      position: absolute;
      top: -8px;
      left: -8px;
      background: var(--deep-navy);
      color: white;
      font-weight: 800;
      width: 48px;
      height: 48px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 30px;
      font-size: 1.55rem;
      border: 3px solid white;
      box-shadow: 0 6px 14px rgba(0,0,0,0.1);
      z-index: 2;
    }
    .deck-visual img { width: 100%; height: 110px; object-fit: cover; border-radius: 24px; background: #cfe2f0; }
    .deck-info { flex: 1; }
    .deck-title {
      font-size: 1.6rem;
      font-weight: 800;
    }
    .deck-subtitle {
      color: var(--accent);
      font-weight: 600;
    }
    .deck-highlights { display: flex; flex-wrap: wrap; gap: 8px; margin: 12px 0; }
    .deck-highlights span { background: #e9f3fb; padding: 5px 12px; border-radius: 30px; font-size: 0.75rem; font-weight: 600; color: #0c4973; }
    .deck-card__cta {
      margin-top: 16px;
      background: var(--accent);
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 60px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.25s ease;
    }
    .deck-card__cta:hover {
      transform: translateY(-2px);
      box-shadow: 0 14px 28px rgba(0,121,212,0.35);
    }
    .deck-card--entertainment {
      background: linear-gradient(145deg, #ffffff, #f7fbff);
    }
    .deck-card--wellness {
      background: linear-gradient(145deg, #ffffff, #f4fbf8);
    }
    .deck-card--essential {
      background: linear-gradient(145deg, #ffffff, #f9f9fc);
    }

    .deck-grid__header {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      gap: 16px;
      flex-wrap: wrap;
    }

    .deck-grid__title {
      font-size: var(--type-title-lg);
      font-weight: 800;
      line-height: 1.15;
      letter-spacing: -0.012em;
      color: #0a344f;
    }

    .deck-grid__counts {
      display: flex;
      gap: 16px;
      flex-wrap: wrap;
    }

    .count-chip {
      background: white;
      padding: 8px 18px;
      border-radius: 60px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.04);
    }

    .count-chip--strong {
      font-weight: 700;
    }

    .deck-empty {
      text-align: center;
      padding: 56px;
      background: white;
      border-radius: 48px;
      margin-top: 36px;
    }

    .deck-empty__icon {
      font-size: 4rem;
    }

    .deck-empty__title {
      margin-top: 8px;
    }

    /* ———— MODAL ———— */
    .deck-modal {
      position: fixed;
      inset: 0;
      z-index: 6000;
      display: none;
      align-items: center;
      justify-content: center;
    }
    .deck-modal.is-open { display: flex; }
    .deck-modal__backdrop {
      position: fixed; inset: 0; background: rgba(13, 63, 97, 0.42);
      backdrop-filter: blur(8px);
    }
    .deck-modal__dialog {
      position: relative;
      background: linear-gradient(145deg, #ffffff, #f6fdff);
      border-radius: 48px;
      max-width: 1200px;
      width: min(94vw, 1200px);
      max-height: calc(100vh - env(safe-area-inset-top) - env(safe-area-inset-bottom) - 20px);
      box-shadow: 0 28px 54px rgba(6, 58, 92, 0.22);
      border: 1px solid rgba(255,255,255,0.72);
      overflow: hidden;
      display: flex;
      flex-direction: column;
      margin: calc(env(safe-area-inset-top) + 10px) 0 calc(env(safe-area-inset-bottom) + 10px);
    }
    .deck-vertical-indicator {
      position: absolute;
      left: 18px;
      top: 50%;
      transform: translateY(-50%);
      display: flex;
      flex-direction: column;
      gap: 6px;
      z-index: 10;
    }
    .deck-vertical-indicator button {
      background: transparent;
      border: none;
      font-size: 0.7rem;
      font-weight: 700;
      color: rgba(0,0,0,0.35);
      cursor: pointer;
      transition: all 0.2s ease;
      padding: 4px 6px;
    }
    .deck-vertical-indicator button.active {
      color: var(--warm-gold);
      transform: scale(1.15);
    }
    .deck-vertical-indicator button:hover {
      color: var(--accent);
    }
    .deck-modal__toolbar {
      background: rgba(255,255,255,0.7);
      backdrop-filter: blur(24px);
      padding: 16px 28px;
      display: grid;
      grid-template-columns: 1fr auto auto;
      align-items: center;
      gap: 12px;
      border-bottom: 1px solid rgba(0,82,165,0.1);
    }
    .toolbar-group { display: flex; gap: 10px; align-items: center; flex-wrap: wrap; }
    .toolbar-group--primary { justify-content: flex-start; }
    .toolbar-group--secondary { justify-content: flex-end; }
    .btn-icon, .labeled-btn {
      background: white; border: none; padding: 12px 16px; border-radius: 40px;
      font-weight: 600; display: flex; align-items: center; gap: 8px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.02);
      transition: 0.2s;
    }
    .btn-icon:hover, .labeled-btn:hover { background: var(--accent); color: white; transform: translateY(-1px); }
    .btn-icon:active, .labeled-btn:active {
      transform: scale(0.92);
      box-shadow: 0 2px 6px rgba(0,0,0,0.12);
    }
    .close-btn { font-size: 1.8rem; background: none; border: none; width: 48px; border-radius: 40px; }
    .zoom-level { padding: 0 10px; font-weight: 700; }
    .deck-modal__body { padding: 28px; overflow-y: auto; }
    .deck-modal__title {
      font-size: var(--type-title-md);
      font-weight: 800;
      line-height: 1.15;
      letter-spacing: -0.01em;
      transition: opacity 180ms ease, transform 180ms ease;
    }
    .deck-modal__title.is-swapping {
      opacity: 0;
      transform: translateY(6px);
    }
    .deck-modal__subtitle { color: #26648b; margin-bottom: 12px; }
    .deck-pan-hint {
      margin: 0 0 10px;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      font-size: 0.8rem;
      font-weight: 600;
      color: #1f5b87;
      background: #e7f5ff;
      border: 1px solid rgba(0, 121, 212, 0.2);
      border-radius: 999px;
      padding: 6px 12px;
      opacity: 0;
      transform: translateY(4px);
      transition: opacity 180ms ease, transform 180ms ease;
    }
    .deck-pan-hint.is-visible {
      opacity: 1;
      transform: translateY(0);
    }
    .deck-modal__frame { margin-top: 16px; }
    .deck-focuschips { display: flex; gap: 10px; flex-wrap: wrap; }
    .deck-focuschip {
      background: #eaf3ff;
      padding: 8px 18px;
      border-radius: 60px;
      border: none;
      font-weight: 600;
      color: #0e4d80;
      cursor: pointer;
      transition: transform 180ms ease, box-shadow 180ms ease, background-color 180ms ease;
    }
    .deck-focuschip:hover,
    .deck-focuschip:focus-visible {
      background: #dff0ff;
      transform: translateY(-1px);
      box-shadow: 0 8px 16px rgba(0, 121, 212, 0.18);
      outline: none;
    }
    .deck-focuschip.is-active {
      background: #cfe9ff;
      color: #083d67;
      box-shadow: 0 8px 18px rgba(0, 121, 212, 0.22);
    }
    .deck-plan-stage {
      background: linear-gradient(165deg, #2f85b3 0%, #47a7cf 40%, #2f95bf 100%);
      border-radius: 32px;
      margin-top: 18px;
      border: 1px solid rgba(234, 250, 255, 0.65);
      box-shadow: inset 0 0 0 1px rgba(225, 246, 255, 0.38), 0 14px 26px -12px rgba(8, 62, 96, 0.38);
      position: relative;
      overflow: auto;
      padding: 20px;
    }
    .deck-plan-media { border-radius: 24px; width: 100%; display: block; }
    .deck-plan-hotspots { position: absolute; inset: 20px; }
    .deck-hotspot {
      position: absolute;
      transform: translate(-50%, -50%);
      width: 44px;
      height: 44px;
      border-radius: 44px;
      background: linear-gradient(145deg, #0ca8ff, #0069d0);
      border: 3px solid white;
      color: white;
      font-weight: 800;
      box-shadow: 0 10px 24px rgba(0,121,212,0.6);
      cursor: pointer;
      transition: transform 160ms ease, box-shadow 160ms ease;
    }
    .deck-hotspot:hover,
    .deck-hotspot:focus-visible {
      transform: translate(-50%, -50%) scale(1.08);
      box-shadow: 0 12px 28px rgba(0,121,212,0.68);
      outline: none;
    }
    .deck-hotspot[data-selected="true"] {
      box-shadow: 0 0 0 6px rgba(138, 219, 255, 0.35), 0 14px 30px rgba(0,121,212,0.72);
    }
    .deck-plan-legend {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      margin-top: 18px;
    }
    .deck-plan-legend-item {
      background: white;
      border: none;
      padding: 10px 18px;
      border-radius: 40px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.04);
      text-align: left;
      cursor: pointer;
      transition: transform 140ms ease, box-shadow 140ms ease, background-color 140ms ease;
    }
    .deck-plan-legend-item:hover,
    .deck-plan-legend-item:focus-visible {
      transform: translateY(-1px);
      box-shadow: 0 10px 18px rgba(0, 0, 0, 0.08);
      outline: none;
    }
    .deck-plan-legend-item.is-active {
      background: #dff0ff;
      box-shadow: 0 10px 20px rgba(0, 121, 212, 0.2);
    }
    .deck-plan-legend-item span {
      display: block;
      font-size: 0.8rem;
    }
    .deck-plan-skeleton {
      min-height: 380px;
      border-radius: 28px;
      background:
        linear-gradient(110deg, rgba(255,255,255,0.15) 20%, rgba(255,255,255,0.38) 32%, rgba(255,255,255,0.15) 44%) 0 0 / 220% 100%,
        linear-gradient(160deg, #0f5379, #1273a1);
      animation: deckLoadingSweep 900ms linear infinite;
    }
    @keyframes deckLoadingSweep {
      to {
        background-position: 220% 0, 0 0;
      }
    }
    .deck-plan-canvas {
      transition: opacity 220ms ease, transform 220ms ease;
      transform-origin: center top;
    }
    .deck-plan-canvas.is-transitioning {
      opacity: 0;
      transform: translateY(8px) scale(0.98);
    }

    /* ———— BOTTOM NAV ———— */
    .bottom-nav {
      background: rgba(241, 250, 255, 0.92);
      backdrop-filter: blur(20px);
      border-top: 1px solid rgba(8, 89, 136, 0.18);
    }
    .bottom-nav__item.active {
      background: rgba(255, 190, 92, 0.22);
      color: #0f4f76;
      box-shadow: 0 8px 14px rgba(0, 121, 180, 0.12);
    }

    /* ———— RESPONSIVE ———— */
    @media (max-width: 700px) {
      .deck-cards { grid-template-columns: 1fr; }
      .main-navigation { border-radius: 28px; }
      .main-navigation__hint { display: none; }
      .deck-directory { margin-top: 16px; }
      .deck-modal__dialog {
        width: calc(100vw - 20px);
        border-radius: 26px;
        max-height: calc(100vh - env(safe-area-inset-top) - env(safe-area-inset-bottom) - 12px);
      }
      .deck-modal__toolbar {
        padding: 12px 14px;
        gap: 8px;
        grid-template-columns: 1fr auto;
        grid-template-areas:
          "controls close"
          "utility utility";
      }
      .toolbar-group {
        gap: 6px;
      }
      .toolbar-group--primary {
        grid-area: controls;
      }
      .toolbar-group--secondary {
        grid-area: utility;
        justify-content: flex-start;
      }
      .close-btn {
        grid-area: close;
        justify-self: end;
      }
      .btn-icon,
      .labeled-btn {
        padding: 10px 12px;
        border-radius: 28px;
      }
      .labeled-btn .btn-label {
        font-size: 0.78rem;
      }
      .deck-modal__body {
        padding: 16px;
      }
      .deck-plan-stage {
        border-radius: 20px;
        padding: 12px;
      }
      .deck-plan-media {
        border-radius: 16px;
      }
    }
    .deck-hero__actions { margin-top: 16px; }
    .deck-hero__actions .btn { background: white; color: #0c4d75; border-radius: 48px; padding: 14px 32px; font-weight: 700; margin-right: 12px; border: none; text-decoration: none; display: inline-flex; align-items: center; gap: 8px; box-shadow: 0 6px 14px rgba(0, 83, 126, 0.1); }
    .btn--primary { background: var(--warm-gold) !important; color: #0a375a !important; box-shadow: 0 8px 20px rgba(255,180,70,0.28); }
    .deck-hero__btn-secondary { background: rgba(255,255,255,0.72) !important; color: #0b547d !important; }
    .bottom-nav__item {
      color: #1f567c;
      text-decoration: none;
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:4px;
      padding:8px 4px;
      border-radius:12px;
      background:transparent;
      border:none;
    }

/* ===== dining.html ===== */
.dining-page {
      --type-title-xl: clamp(2.4rem, 4.6vw, 3.2rem);
      --type-title-lg: clamp(1.5rem, 2.7vw, 2rem);
      --type-subtitle: clamp(1rem, 1.8vw, 1.12rem);
      --space-section: 24px;
      background: linear-gradient(180deg, #eef8ff 0%, #def1ff 52%, #cfeaff 78%, #c3e7fd 100%);
    }

    .dining-page .deck-hero {
      background: linear-gradient(180deg, #eaf6ff 0%, #cfeaff 50%, #bde5ff 100%);
      box-shadow: 0 12px 24px rgba(0, 40, 80, 0.12);
      color: #0a2a4a;
    }

    .dining-page .deck-hero__eyebrow {
      color: #1f6b97;
    }

    .dining-page .deck-hero__title {
      font-size: var(--type-title-xl);
      line-height: 1.07;
      letter-spacing: -0.01em;
      color: #08395f;
      text-shadow: none;
    }

    .dining-page .deck-hero__subtitle {
      font-size: var(--type-subtitle);
      color: rgba(12, 74, 110, 0.92);
    }

    .dining-page .deck-hero__tag {
      background: rgba(255, 255, 255, 0.56);
      border: 1px solid rgba(16, 122, 170, 0.18);
      color: #0a4d77;
      box-shadow: none;
    }

    .dining-page .page-spine__label {
      color: #0d4067;
    }

    .dining-page .page-spine__meta {
      color: #2d6f97;
    }

    .dining-page .deck-hero__actions .btn {
      background: #fff;
      color: #0c4d75;
      box-shadow: 0 6px 14px rgba(0, 83, 126, 0.1);
    }

    .dining-page .deck-hero__actions .btn--primary {
      box-shadow: 0 8px 20px rgba(255, 180, 70, 0.28);
    }

    .dining-page .deck-hero__actions .btn--secondary {
      background: rgba(255, 255, 255, 0.72);
      color: #0b547d;
    }

    .dining-page .dining-spine__item {
      background: rgba(255, 255, 255, 0.72);
      border: 1px solid rgba(8, 89, 136, 0.14);
      box-shadow: 0 6px 14px rgba(0, 73, 112, 0.08);
      border-radius: 14px;
    }

    .dining-page .main-navigation__filters .pill-btn {
      cursor: pointer;
    }

    .dining-page .main-navigation__filters .pill-btn.is-active {
      background: linear-gradient(120deg, #00a4d8, #5cccf2);
      border-color: transparent;
      color: #fff;
      box-shadow: 0 6px 14px rgba(0, 134, 185, 0.2);
    }

    .dining-page .search-status {
      width: 100%;
      margin: 4px 0 0;
      font-size: 0.9rem;
      font-weight: 600;
      color: var(--royal-navy);
    }

    .dining-page .search-status.is-loading {
      opacity: 0.72;
    }

    .dining-page .reservation-panel {
      background: rgba(255, 255, 255, 0.96);
      border: 1px solid var(--royal-border);
      border-radius: 16px;
      padding: 20px;
      box-shadow: 0 12px 24px rgba(0, 59, 117, 0.1);
      margin-bottom: var(--space-section);
    }

    .dining-page .dining-spotlight {
      margin: 0 0 var(--space-section);
      border-radius: 18px;
      border: 1px solid rgba(255, 201, 58, 0.58);
      background: linear-gradient(120deg, rgba(255, 201, 58, 0.22), rgba(255, 255, 255, 0.98) 44%, rgba(25, 194, 255, 0.1) 100%);
      box-shadow: 0 10px 22px rgba(11, 79, 144, 0.12);
      padding: 16px;
      display: grid;
      gap: 10px;
    }

    .dining-page .dining-spotlight__eyebrow {
      margin: 0;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      color: #123e65;
      font-weight: 800;
      letter-spacing: 0.03em;
      text-transform: uppercase;
      font-size: 0.75rem;
    }

    .dining-page .dining-spotlight__title {
      margin: 0;
      color: #0b416f;
      font-size: clamp(1.28rem, 2.2vw, 1.6rem);
      line-height: 1.25;
      letter-spacing: -0.01em;
    }

    .dining-page .dining-spotlight__body {
      margin: 0;
      color: #1c4f75;
      font-size: 0.95rem;
      opacity: 0.95;
    }

    .dining-page .dining-spotlight__action {
      justify-self: start;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      text-decoration: none;
      border-radius: 999px;
      border: 1px solid rgba(0, 82, 165, 0.24);
      color: #0a4e8e;
      font-weight: 800;
      font-size: 0.86rem;
      padding: 8px 14px;
      background: #fff;
    }

    .dining-page .dining-spotlight__action:hover {
      border-color: rgba(0, 82, 165, 0.4);
      background: #f5fbff;
    }

    .dining-page .reservation-panel__header h2 {
      margin: 0 0 4px;
      color: var(--royal-navy);
      font-size: var(--type-title-lg);
      line-height: 1.15;
      letter-spacing: -0.01em;
    }

    .dining-page .reservation-panel__header p {
      margin: 0 0 14px;
      color: var(--royal-ink);
      opacity: 0.92;
    }

    .dining-page .reservation-slots {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 12px;
    }

    .dining-page .reservation-slot {
      border: 1px solid var(--royal-border);
      border-radius: 12px;
      background: var(--royal-foam);
      padding: 12px;
    }

    .dining-page .reservation-slot h3 {
      margin: 0 0 4px;
      color: var(--royal-navy);
      font-size: 0.98rem;
    }

    .dining-page .reservation-slot p {
      margin: 0 0 8px;
      color: var(--royal-ink);
      font-size: 0.9rem;
    }

    .dining-page .reservation-slot a {
      font-weight: 700;
      color: var(--royal-blue);
      text-decoration: none;
      font-size: 0.9rem;
    }

    .dining-page .deck-group {
      margin-bottom: var(--space-section);
    }

    .dining-page .deck-grid__title {
      font-size: var(--type-title-lg);
      line-height: 1.15;
      letter-spacing: -0.01em;
    }

    .dining-page .deck-card {
      position: relative;
    }

    .dining-page .venue-type {
      position: absolute;
      top: 12px;
      right: 12px;
      z-index: 2;
      border-radius: 999px;
      padding: 4px 9px;
      font-size: 0.7rem;
      font-weight: 800;
      letter-spacing: 0.04em;
      text-transform: uppercase;
      color: #fff;
      background: #2f7d62;
      box-shadow: 0 6px 16px rgba(47, 125, 98, 0.35);
    }

    .dining-page .venue-type--specialty {
      background: #d73f4a;
      box-shadow: 0 6px 16px rgba(215, 63, 74, 0.35);
    }

    .dining-page .search-empty {
      margin-top: 12px;
      background: rgba(255, 255, 255, 0.96);
      border: 1px dashed var(--royal-border);
      border-radius: 12px;
      padding: 14px 16px;
      font-size: 0.95rem;
      color: var(--royal-ink);
    }

    .dining-page .pill-btn:focus-visible,
    .dining-page .deck-card__cta:focus-visible,
    .dining-page .main-navigation__search input:focus-visible,
    .dining-page .reservation-slot a:focus-visible {
      outline: 3px solid rgba(0, 168, 232, 0.35);
      outline-offset: 2px;
    }

    .dining-page .dining-context {
      margin: 0 0 14px;
      padding: 12px 14px;
      border-radius: 14px;
      border: 1px solid rgba(0, 82, 165, 0.2);
      background: linear-gradient(130deg, rgba(0, 164, 216, 0.14), rgba(255, 255, 255, 0.96));
      color: #0d4067;
      display: grid;
      gap: 8px;
      box-shadow: 0 10px 18px rgba(0, 59, 117, 0.08);
    }

    .dining-page .dining-context__body {
      margin: 0;
      color: #2d6f97;
      font-size: 0.91rem;
    }

    .dining-page .dining-context__action {
      justify-self: start;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      text-decoration: none;
      border-radius: 999px;
      border: 1px solid rgba(0, 82, 165, 0.3);
      color: #0a4e8e;
      font-weight: 700;
      font-size: 0.84rem;
      padding: 7px 12px;
      background: #fff;
    }

    .dining-page .dining-context__action:hover {
      background: #f0f7ff;
    }

    .dining-page .deck-card--context-pick {
      border-color: rgba(255, 201, 58, 0.65) !important;
      box-shadow: 0 10px 20px rgba(11, 79, 144, 0.12), inset 0 0 0 2px rgba(255, 201, 58, 0.32);
    }

/* ===== itinerary.html ===== */
.itinerary-page {
            background:
                linear-gradient(180deg, #eef8ff 0%, #dff1ff 42%, #cfeaff 72%, #c2e5fb 100%);
            color: var(--royal-ink);
        }

        /* Enhanced Hero Section */
        .hero--itinerary {
            background: linear-gradient(180deg, #eaf6ff 0%, #cfeaff 60%, #bde5ff 100%);
            padding: 72px 0 52px;
            position: relative;
            overflow: hidden;
            margin-bottom: 28px;
        }

        .hero--itinerary::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image:
                radial-gradient(circle at 12% 18%, rgba(255, 255, 255, 0.5) 0%, transparent 40%),
                radial-gradient(circle at 84% 82%, rgba(255, 210, 140, 0.26) 0%, transparent 44%);
            animation: calmDrift 28s linear infinite;
        }

        @keyframes calmDrift {
            0% { transform: translateX(0); }
            50% { transform: translateX(-1.6%); }
            100% { transform: translateX(0); }
        }

        .hero__badge {
            display: inline-block;
            background: rgba(255, 255, 255, 0.72);
            backdrop-filter: blur(10px);
            color: #0f4f78;
            padding: 8px 20px;
            border-radius: 50px;
            font-weight: 600;
            font-size: 0.9rem;
            letter-spacing: 0.5px;
            margin-bottom: 20px;
            border: 1px solid rgba(0, 121, 212, 0.18);
            animation: fadeInUp 0.6s ease;
        }

        .hero__title {
            font-size: clamp(2.2rem, 4.5vw, 3rem);
            font-weight: 800;
            color: #0a395d;
            margin-bottom: 10px;
            line-height: 1.2;
            animation: fadeInUp 0.6s ease 0.1s both;
        }

        .hero__contextline {
            margin: 0;
            color: rgba(10, 57, 93, 0.86);
            font-weight: 500;
            font-size: 1.02rem;
            animation: fadeInUp 0.6s ease 0.16s both;
        }

        .btn--accent {
            background: var(--gold-gradient);
            color: var(--royal-navy);
            box-shadow: var(--shadow-medium);
        }

        .btn--accent:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-floating);
        }

        .btn--icon i {
            font-size: 1.1rem;
        }

        .itinerary-page .header-utility__promo {
            display: none;
        }

        /* Day Navigation */
        .day-navigation {
            margin-bottom: 40px;
        }

        .day-navigation__header {
            text-align: center;
            margin-bottom: 28px;
        }

        .day-navigation__title {
            font-size: clamp(1.7rem, 3.4vw, 2.2rem);
            margin-bottom: 8px;
            color: var(--royal-navy);
        }

        .day-navigation__description {
            color: var(--royal-ink);
            opacity: 0.9;
            font-size: 1.1rem;
        }

        .day-navigation__tools {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 12px;
            flex-wrap: wrap;
        }

        .more-menu {
            position: relative;
        }

        .more-menu__summary {
            list-style: none;
        }

        .more-menu__summary::-webkit-details-marker {
            display: none;
        }

        .more-menu[open] .more-menu__summary {
            border-color: var(--royal-sky);
        }

        .more-menu__dropdown {
            position: absolute;
            right: 0;
            top: calc(100% + 8px);
            min-width: 180px;
            background: #fff;
            border: 1px solid var(--royal-border);
            border-radius: 12px;
            box-shadow: var(--shadow-light);
            padding: 8px;
            z-index: 20;
            display: grid;
            gap: 6px;
        }

        .more-menu__dropdown button {
            border: 1px solid var(--royal-border);
            background: #fff;
            color: var(--royal-navy);
            border-radius: 10px;
            padding: 10px 12px;
            font-weight: 600;
            text-align: left;
            cursor: pointer;
        }

        .more-menu__dropdown button:hover {
            background: var(--royal-foam);
        }

        .day-selector {
            display: flex;
            background: white;
            padding: 16px;
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-light);
            border: 1px solid var(--royal-border);
            gap: 8px;
            overflow-x: auto;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }

        .day-selector::-webkit-scrollbar {
            display: none;
        }

        .day-btn {
            flex: 0 0 auto;
            padding: 12px 20px;
            border-radius: var(--radius-lg);
            border: 2px solid transparent;
            background: var(--royal-foam);
            color: var(--royal-navy);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition-smooth);
            display: flex;
            align-items: center;
            gap: 8px;
            white-space: nowrap;
        }

        .day-btn--active {
            background: linear-gradient(135deg, var(--royal-blue), var(--royal-sky));
            color: white;
            border-color: var(--royal-sky);
            box-shadow: var(--shadow-medium);
        }

        .day-btn--today {
            border-color: rgba(255, 201, 58, 0.7);
            box-shadow: inset 0 0 0 1px rgba(255, 201, 58, 0.36);
        }

        /* List Styles */
        .list--checkmarks {
            list-style: none;
            padding: 0;
        }

        .list--checkmarks li {
            position: relative;
            padding-left: 28px;
            margin-bottom: 10px;
            color: var(--royal-ink);
        }

        .list--checkmarks li::before {
            content: "✓";
            position: absolute;
            left: 0;
            color: var(--royal-sky);
            font-weight: bold;
        }

        /* Itinerary Days */
        .itinerary-days {
            margin-bottom: 60px;
        }

        .itinerary-day {
            background: rgba(255, 255, 255, 0.96);
            border-radius: 28px;
            padding: 28px;
            margin-bottom: 20px;
            box-shadow: 0 16px 32px rgba(0, 70, 120, 0.08);
            border: 1px solid rgba(0, 121, 212, 0.12);
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .itinerary-day--visible {
            opacity: 1;
            transform: translateY(0);
        }

        .itinerary-day--today {
            border-color: rgba(255, 201, 58, 0.56);
            box-shadow: 0 16px 34px rgba(11, 79, 144, 0.16), inset 0 0 0 2px rgba(255, 201, 58, 0.26);
        }

        .itinerary-day--today-pulse {
            animation: todayPulse 1.2s ease;
        }

        @keyframes todayPulse {
            0% { transform: translateY(0) scale(1); box-shadow: 0 16px 34px rgba(11, 79, 144, 0.16), inset 0 0 0 2px rgba(255, 201, 58, 0.26); }
            45% { transform: translateY(-2px) scale(1.01); box-shadow: 0 20px 38px rgba(11, 79, 144, 0.2), inset 0 0 0 2px rgba(255, 201, 58, 0.6); }
            100% { transform: translateY(0) scale(1); box-shadow: 0 16px 34px rgba(11, 79, 144, 0.16), inset 0 0 0 2px rgba(255, 201, 58, 0.26); }
        }

        .itinerary-day__header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 32px;
            flex-wrap: wrap;
            gap: 16px;
        }

        .itinerary-day__title {
            font-size: 1.8rem;
            color: var(--royal-navy);
            margin-bottom: 12px;
        }

        .itinerary-day__badges {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .badge {
            display: inline-block;
            padding: 6px 14px;
            border-radius: 50px;
            font-size: 0.85rem;
            font-weight: 600;
            letter-spacing: 0.3px;
        }

        .badge--primary {
            background: var(--royal-foam);
            color: var(--royal-blue);
        }

        .badge--accent {
            background: var(--gold-gradient);
            color: var(--royal-navy);
        }

        .badge--today {
            background: linear-gradient(135deg, #ffe389, #ffc93a 58%, #ffb020);
            color: #143e66;
            border: 1px solid rgba(255, 176, 32, 0.5);
            box-shadow: 0 8px 18px rgba(255, 176, 32, 0.28);
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 0.04em;
        }

        .badge--info {
            background: linear-gradient(135deg, #e3f2fd, #bbdefb);
            color: var(--royal-blue);
        }

        .badge--warning {
            background: #fff3cd;
            color: #856404;
        }

        .itinerary-day__tags {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .tag {
            padding: 8px 16px;
            border-radius: var(--radius-sm);
            font-size: 0.9rem;
            font-weight: 500;
        }

        .tag--critical {
            background: #ffebee;
            color: #c62828;
            border: 1px solid #ffcdd2;
        }

        .tag--info {
            background: var(--royal-foam);
            color: var(--royal-blue);
            border: 1px solid #bbdefb;
        }

        .tag--success {
            background: #e8f5e9;
            color: #2e7d32;
            border: 1px solid #c8e6c9;
        }

        /* Timeline */
        .timeline-section {
            margin-bottom: 32px;
        }

        .timeline-section__title {
            font-size: 1.3rem;
            color: var(--royal-navy);
            margin-bottom: 20px;
            padding-left: 12px;
            border-left: 4px solid var(--royal-sky);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .timeline {
            position: relative;
            padding-left: 24px;
        }

        .timeline::before {
            content: "";
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 2px;
            background: linear-gradient(to bottom, var(--royal-sky), #84d8ff);
        }

        .timeline-item {
            position: relative;
            margin-bottom: 20px;
            padding: 20px;
            background: var(--royal-foam);
            border-radius: var(--radius-lg);
            border-left: 4px solid transparent;
            transition: var(--transition-smooth);
        }

        .timeline-item:hover {
            transform: translateX(2px);
            background: white;
            box-shadow: 0 10px 20px rgba(0, 80, 130, 0.08);
        }

        .timeline-item--critical {
            border-left-color: #ff6b6b;
            background: #fff5f5;
        }

        .timeline-item::before {
            content: "";
            position: absolute;
            left: -28px;
            top: 24px;
            width: 12px;
            height: 12px;
            background: white;
            border: 3px solid var(--royal-sky);
            border-radius: 50%;
            z-index: 2;
        }

        .timeline-item--critical::before {
            border-color: #ff6b6b;
        }

        .timeline__time {
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
            color: var(--royal-blue);
            margin-bottom: 8px;
            font-size: 0.95rem;
        }

        .timeline__title {
            font-size: 1.1rem;
            color: var(--royal-navy);
            margin-bottom: 8px;
        }

        .timeline__description {
            color: var(--royal-ink);
            opacity: 0.95;
            margin-bottom: 12px;
        }

        .timeline__meta {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        /* Alert & Card Styles */
        .alert {
            padding: 16px 20px;
            border-radius: var(--radius-lg);
            margin-bottom: 20px;
            border-left: 4px solid;
        }

        .alert--info {
            background: #e3f2fd;
            border-color: var(--royal-blue);
            color: var(--royal-navy);
        }

        .alert--warning {
            background: #fff3cd;
            border-color: #ffb400;
            color: #856404;
        }

        .alert--critical {
            background: #ffebee;
            border-color: #f44336;
            color: #c62828;
        }

        .info-card {
            background: var(--royal-foam);
            border-radius: var(--radius-lg);
            padding: 24px;
            margin-top: 24px;
            border: 1px solid var(--royal-border);
        }

        .info-card__title {
            font-size: 1.2rem;
            color: var(--royal-navy);
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .hero__status {
            margin: 14px 0 0;
            color: rgba(10, 57, 93, 0.86);
            font-weight: 600;
            min-height: 1.2em;
        }

        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .itinerary-page .header-utility {
                display: none;
            }

            .hero--itinerary {
                padding: 24px 0 16px;
                margin-bottom: 16px;
            }

            .hero__description,
            .hero__highlights,
            .hero--itinerary .page-spine,
            .hero--itinerary .hero__actions {
                display: none;
            }

            .hero__title {
                font-size: 1.8rem;
                margin-bottom: 0;
            }

            .hero__contextline {
                margin-top: 8px;
                font-size: 0.98rem;
            }

            .hero__badge {
                margin-bottom: 8px;
                font-size: 0.8rem;
            }

            .itinerary-day__header {
                flex-direction: column;
            }

            .itinerary-day__tags {
                justify-content: flex-start;
            }

            .itinerary-day {
                padding: 20px;
                border-radius: 20px;
            }

            .itinerary-day__title {
                font-size: 1.4rem;
            }

            .timeline-section__title {
                font-size: 1.1rem;
            }

            .timeline-item {
                padding: 16px;
            }

            .info-card {
                padding: 16px;
            }
        }

        @media (max-width: 480px) {
            .btn {
                width: 100%;
                justify-content: center;
            }

            .more-menu {
                width: 100%;
            }

            .more-menu__dropdown {
                left: 0;
                right: auto;
                width: 100%;
            }
        }

        @media (prefers-reduced-motion: reduce) {
            .hero--itinerary::before {
                animation: none;
            }
        }

/* ===== rooms.html ===== */
.rooms-page {
            --type-title-xl: clamp(2.45rem, 5.2vw, 3.35rem);
            --type-title-lg: clamp(1.5rem, 2.9vw, 2.05rem);
            --type-title-md: clamp(1.18rem, 2.1vw, 1.45rem);
            --type-subtitle: clamp(1rem, 1.8vw, 1.12rem);
            --space-section: 28px;
            background: linear-gradient(180deg, #eef8ff 0%, #def1ff 52%, #cfeaff 78%, #c3e7fd 100%);
        }

        .skip-link {
            position: absolute;
            top: -40px;
            left: 0;
            background: var(--royal-blue);
            color: white;
            padding: 8px 16px;
            border-radius: var(--radius-sm);
            text-decoration: none;
            z-index: 1000;
            transition: top 0.3s;
        }

        .skip-link:focus {
            top: 10px;
        }

        /* Hero Section */
        .hero--rooms {
            background: linear-gradient(180deg, #eaf6ff 0%, #cfeaff 50%, #bde5ff 100%);
            padding: 60px 0 40px;
            position: relative;
            overflow: hidden;
            margin-bottom: 32px;
            box-shadow: 0 10px 20px rgba(0, 40, 80, 0.1);
        }

        .hero--rooms::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image:
                radial-gradient(circle at 10% 20%, rgba(255, 255, 255, 0.26) 0%, transparent 40%),
                radial-gradient(circle at 90% 80%, rgba(255, 255, 255, 0.16) 0%, transparent 40%),
                linear-gradient(180deg, rgba(6, 86, 130, 0.12) 0%, rgba(6, 86, 130, 0.08) 100%);
            pointer-events: none;
        }

        .hero__content {
            position: relative;
            z-index: 1;
        }

        .hero__eyebrow {
            display: inline-block;
            font-size: 0.9rem;
            font-weight: 600;
            color: #1f6b97;
            margin-bottom: 12px;
            letter-spacing: 0.5px;
        }

        .hero__title {
            font-size: var(--type-title-xl);
            font-weight: 800;
            color: #0a2a4a;
            margin-bottom: 14px;
            line-height: 1.08;
            letter-spacing: -0.012em;
        }

        .hero__description {
            font-size: var(--type-subtitle);
            color: rgba(12, 74, 110, 0.92);
            max-width: 600px;
            margin-bottom: 24px;
        }

        .hero__highlights {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 0 0 22px;
        }

        .hero__tag {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 8px 12px;
            border-radius: 999px;
            font-size: 0.82rem;
            font-weight: 700;
            color: #0a4d77;
            background: rgba(255, 255, 255, 0.56);
            border: 1px solid rgba(16, 122, 170, 0.18);
            box-shadow: 0 4px 10px rgba(8, 89, 136, 0.08);
            backdrop-filter: blur(4px);
            -webkit-backdrop-filter: blur(4px);
        }

        .hero__tag i {
            font-size: 0.78rem;
        }

        .hero__actions {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }

        /* Navigation Bar */
        .nav-bar {
            background: white;
            border-bottom: 1px solid var(--royal-border);
            padding: 16px 0;
            margin-bottom: 32px;
        }

        .nav-bar__inner {
            display: flex;
            align-items: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .search-box {
            flex: 1;
            min-width: 200px;
            max-width: 400px;
            position: relative;
        }

        .search-box input {
            width: 100%;
            padding: 14px 20px 14px 48px;
            border: 1px solid var(--royal-border);
            border-radius: var(--radius-lg);
            background: var(--royal-foam);
            color: var(--royal-ink);
            font-family: 'Inter', sans-serif;
            font-size: 0.95rem;
            transition: var(--transition-smooth);
        }

        .search-box input:focus {
            outline: none;
            border-color: var(--royal-sky);
            box-shadow: 0 0 0 3px rgba(0, 168, 232, 0.1);
        }

        .search-box i {
            position: absolute;
            left: 16px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--royal-blue);
            opacity: 0.7;
        }

        .nav-filters {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 10px 20px;
            border-radius: var(--radius-lg);
            background: var(--royal-foam);
            color: var(--royal-navy);
            text-decoration: none;
            font-weight: 500;
            font-size: 0.9rem;
            border: 1px solid var(--royal-border);
            transition: var(--transition-smooth);
            white-space: nowrap;
        }

        .filter-btn--active {
            background: linear-gradient(135deg, var(--royal-blue), var(--royal-sky));
            color: white;
            border-color: var(--royal-sky);
        }

        .family-finder {
            margin: 0 0 20px;
            padding: 14px;
            border-radius: var(--radius-xl);
            border: 1px solid rgba(0, 82, 165, 0.2);
            background: linear-gradient(130deg, rgba(0, 164, 216, 0.14), rgba(255, 255, 255, 0.96));
            color: #0d4067;
            display: grid;
            gap: 10px;
        }

        .family-finder__title {
            margin: 0;
            font-size: 1.02rem;
            font-weight: 800;
            letter-spacing: 0.01em;
        }

        .family-finder__subtitle {
            margin: 0;
            font-size: 0.9rem;
            color: #2d6f97;
        }

        .family-finder__controls {
            display: flex;
            gap: 8px;
            align-items: center;
            flex-wrap: wrap;
        }

        .family-finder__controls input {
            flex: 1;
            min-width: 220px;
            min-height: 42px;
            border-radius: 999px;
            border: 1px solid rgba(0, 82, 165, 0.25);
            background: #fff;
            color: #0d4067;
            padding: 10px 14px;
        }

        .family-finder__controls input::placeholder {
            color: rgba(33, 92, 128, 0.66);
        }

        .family-finder__controls input:focus {
            outline: none;
            border-color: rgba(0, 121, 212, 0.42);
            box-shadow: 0 0 0 3px rgba(0, 168, 232, 0.16);
        }

        .family-finder__quick {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .family-finder__favorites {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .family-finder__quick-btn {
            border-radius: 999px;
            border: 1px solid rgba(0, 82, 165, 0.24);
            background: #fff;
            color: #0d4067;
            font-size: 0.82rem;
            font-weight: 700;
            padding: 7px 11px;
            cursor: pointer;
        }

        .family-finder__quick-btn:hover {
            background: #f0f7ff;
        }

        .family-finder__quick-btn--favorite {
            border-color: rgba(255, 223, 137, 0.7);
            background: rgba(255, 223, 137, 0.26);
        }

        .family-finder__status {
            margin: 0;
            min-height: 1.2em;
            font-size: 0.84rem;
            color: #2d6f97;
        }

        /* Stats Overview */
        .stats-section {
            margin-bottom: calc(var(--space-section) + 10px);
        }

        .stats-grid {
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
        }

        .stat-card {
            padding: 24px;
        }

        .stat-card__title {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1rem;
            color: var(--royal-ink);
            margin-bottom: 16px;
            opacity: 0.9;
        }

        .stat-card__content {
            display: flex;
            align-items: baseline;
            gap: 12px;
        }

        .stat-value {
            font-size: 2.8rem;
            font-weight: 800;
            color: var(--royal-blue);
            line-height: 1;
            font-family: 'Montserrat', sans-serif;
        }

        .stat-label {
            font-size: 1rem;
            color: var(--royal-ink);
            opacity: 0.8;
        }

        /* Rooms Grid */
        .rooms-section {
            margin-bottom: calc(var(--space-section) + 24px);
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-section);
            flex-wrap: wrap;
            gap: 16px;
        }

        .section-title {
            font-size: var(--type-title-lg);
            color: var(--royal-navy);
            line-height: 1.15;
            letter-spacing: -0.01em;
        }

        .section-subtitle {
            font-size: var(--type-subtitle);
            color: var(--royal-ink);
            opacity: 0.8;
            margin-top: 4px;
        }

        .rooms-count {
            display: flex;
            align-items: center;
            gap: 8px;
            background: var(--royal-foam);
            padding: 8px 16px;
            border-radius: var(--radius-full);
            border: 1px solid var(--royal-border);
            font-weight: 600;
            color: var(--royal-blue);
        }

        .rooms-count__number {
            background: linear-gradient(135deg, var(--royal-blue), var(--royal-sky));
            color: white;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
            font-weight: 700;
        }

        .rooms-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 24px;
        }

        .focus-section {
            margin-bottom: 28px;
        }

        .focus-section__header {
            display: flex;
            justify-content: space-between;
            align-items: baseline;
            gap: 12px;
            margin-bottom: 14px;
            flex-wrap: wrap;
        }

        .focus-section__title {
            margin: 0;
            font-size: var(--type-title-md);
            color: var(--royal-navy);
            display: inline-flex;
            align-items: center;
            gap: 8px;
            line-height: 1.16;
            letter-spacing: -0.008em;
        }

        .focus-section__subtitle {
            margin: 0;
            font-size: 0.95rem;
            color: var(--royal-ink);
            opacity: 0.85;
        }

        .focus-section--secondary .room-card {
            opacity: 0.9;
        }

        .room-card {
            background: #ffffff;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.02);
            border: 1px solid rgba(0, 80, 140, 0.08);
            transition: box-shadow 0.25s ease, transform 0.2s ease;
            display: flex;
            flex-direction: column;
        }

        .room-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 18px rgba(0, 0, 0, 0.05);
            border-color: rgba(0, 110, 200, 0.2);
        }

        .room-card:active {
            transform: scale(0.99);
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.02);
        }

        .room-card__status-bar {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            padding: 14px 24px 0;
            margin-bottom: -4px;
        }

        .status-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.74rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.02em;
            border: 1px solid rgba(0, 0, 0, 0.05);
            background: #f4f7fb;
        }

        .status-badge--warning {
            background: #ffebee;
            color: #b71c1c;
        }

        .status-badge--info {
            background: #e3f2fd;
            color: #0d47a1;
        }

        .status-badge--success {
            background: #e8f5e9;
            color: #1b5e20;
        }

        .room-card__header {
            padding: 24px 24px 0;
            position: relative;
        }

        .room-number {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 36px;
            height: 36px;
            background: linear-gradient(135deg, var(--royal-blue), var(--royal-sky));
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1rem;
            box-shadow: var(--shadow-light);
        }

        .room-type {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 12px;
        }

        .room-type__icon {
            width: 40px;
            height: 40px;
            background: var(--royal-foam);
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--royal-blue);
            font-size: 1.2rem;
        }

        .room-type__name {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--royal-navy);
        }

        .room-location {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            background: var(--royal-foam);
            padding: 6px 12px;
            border-radius: var(--radius-full);
            font-size: 0.9rem;
            color: var(--royal-blue);
            margin-top: 8px;
        }

        .room-card__preview {
            height: 180px;
            background: linear-gradient(135deg, #e8f4ff, #d4e9ff);
            margin: 20px 0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--royal-blue);
            opacity: 0.8;
            font-size: 0.9rem;
        }

        .room-card__content {
            padding: 0 24px 24px;
            flex: 1;
        }

        .room-features {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 20px;
        }

        .feature-tag {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 6px 12px;
            background: #ffffff;
            border: 1px solid rgba(0, 80, 140, 0.1);
            border-radius: 40px;
            font-size: 0.85rem;
            color: #1e3b5c;
        }

        .feature-tag i {
            color: var(--royal-blue);
            font-size: 0.9rem;
        }

        .room-card__actions {
            margin-top: auto;
            padding-top: 20px;
            border-top: 1px solid var(--royal-border-light);
            display: grid;
            gap: 8px;
        }

        .compare-toggle-btn {
            width: 100%;
            min-height: 40px;
            border-radius: var(--radius-md);
            border: 1px dashed rgba(0, 121, 212, 0.4);
            background: #f7fbff;
            color: var(--royal-navy);
            font-weight: 700;
            font-size: 0.86rem;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            cursor: pointer;
        }

        .compare-toggle-btn.is-active {
            background: #e3f2fd;
            border-style: solid;
            border-color: rgba(0, 121, 212, 0.65);
        }

        .view-deck-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            width: 100%;
            padding: 12px 16px;
            background: var(--royal-foam);
            color: var(--royal-navy);
            text-decoration: none;
            border-radius: var(--radius-md);
            font-weight: 700;
            font-size: 0.95rem;
            transition: var(--transition-smooth);
            border: 1px solid rgba(10, 96, 166, 0.22);
            cursor: pointer;
        }

        .view-deck-btn:hover {
            background: #e7f3ff;
            border-color: rgba(10, 96, 166, 0.4);
        }

        .room-details-btn {
            width: 100%;
            min-height: 44px;
            border: 1px solid transparent;
            border-radius: var(--radius-md);
            background: linear-gradient(135deg, var(--royal-blue), var(--royal-sky));
            color: #ffffff;
            font-weight: 700;
            font-size: 0.92rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .room-details-btn:hover,
        .room-details-btn:focus-visible {
            filter: brightness(1.03);
            outline: none;
        }

        /* Quick Actions */
        .quick-actions {
            background: white;
            border-radius: var(--radius-xl);
            padding: 32px;
            margin-bottom: 60px;
            box-shadow: var(--shadow-light);
            border: 1px solid var(--royal-border);
        }

        .actions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin-top: 24px;
        }

        .action-item {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 20px;
            background: var(--royal-foam);
            border-radius: var(--radius-lg);
            text-decoration: none;
            color: var(--royal-ink);
            transition: var(--transition-smooth);
            border: 1px solid var(--royal-border);
        }

        .action-item:hover {
            background: white;
            transform: translateY(-2px);
            border-color: var(--royal-sky);
            box-shadow: var(--shadow-light);
        }

        .action-icon {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, var(--royal-blue), var(--royal-sky));
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.3rem;
        }

        .action-content h4 {
            font-size: 1.1rem;
            margin-bottom: 4px;
            color: var(--royal-navy);
        }

        .action-content p {
            font-size: 0.9rem;
            opacity: 0.8;
        }

        /* Modal for Room Details */
        .room-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(4px);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            padding: 20px;
        }

        .room-modal--open {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 28px;
            max-width: 500px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: var(--shadow-floating);
        }

        .comparison-rail {
            position: fixed;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 70;
            background: #fff;
            border-top: 1px solid var(--royal-border);
            border-top-left-radius: 22px;
            border-top-right-radius: 22px;
            box-shadow: 0 -8px 30px rgba(0, 0, 0, 0.12);
            padding: 16px;
            max-height: 50vh;
            overflow-y: auto;
        }

        .comparison-rail__header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .comparison-rail__header h3 {
            margin: 0;
            font-size: 1rem;
            color: var(--royal-navy);
        }

        .comparison-grid {
            display: grid;
            gap: 10px;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        }

        .comparison-column {
            border: 1px solid var(--royal-border);
            border-radius: var(--radius-md);
            background: #f9fcff;
            padding: 10px 12px;
        }

        .comparison-column h4 {
            margin: 0 0 8px;
            color: var(--royal-navy);
        }

        .comparison-list {
            margin: 0;
            padding: 0;
            list-style: none;
            display: grid;
            gap: 6px;
            font-size: 0.88rem;
        }

        .comparison-list span {
            font-weight: 700;
            color: var(--royal-blue);
        }

        .keyboard-hint {
            position: fixed;
            right: 14px;
            bottom: 14px;
            z-index: 65;
            background: rgba(241, 250, 255, 0.95);
            color: #1f567c;
            border-radius: 12px;
            padding: 8px 10px;
            font-size: 0.78rem;
            box-shadow: 0 8px 22px rgba(0, 73, 112, 0.16);
            border: 1px solid rgba(8, 89, 136, 0.2);
        }

        .keyboard-hint kbd {
            background: rgba(255, 255, 255, 0.88);
            border: 1px solid rgba(8, 89, 136, 0.24);
            border-radius: 5px;
            padding: 1px 5px;
            font-family: inherit;
            font-size: 0.74rem;
        }

        .modal-header {
            padding: 24px 24px 8px;
            border-bottom: none;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        /* Design Refresh Overrides */
        .nav-bar {
            border: 1px solid var(--royal-border);
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-light);
            padding: 20px 0;
            margin-bottom: 28px;
            background: linear-gradient(180deg, #ffffff 0%, #f8fcff 100%);
        }

        .nav-bar__inner {
            gap: 16px;
        }

        .nav-heading {
            width: 100%;
            border-bottom: 1px solid var(--royal-border-light);
            padding-bottom: 12px;
        }

        .nav-heading__title {
            margin-bottom: 2px;
            font-size: 1.2rem;
            color: var(--royal-navy);
        }

        .nav-heading__subtitle {
            margin: 0;
            font-size: 0.95rem;
            color: var(--royal-ink);
            opacity: 0.82;
        }

        .nav-controls {
            display: flex;
            align-items: center;
            gap: 10px;
            width: 100%;
        }

        .search-box {
            flex: 1;
            min-width: 280px;
            max-width: 720px;
        }

        .search-box input {
            padding: 15px 20px 15px 50px;
            min-height: 52px;
            font-size: 1rem;
        }

        .filter-control {
            position: relative;
        }

        .filter-control .filter-btn {
            min-height: 52px;
            padding: 0 18px;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .filter-panel {
            position: absolute;
            top: calc(100% + 8px);
            right: 0;
            display: none;
            min-width: 200px;
            background: #fff;
            border: 1px solid var(--royal-border);
            border-radius: var(--radius-md);
            padding: 8px;
            box-shadow: var(--shadow-medium);
            z-index: 20;
        }

        .filter-panel.is-open {
            display: grid;
            gap: 6px;
        }

        .room-type-filter {
            text-align: left;
            padding: 10px 12px;
            border-radius: var(--radius-md);
            border: 1px solid transparent;
            background: var(--royal-foam);
            color: var(--royal-ink);
            cursor: pointer;
            font-weight: 600;
        }

        .room-type-filter:hover,
        .room-type-filter:focus-visible,
        .room-type-filter.is-active {
            background: #d9ebfb;
            border-color: rgba(0, 168, 232, 0.35);
            outline: none;
        }

        .filter-link {
            min-height: 42px;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .stats-grid {
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            align-items: start;
        }

        .section-header--stacked {
            justify-content: flex-start;
            margin-bottom: 16px;
        }

        .stat-card {
            min-height: 178px;
        }

        .stat-chart {
            display: grid;
            gap: 10px;
            width: 100%;
        }

        .stat-chart__row {
            display: grid;
            grid-template-columns: 90px 1fr 42px;
            align-items: center;
            gap: 10px;
            font-size: 0.9rem;
            color: var(--royal-ink);
        }

        .stat-chart__track {
            height: 10px;
            border-radius: var(--radius-full);
            background: #e8f1fb;
            overflow: hidden;
        }

        .stat-chart__fill {
            display: block;
            height: 100%;
            border-radius: inherit;
        }

        .stat-chart__fill--ocean {
            background: linear-gradient(90deg, #3f85d6, #00a8e8);
        }

        .stat-chart__fill--balcony {
            background: linear-gradient(90deg, #ffb454, #ff8f00);
        }

        .stat-chart__fill--interior {
            background: linear-gradient(90deg, #7f95b8, #6c7f9f);
        }

        .search-summary {
            margin: 0 0 18px;
            font-weight: 600;
            color: var(--royal-blue);
        }

        .rooms-grid {
            grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
            gap: 28px;
        }

        .room-card {
            border-left: 5px solid transparent;
        }

        .room-card--ocean-view {
            border-left-color: #00a8e8;
        }

        .room-card--balcony {
            border-left-color: #ffb400;
        }

        .room-card--interior {
            border-left-color: #6f84a6;
        }

        .room-card__header {
            padding: 28px 28px 0;
        }

        .room-card__content {
            padding: 0 28px 28px;
        }

        .room-category {
            display: inline-flex;
            align-items: center;
            font-size: 0.74rem;
            text-transform: uppercase;
            letter-spacing: 0.08em;
            color: var(--royal-navy);
            background: var(--royal-foam);
            border: 1px solid var(--royal-border);
            border-radius: var(--radius-full);
            padding: 4px 10px;
            margin-bottom: 10px;
        }

        .room-meta-details {
            opacity: 0.75;
            max-height: none;
            margin: 8px 0 12px;
            color: #3a5668;
            font-size: 0.9rem;
            font-style: italic;
            padding-left: 4px;
            border-left: 2px solid rgba(0, 110, 200, 0.2);
        }

        .room-card:hover .room-meta-details,
        .room-card:focus-within .room-meta-details {
            opacity: 0.75;
            margin: 8px 0 12px;
        }

        .quick-actions {
            padding: 28px;
        }

        .action-group {
            margin-top: 20px;
        }

        .action-group__title {
            font-size: 1rem;
            text-transform: uppercase;
            letter-spacing: 0.08em;
            margin-bottom: 10px;
            color: var(--royal-blue);
        }

        .actions-grid {
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 18px;
            margin-top: 0;
        }

        .action-item {
            min-height: 86px;
            position: relative;
        }

        .action-icon {
            width: 52px;
            height: 52px;
            font-size: 1.4rem;
            flex: 0 0 auto;
        }

        .no-search-results {
            margin-top: 20px;
            padding: 14px 16px;
            border: 1px dashed var(--royal-border);
            border-radius: var(--radius-md);
            background: #fff;
            color: var(--royal-ink);
            text-align: center;
            font-weight: 600;
        }

        .room-modal {
            background: rgba(13, 37, 67, 0.42);
        }

        .modal-content {
            max-width: 430px;
            width: min(100%, 430px);
        }

        .modal-header {
            padding: 20px 24px 8px;
            border-bottom: none;
        }

        .modal-description {
            margin: 0;
            color: #5a6e7c;
            opacity: 1;
            padding: 0 24px 16px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
            font-size: 0.95rem;
        }

        #modalTitle {
            font-size: 1.6rem;
            font-weight: 700;
            color: #003b5c;
            letter-spacing: -0.01em;
        }

        .mobile-stats-toggle {
            display: none;
        }

        .stats-grid-wrap {
            display: block;
        }

        /* Rooms-specific readability + scale tuning on top of shared theme */
        body.app-theme-rcc.rooms-page .room-card__header {
            background: linear-gradient(135deg, #f1f9ff 0%, #ffffff 100%) !important;
            border-bottom: 1px solid rgba(0, 120, 200, 0.08);
        }

        body.app-theme-rcc.rooms-page .room-number {
            display: none;
        }

        body.app-theme-rcc.rooms-page .room-type__icon {
            background: #ffffff;
            border: 1px solid rgba(0, 110, 200, 0.15);
            color: #0066b3;
            flex: 0 0 auto;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.02);
        }

        body.app-theme-rcc.rooms-page .room-type__name {
            color: #003b5c !important;
            text-shadow: none !important;
            font-size: 1.7rem;
            font-weight: 700;
            letter-spacing: -0.01em;
            line-height: 1.12;
        }

        body.app-theme-rcc.rooms-page .room-location {
            background: rgba(0, 110, 200, 0.04);
            color: #0066a0;
            border: 1px solid rgba(0, 110, 200, 0.1);
            font-weight: 600;
            font-size: 0.9rem;
            padding: 6px 14px;
        }

        body.app-theme-rcc.rooms-page .room-card__content {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        body.app-theme-rcc.rooms-page .room-card {
            position: relative;
            border: 1px solid rgba(0, 80, 140, 0.08);
            box-shadow: 0 8px 18px rgba(0, 52, 95, 0.08);
            background: #ffffff;
        }

        body.app-theme-rcc.rooms-page .room-card::before {
            content: "";
            position: absolute;
            inset: 0;
            border-radius: inherit;
            pointer-events: none;
            background: linear-gradient(140deg, rgba(18, 132, 230, 0.08), rgba(255, 255, 255, 0) 40%);
        }

        body.app-theme-rcc.rooms-page .room-card:hover,
        body.app-theme-rcc.rooms-page .room-card:focus-within {
            transform: translateY(-3px);
            box-shadow: 0 14px 24px rgba(0, 52, 95, 0.12);
        }

        body.app-theme-rcc.rooms-page .room-card--person-match {
            border-color: rgba(255, 201, 58, 0.65) !important;
            box-shadow: 0 12px 30px rgba(255, 201, 58, 0.28), inset 0 0 0 2px rgba(255, 201, 58, 0.42) !important;
        }

        body.app-theme-rcc.rooms-page .feature-tag {
            padding: 6px 12px;
            min-height: 0;
            font-size: 0.85rem;
            font-weight: 500;
        }

        body.app-theme-rcc.rooms-page .feature-tag i.fa-user,
        body.app-theme-rcc.rooms-page .feature-tag i.fa-life-ring {
            color: #006bb3;
        }

        body.app-theme-rcc.rooms-page .feature-tag i.fa-id-badge,
        body.app-theme-rcc.rooms-page .feature-tag i.fa-ship {
            color: #6b7f8f;
            opacity: 0.8;
        }

        body.app-theme-rcc.rooms-page .feature-tag:has(.fa-user) {
            background: #f0f7ff;
            border-color: rgba(0, 110, 200, 0.2);
            font-weight: 600;
        }

        body.app-theme-rcc.rooms-page .guest-roster {
            display: grid;
            gap: 8px;
            margin-top: 2px;
            padding: 10px 12px;
            border: 1px solid rgba(11, 96, 166, 0.2);
            border-radius: 14px;
            background: linear-gradient(180deg, #f4faff 0%, #eaf5ff 100%);
        }

        body.app-theme-rcc.rooms-page .guest-roster__label {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            margin: 0;
            font-size: 0.78rem;
            font-weight: 800;
            letter-spacing: 0.09em;
            text-transform: uppercase;
            color: var(--royal-blue);
        }

        body.app-theme-rcc.rooms-page .guest-roster__list {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            list-style: none;
            margin: 0;
            padding: 0;
        }

        body.app-theme-rcc.rooms-page .guest-pill {
            display: inline-flex;
            align-items: center;
            padding: 6px 14px;
            background: #f5f9ff;
            border-radius: 40px;
            color: #005c99;
            font-size: 0.9rem;
            font-weight: 600;
            border: 1px solid rgba(0, 100, 180, 0.08);
            line-height: 1;
        }

        body.app-theme-rcc.rooms-page .guest-pill::after {
            content: none;
        }

        body.app-theme-rcc.rooms-page .room-meta-details {
            color: #3a5668;
            font-size: 0.9rem;
            line-height: 1.45;
            margin: 8px 0 12px;
        }

        body.app-theme-rcc.rooms-page .view-deck-btn {
            min-height: 48px;
            font-size: 0.95rem;
        }

        .room-highlights-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 16px 0 20px;
        }

        .highlight-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 10px 16px;
            background: #f5f9ff;
            border-radius: 40px;
            color: #005c99;
            font-size: 0.95rem;
            font-weight: 600;
            border: 1px solid rgba(0, 100, 180, 0.1);
        }

        .modal-room-location {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 8px 14px;
            border-radius: 999px;
            background: #f5f9ff;
            color: #005c99;
            border: 1px solid rgba(0, 100, 180, 0.1);
            font-weight: 600;
        }

        .modal-body-copy {
            color: #2a4a66;
            margin: 8px 0 0;
            font-size: 0.95rem;
            line-height: 1.45;
        }

        .modal-hint {
            color: #5a6e7c;
            margin: 8px 0 0;
            font-size: 0.86rem;
        }

        .modal-actions {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-top: 24px;
        }

        .modal-primary-btn {
            background: #006bb3;
            color: #ffffff;
            padding: 16px;
            border-radius: 16px;
            font-weight: 700;
            font-size: 1.05rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            border: none;
            box-shadow: 0 6px 14px rgba(0, 107, 179, 0.2);
            text-decoration: none;
        }

        .modal-secondary-btn {
            background: #ffffff;
            color: #1e3b5c;
            padding: 14px;
            border-radius: 16px;
            font-weight: 600;
            font-size: 1rem;
            border: 1.5px solid rgba(0, 80, 140, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            cursor: pointer;
        }

        .main a:focus-visible,
        .main button:focus-visible,
        .main input:focus-visible {
            outline: 3px solid rgba(0, 168, 232, 0.35);
            outline-offset: 2px;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .hero--rooms {
                padding: 30px 0 16px;
                margin-bottom: 14px;
            }

            .hero__title {
                font-size: clamp(1.65rem, 7vw, 2rem);
            }

            .hero__description {
                margin-bottom: 0;
                font-size: 0.95rem;
                max-width: 100%;
            }

            .hero__eyebrow,
            .hero__highlights,
            .hero__actions,
            .page-spine {
                display: none;
            }

            .hero__actions {
                flex-direction: column;
            }

            .btn {
                width: 100%;
                justify-content: center;
            }

            .rooms-grid {
                grid-template-columns: 1fr;
                gap: 18px;
            }

            .focus-section {
                margin-bottom: 20px;
            }

            .focus-section__title {
                font-size: 1.02rem;
            }

            .focus-section__subtitle {
                font-size: 0.82rem;
            }

            .stat-value {
                font-size: 2.2rem;
            }

            .actions-grid {
                grid-template-columns: 1fr;
            }

            .nav-controls {
                flex-direction: column;
                align-items: stretch;
            }

            .nav-heading {
                padding-bottom: 8px;
                margin-bottom: 2px;
            }

            .nav-heading__subtitle {
                display: none;
            }

            .search-box,
            .filter-control {
                max-width: 100%;
                width: 100%;
            }

            .search-box input {
                min-height: 54px;
                font-size: 16px;
                padding: 14px 16px 14px 46px;
            }

            .family-finder {
                margin-bottom: 14px;
            }

            .family-finder__controls input {
                min-width: 180px;
            }

            .filter-control .filter-btn {
                width: 100%;
                justify-content: center;
                min-height: 52px;
            }

            .filter-panel {
                left: 0;
                right: 0;
            }

            .mobile-stats-toggle {
                display: inline-flex;
                align-items: center;
                gap: 8px;
            }

            .stats-grid-wrap {
                display: none;
            }

            .stats-grid-wrap.is-open {
                display: block;
            }

            .filter-link {
                min-height: 44px;
                justify-content: center;
            }

            body.app-theme-rcc.rooms-page .room-card {
                border-radius: 18px;
                box-shadow: 0 12px 26px rgba(6, 45, 83, 0.14);
            }

            body.app-theme-rcc.rooms-page .room-card__header {
                padding: 20px 18px 0;
            }

            body.app-theme-rcc.rooms-page .room-number {
                display: none;
            }

            body.app-theme-rcc.rooms-page .room-type__icon {
                width: 44px;
                height: 44px;
                font-size: 1.24rem;
            }

            body.app-theme-rcc.rooms-page .room-type__name {
                font-size: clamp(1.6rem, 8.2vw, 2rem);
            }

            body.app-theme-rcc.rooms-page .room-location {
                font-size: 1rem;
                min-height: 40px;
            }

            body.app-theme-rcc.rooms-page .room-card__content {
                padding: 0 18px 20px;
                gap: 10px;
            }

            body.app-theme-rcc.rooms-page .guest-roster {
                padding: 10px;
                border-radius: 12px;
            }

            body.app-theme-rcc.rooms-page .guest-roster__label {
                font-size: 0.75rem;
            }

            body.app-theme-rcc.rooms-page .room-features {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 10px;
                margin-bottom: 12px;
            }

            body.app-theme-rcc.rooms-page .feature-tag {
                width: 100%;
                min-height: 44px;
                padding: 10px 12px;
                font-size: 0.99rem;
            }

            body.app-theme-rcc.rooms-page .room-card__actions {
                padding-top: 14px;
            }

            .room-card__status-bar {
                padding: 12px 18px 0;
            }

            .status-badge {
                font-size: 0.7rem;
            }

            body.app-theme-rcc.rooms-page .view-deck-btn {
                min-height: 52px;
                font-size: 1.03rem;
                padding: 12px 14px;
            }

            body.app-theme-rcc.rooms-page .room-details-btn {
                min-height: 46px;
                border-color: transparent;
            }

            .quick-actions {
                padding: 20px 16px;
            }

            .action-item {
                min-height: 92px;
                padding: 16px;
            }

            .action-icon {
                width: 50px;
                height: 50px;
            }

            .action-content h4 {
                font-size: 1rem;
            }

            .action-content p {
                font-size: 0.92rem;
            }

            .comparison-rail {
                padding: 12px;
                border-top-left-radius: 16px;
                border-top-right-radius: 16px;
                bottom: calc(84px + env(safe-area-inset-bottom));
                max-height: 38vh;
            }

            .keyboard-hint {
                left: 10px;
                right: 10px;
                bottom: calc(94px + env(safe-area-inset-bottom));
                font-size: 0.72rem;
            }
        }

        @media (max-width: 480px) {
            .hero__title {
                font-size: 1.8rem;
            }

            .section-header {
                flex-direction: column;
                align-items: stretch;
            }

            .rooms-count {
                align-self: flex-start;
            }

            .rooms-grid {
                gap: 14px;
            }

            .comparison-grid {
                grid-template-columns: 1fr;
            }

            body.app-theme-rcc.rooms-page .room-card__header {
                padding: 16px 14px 0;
            }

            body.app-theme-rcc.rooms-page .room-card__content {
                padding: 0 14px 16px;
            }

            body.app-theme-rcc.rooms-page .room-features {
                grid-template-columns: 1fr;
                gap: 8px;
            }

            body.app-theme-rcc.rooms-page .feature-tag {
                min-height: 42px;
                font-size: 0.95rem;
            }

            body.app-theme-rcc.rooms-page .view-deck-btn {
                min-height: 50px;
                font-size: 0.98rem;
            }
        }

        /* Animations */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-fade-in {
            animation: fadeIn 0.6s ease forwards;
        }

        .is-reveal-pending {
            opacity: 0;
            transform: translateY(14px);
        }

        @keyframes ripple {
            to {
                transform: scale(4);
                opacity: 0;
            }
        }

/* ===== operations.html ===== */
    .hero--operations .hero__description {
      max-width: 62ch;
    }

    .operations-page .deck-visual {
      display: none;
    }

    .operations-page .deck-card.is-complete .deck-card__cta {
      opacity: 0.75;
    }

    .operations-page .checklist-note {
      margin: 10px 0 0;
      font-size: 0.9rem;
      color: #315a80;
    }

    .term-help {
      border-bottom: 1px dotted rgba(17, 56, 95, 0.35);
      text-decoration: none;
    }

/* ===== tips.html ===== */
    .hero--tips .hero__description {
      max-width: 64ch;
    }

    .pro-moves-page .pro-moves-note {
      margin: 10px 0 0;
      color: #355b7d;
      font-size: 0.9rem;
    }

/* ===== photos.html ===== */
/* ==========================================================================
         PHOTO LIBRARY — PREMIUM PASS (drop-in)
         Keeps your existing IDs + behaviors, upgrades the experience.
         ========================================================================== */

      body.app-theme-rcc {
        background: linear-gradient(180deg, #f4fbff 0%, #eaf6ff 100%) !important;
        color: var(--royal-ink) !important;
        font-family: "Inter", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }

      .photo-library-page {
        --gallery-gap: 14px;
        --glass: rgba(255, 255, 255, 0.18);
        --glass-strong: rgba(255, 255, 255, 0.28);
        --dark-glass: rgba(6, 18, 32, 0.68);
        --focus: 0 0 0 4px rgba(25, 194, 255, 0.22);
      }

      /* Containers */
      .photo-hero__inner,
      .gallery-controls__inner,
      .gallery-main,
      .quick-links,
      .featured-strip__inner {
        max-width: 1200px;
        margin: 0 auto;
        padding: 1.2rem 1.2rem;
      }

      /* =======================
         HERO — cinematic
         ======================= */
      .photo-hero {
        position: relative;
        color: #fff;
        margin-bottom: 1.05rem;
        background: linear-gradient(130deg, var(--royal-navy) 0%, var(--royal-blue) 52%, #129bd8 100%);
        overflow: hidden;
        border-bottom: 1px solid rgba(255, 255, 255, 0.18);
        box-shadow: inset 0 -1px 0 rgba(255, 255, 255, 0.18), 0 18px 40px rgba(11, 79, 144, 0.18);
      }

      .photo-hero::before {
        content: "";
        position: absolute;
        inset: -20%;
        background:
          radial-gradient(circle at 18% 22%, rgba(255, 255, 255, 0.34), transparent 36%),
          radial-gradient(circle at 86% 78%, rgba(255, 255, 255, 0.18), transparent 44%),
          linear-gradient(180deg, rgba(0, 0, 0, 0.12) 0%, rgba(0, 0, 0, 0.04) 55%, rgba(0, 0, 0, 0.18) 100%);
        animation: heroFloat 18s linear infinite;
        pointer-events: none;
      }

      .photo-hero::after {
        content: "";
        position: absolute;
        left: 0;
        right: 0;
        bottom: 0;
        height: 8px;
        background: linear-gradient(90deg, rgba(255, 201, 58, 0.18) 0%, rgba(255, 201, 58, 0.72) 50%, rgba(255, 201, 58, 0.18) 100%);
        pointer-events: none;
      }

      @keyframes heroFloat {
        0% { transform: translateX(-2%) translateY(0); }
        50% { transform: translateX(2%) translateY(-2%); }
        100% { transform: translateX(-2%) translateY(0); }
      }

      .photo-hero__inner {
        position: relative;
        z-index: 2;
      }

      .photo-hero h1 {
        margin: 0;
        font-family: "Montserrat", sans-serif;
        font-weight: 800;
        letter-spacing: -0.02em;
        font-size: clamp(1.9rem, 5vw, 2.8rem);
      }

      .photo-hero__eyebrow {
        display: inline-block;
        margin: 0 0 0.55rem;
        padding: 0.4rem 0.7rem;
        border-radius: 999px;
        border: 1px solid rgba(255, 255, 255, 0.28);
        background: rgba(255, 255, 255, 0.14);
        font-size: 0.76rem;
        font-weight: 800;
        letter-spacing: 0.03em;
        text-transform: uppercase;
      }

      .photo-hero__subtitle {
        margin: 0.55rem 0 0.9rem;
        opacity: 0.92;
        max-width: 72ch;
        line-height: 1.45;
      }

      .hero-stats {
        display: flex;
        flex-wrap: wrap;
        gap: 0.6rem;
        margin: 0.7rem 0 0.95rem;
      }

      .hero-chip {
        display: inline-flex;
        align-items: center;
        gap: 0.45rem;
        padding: 0.45rem 0.7rem;
        border-radius: 999px;
        border: 1px solid rgba(255, 255, 255, 0.26);
        background: rgba(255, 255, 255, 0.14);
        backdrop-filter: blur(10px);
        font-weight: 800;
        font-size: 0.82rem;
      }

      .hero-chip i { opacity: 0.95; }

      /* =======================
         Controls bar
         ======================= */
      .gallery-controls {
        position: sticky;
        top: 0;
        z-index: 60;
        backdrop-filter: blur(10px);
        background: rgba(255, 255, 255, 0.92);
        border-bottom: 1px solid var(--royal-border);
        box-shadow: 0 10px 26px rgba(11, 79, 144, 0.08);
      }

      .gallery-controls__inner {
        display: grid;
        grid-template-columns: minmax(220px, 1fr) auto auto;
        align-items: center;
        gap: 0.8rem;
        padding-top: 0.85rem;
        padding-bottom: 0.85rem;
      }

      .gallery-search {
        position: relative;
      }

      .gallery-search i {
        position: absolute;
        top: 50%;
        left: 0.85rem;
        transform: translateY(-50%);
        color: var(--royal-ink);
        opacity: 0.7;
      }

      .gallery-search input {
        width: 100%;
        border: 2px solid var(--royal-border);
        border-radius: 12px;
        padding: 0.72rem 0.9rem 0.72rem 2.35rem;
        font: inherit;
        background: #fff;
        transition: var(--royal-transition);
      }

      .gallery-search input:focus-visible {
        outline: none;
        box-shadow: var(--focus);
        border-color: rgba(25, 194, 255, 0.55);
      }

      .gallery-filters,
      .gallery-view-toggle {
        display: flex;
        align-items: center;
        gap: 0.45rem;
        flex-wrap: wrap;
      }

      .filter-btn,
      .view-btn,
      .ghost-btn {
        border: 2px solid var(--royal-border);
        background: #fff;
        color: var(--royal-navy);
        padding: 0.55rem 0.85rem;
        border-radius: 999px;
        font-weight: 800;
        cursor: pointer;
        transition: var(--royal-transition);
        text-decoration: none;
      }

      .view-btn {
        border-radius: 12px;
        min-width: 44px;
        text-align: center;
      }

      .filter-btn:is(:hover, :focus-visible),
      .view-btn:is(:hover, :focus-visible),
      .ghost-btn:is(:hover, :focus-visible) {
        border-color: var(--royal-blue);
        outline: none;
        box-shadow: 0 0 0 4px rgba(0, 121, 212, 0.12);
      }

      .filter-btn.active,
      .view-btn.active {
        color: #fff;
        border-color: var(--royal-blue);
        background: var(--royal-blue);
      }

      /* =======================
         Featured strip
         ======================= */
      .featured-strip {
        padding-top: 0;
        padding-bottom: 0.2rem;
      }

      .featured-header {
        display: flex;
        align-items: baseline;
        justify-content: space-between;
        gap: 0.8rem;
        flex-wrap: wrap;
        margin: 0.2rem 0 0.75rem;
      }

      .featured-title {
        margin: 0;
        font-family: "Montserrat", sans-serif;
        font-size: 1.15rem;
        letter-spacing: -0.01em;
        color: var(--royal-navy);
      }

      .featured-sub {
        margin: 0;
        color: var(--royal-ink);
        opacity: 0.85;
        font-weight: 700;
        font-size: 0.9rem;
      }

      .featured-rail {
        display: grid;
        grid-auto-flow: column;
        grid-auto-columns: minmax(240px, 1fr);
        gap: 0.8rem;
        overflow-x: auto;
        padding-bottom: 0.4rem;
        scroll-snap-type: x mandatory;
        -webkit-overflow-scrolling: touch;
      }

      .featured-card {
        position: relative;
        scroll-snap-align: start;
        border-radius: 16px;
        overflow: hidden;
        border: 1px solid var(--royal-border);
        background: #fff;
        box-shadow: var(--royal-shadow-lg);
        cursor: pointer;
        transition: var(--royal-transition);
        min-height: 170px;
      }

      .featured-card:is(:hover, :focus-within) {
        transform: translateY(-2px);
        box-shadow: var(--royal-shadow-xl);
      }

      .featured-card__img {
        width: 100%;
        height: 170px;
        object-fit: cover;
        display: block;
        background: var(--royal-light);
        transform: scale(1.02);
        transition: transform 0.6s ease;
      }

      .featured-card:hover .featured-card__img { transform: scale(1.08); }

      .featured-card__overlay {
        position: absolute;
        inset: 0;
        background:
          linear-gradient(180deg, rgba(0,0,0,0.06) 12%, rgba(0,0,0,0.74) 100%);
        pointer-events: none;
      }

      .featured-card__meta {
        position: absolute;
        left: 12px;
        right: 12px;
        bottom: 12px;
        display: flex;
        flex-direction: column;
        gap: 0.35rem;
        color: #fff;
      }

      .featured-card__name {
        margin: 0;
        font-weight: 900;
        letter-spacing: -0.01em;
        font-size: clamp(0.92rem, 3.6vw, 1.04rem);
        line-height: 1.2;
        color: #ffffff !important;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
        text-shadow: 0 10px 22px rgba(0,0,0,0.35);
      }

      .featured-card__chips {
        display: flex;
        flex-wrap: wrap;
        gap: 0.35rem;
      }

      .mini-chip {
        display: inline-flex;
        align-items: center;
        gap: 0.35rem;
        padding: 0.25rem 0.5rem;
        border-radius: 999px;
        border: 1px solid rgba(255, 255, 255, 0.22);
        background: rgba(16, 43, 76, 0.72);
        backdrop-filter: blur(10px);
        font-size: 0.74rem;
        font-weight: 800;
        color: #ffffff;
      }

      /* =======================
         Gallery / cards
         ======================= */
      .gallery-main {
        padding-top: 1.0rem;
        padding-bottom: 2.2rem;
      }

      .gallery-info-bar {
        background: var(--royal-light);
        border: 1px solid var(--royal-border);
        border-radius: 14px;
        padding: 0.75rem 0.95rem;
        margin-bottom: 1rem;
        display: flex;
        justify-content: space-between;
        gap: 0.8rem;
        align-items: center;
        flex-wrap: wrap;
      }

      .photo-count {
        font-weight: 900;
        color: var(--royal-navy);
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
      }

      .count-pill {
        display: inline-flex;
        align-items: center;
        gap: 0.35rem;
        padding: 0.25rem 0.55rem;
        border-radius: 999px;
        border: 1px solid rgba(0, 121, 212, 0.18);
        background: rgba(255, 255, 255, 0.8);
        font-size: 0.78rem;
        font-weight: 900;
        color: #0b4f90;
      }

      .sort-control {
        display: inline-flex;
        align-items: center;
        gap: 0.45rem;
      }

      .sort-control label {
        font-weight: 800;
        color: var(--royal-ink);
        opacity: 0.9;
      }

      .sort-control select {
        padding: 0.48rem 0.7rem;
        border: 2px solid var(--royal-border);
        border-radius: 10px;
        background: #fff;
        font: inherit;
        font-weight: 700;
      }


      .collection-admin {
        display: grid;
        gap: 0.8rem;
        margin-bottom: 1rem;
      }

      .collection-admin[hidden] { display: none; }

      .collection-admin__stats {
        display: grid;
        grid-template-columns: repeat(3, minmax(0, 1fr));
        gap: 0.7rem;
      }

      .admin-stat {
        border: 1px solid var(--royal-border);
        border-radius: 12px;
        background: linear-gradient(180deg, #ffffff 0%, #f6fbff 100%);
        padding: 0.7rem 0.8rem;
        box-shadow: var(--shadow-light);
      }

      .admin-stat__label {
        display: block;
        font-size: 0.75rem;
        font-weight: 800;
        letter-spacing: 0.04em;
        text-transform: uppercase;
        color: #2f618f;
      }

      .admin-stat__value {
        display: block;
        margin-top: 0.2rem;
        font-size: 1.15rem;
        font-weight: 900;
        color: var(--royal-navy);
      }

      .collection-admin__tools {
        display: grid;
        grid-template-columns: 1.2fr 1fr 1fr;
        gap: 0.7rem;
      }

      .admin-card {
        border: 1px solid var(--royal-border);
        border-radius: 12px;
        background: #fff;
        padding: 0.72rem;
      }

      .admin-card__title {
        margin: 0 0 0.5rem;
        font-size: 0.84rem;
        font-weight: 900;
        color: var(--royal-navy);
        letter-spacing: 0.02em;
        text-transform: uppercase;
      }

      .admin-tool-row {
        display: flex;
        flex-wrap: wrap;
        gap: 0.45rem;
      }

      .admin-btn {
        border: 1px solid var(--royal-border);
        background: #fff;
        color: var(--royal-navy);
        border-radius: 9px;
        padding: 0.42rem 0.62rem;
        font-weight: 800;
        font-size: 0.82rem;
        cursor: pointer;
      }

      .admin-btn:hover,
      .admin-btn:focus-visible {
        outline: none;
        border-color: var(--royal-blue);
        box-shadow: 0 0 0 3px rgba(0, 121, 212, 0.12);
      }

      .admin-field {
        display: grid;
        gap: 0.3rem;
        margin-bottom: 0.45rem;
      }

      .admin-field label {
        font-size: 0.74rem;
        font-weight: 800;
        letter-spacing: 0.04em;
        text-transform: uppercase;
        color: #2f618f;
      }

      .admin-field input,
      .admin-field select {
        border: 1px solid var(--royal-border);
        border-radius: 9px;
        padding: 0.42rem 0.55rem;
        font: inherit;
      }

      .drop-zone {
        border: 2px dashed rgba(0, 121, 212, 0.32);
        border-radius: 12px;
        background: linear-gradient(180deg, #f8fcff 0%, #eef8ff 100%);
        padding: 0.9rem;
        text-align: center;
      }

      .drop-zone.is-dragover {
        border-color: var(--royal-blue);
        box-shadow: 0 0 0 4px rgba(0, 121, 212, 0.14);
        background: #e8f5ff;
      }

      .drop-zone__title {
        margin: 0;
        font-weight: 800;
        color: var(--royal-navy);
      }

      .drop-zone__meta {
        margin: 0.2rem 0 0.55rem;
        font-size: 0.84rem;
        color: var(--royal-ink);
      }

      .drop-zone__input { display: none; }

      .gallery-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
        gap: var(--gallery-gap);
      }

      .gallery-list {
        display: grid;
        gap: 0.85rem;
      }

      body.gallery-list-view .gallery-grid { display: none; }
      body.gallery-grid-view .gallery-list { display: none; }

      .photo-card,
      .list-item {
        position: relative;
        border: 1px solid var(--royal-border);
        border-radius: 14px;
        overflow: hidden;
        background: #fff;
        box-shadow: var(--royal-shadow-lg);
        transition: var(--royal-transition);
        outline: none;
      }

      .photo-card:is(:hover, :focus-within),
      .list-item:is(:hover, :focus-within) {
        transform: translateY(-2px);
        box-shadow: var(--royal-shadow-xl);
      }

      .photo-card:focus-within,
      .list-item:focus-within { box-shadow: var(--royal-shadow-xl), var(--focus); }

      .photo-card {
        display: flex;
        flex-direction: column;
        cursor: pointer;
      }

      .photo-card__notes {
        margin: 0.5rem 0 0;
        color: #38566f;
        font-size: 0.84rem;
        font-style: italic;
      }

      /* Category accent band (data-category applied by JS) */
      .photo-card::before,
      .list-item::before {
        content: "";
        position: absolute;
        left: 0;
        top: 0;
        height: 4px;
        width: 100%;
        background: linear-gradient(90deg, rgba(0,121,212,0.25), rgba(25,194,255,0.25));
      }

      .photo-card[data-category="ports"]::before,
      .list-item[data-category="ports"]::before {
        background: linear-gradient(90deg, rgba(255,201,58,0.9), rgba(255,176,32,0.7));
      }

      .photo-card[data-category="dining"]::before,
      .list-item[data-category="dining"]::before {
        background: linear-gradient(90deg, rgba(25,194,255,0.85), rgba(0,121,212,0.7));
      }

      .photo-card[data-category="staterooms"]::before,
      .list-item[data-category="staterooms"]::before {
        background: linear-gradient(90deg, rgba(126,157,189,0.9), rgba(11,79,144,0.55));
      }

      .photo-card[data-category="decks"]::before,
      .list-item[data-category="decks"]::before {
        background: linear-gradient(90deg, rgba(0,121,212,0.85), rgba(11,79,144,0.7));
      }

      .photo-card[data-category="activities"]::before,
      .list-item[data-category="activities"]::before {
        background: linear-gradient(90deg, rgba(25,194,255,0.65), rgba(255,201,58,0.7));
      }

      .photo-card__image,
      .list-item__image {
        width: 100%;
        aspect-ratio: 4 / 3;
        object-fit: cover;
        display: block;
        background: var(--royal-light);
        transform: scale(1.02);
        transition: transform 0.6s ease, filter 0.2s ease;
      }

      .photo-card:hover .photo-card__image,
      .list-item:hover .list-item__image { transform: scale(1.08); }

      /* Shimmer placeholder until loaded */
      .img-shimmer {
        background: linear-gradient(90deg, #eef6fb 25%, #f9fcff 50%, #eef6fb 75%);
        background-size: 200% 100%;
        animation: shimmer 1.5s infinite;
        filter: saturate(0.9);
      }

      @keyframes shimmer {
        0% { background-position: 200% 0; }
        100% { background-position: -200% 0; }
      }

      .photo-card__content,
      .list-item__content {
        padding: 0.9rem;
      }

      .photo-card__title {
        margin: 0;
        color: var(--royal-navy);
        font-size: 1.05rem;
        font-weight: 900;
        letter-spacing: -0.01em;
      }

      .photo-card__meta {
        margin: 0.6rem 0 0.55rem;
        display: flex;
        flex-wrap: wrap;
        gap: 0.45rem;
      }

      .meta-tag {
        display: inline-flex;
        align-items: center;
        gap: 0.35rem;
        font-size: 0.78rem;
        padding: 0.26rem 0.5rem;
        border-radius: 9px;
        background: var(--royal-light);
        color: var(--royal-navy);
        font-weight: 900;
        border: 1px solid rgba(0, 121, 212, 0.10);
      }

      .photo-card__description {
        margin: 0;
        color: var(--royal-ink);
        opacity: 0.9;
        font-size: 0.93rem;
        line-height: 1.45;
      }

      .source-badge {
        position: absolute;
        top: 10px;
        right: 10px;
        display: inline-flex;
        align-items: center;
        gap: 0.35rem;
        padding: 0.3rem 0.55rem;
        border-radius: 999px;
        font-weight: 900;
        font-size: 0.76rem;
        color: #fff;
        border: 1px solid rgba(255,255,255,0.22);
        background: rgba(0,0,0,0.52);
        backdrop-filter: blur(10px);
        pointer-events: none;
      }

      .list-item {
        display: grid;
        grid-template-columns: 220px minmax(0, 1fr);
        align-items: stretch;
        cursor: pointer;
      }

      .list-item__image {
        height: 100%;
        border-radius: 0;
        aspect-ratio: auto;
      }

      /* =======================
         Empty state
         ======================= */
      .gallery-empty {
        text-align: center;
        padding: 2.2rem 1.2rem;
        border: 2px dashed var(--royal-border);
        border-radius: 14px;
        background: #fff;
        margin-top: 1rem;
        animation: fadeIn 0.35s ease;
      }

      @keyframes fadeIn {
        from { opacity: 0; transform: translateY(6px); }
        to { opacity: 1; transform: translateY(0); }
      }

      .empty-title {
        margin: 0 0 0.35rem;
        font-family: "Montserrat", sans-serif;
        font-weight: 900;
        color: var(--royal-navy);
      }

      .empty-sub {
        margin: 0 auto 1rem;
        max-width: 62ch;
        color: var(--royal-ink);
        opacity: 0.9;
        font-weight: 700;
      }

      .empty-actions {
        display: flex;
        justify-content: center;
        gap: 0.55rem;
        flex-wrap: wrap;
      }

      .ghost-btn {
        border-radius: 12px;
        padding: 0.65rem 0.9rem;
        font-weight: 900;
      }

      /* =======================
         Lightbox — premium
         ======================= */
      .lightbox {
        position: fixed;
        inset: 0;
        display: none;
        background: rgba(6, 18, 32, 0.94);
        z-index: 1000;
        align-items: center;
        justify-content: center;
        padding: 1rem;
        opacity: 0;
        transition: opacity 0.25s ease;
      }

      .lightbox.active {
        display: flex;
        opacity: 1;
      }

      .lightbox__shell {
        max-width: min(100%, 1120px);
        width: 100%;
        display: grid;
        grid-template-columns: minmax(0, 1fr);
        gap: 0.7rem;
        position: relative;
      }

      .lightbox__image {
        width: 100%;
        max-height: 76vh;
        object-fit: contain;
        border-radius: 14px;
        background: rgba(255, 255, 255, 0.06);
      }

      .lightbox__toolbar {
        display: flex;
        justify-content: space-between;
        gap: 0.7rem;
        align-items: center;
        color: #fff;
      }

      .lightbox__left {
        display: flex;
        flex-direction: column;
        gap: 0.18rem;
        min-width: 0;
      }

      .lightbox__title {
        margin: 0;
        font-weight: 900;
        font-size: 1.05rem;
        letter-spacing: -0.01em;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      .lightbox__desc {
        margin: 0;
        opacity: 0.88;
        font-weight: 700;
        font-size: 0.9rem;
        line-height: 1.35;
      }

      .lightbox__counter {
        display: inline-flex;
        align-items: center;
        gap: 0.45rem;
        margin-top: 0.2rem;
        font-size: 0.8rem;
        font-weight: 900;
        opacity: 0.92;
      }

      .lightbox__actions {
        display: flex;
        gap: 0.4rem;
        flex-wrap: wrap;
        justify-content: flex-end;
      }

      .lightbox button,
      .lightbox a.lightbox__link {
        border: none;
        border-radius: 999px;
        padding: 0.5rem 0.8rem;
        background: rgba(255, 255, 255, 0.13);
        color: #fff;
        cursor: pointer;
        font: inherit;
        font-weight: 900;
        text-decoration: none;
        display: inline-flex;
        align-items: center;
        gap: 0.45rem;
      }

      .lightbox button:is(:hover, :focus-visible),
      .lightbox a.lightbox__link:is(:hover, :focus-visible) {
        outline: none;
        background: rgba(255, 255, 255, 0.18);
        box-shadow: 0 0 0 4px rgba(25, 194, 255, 0.16);
      }

      /* Big prev/next hit targets */
      .lightbox-nav {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        width: 52px;
        height: 52px;
        border-radius: 999px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        background: rgba(255, 255, 255, 0.12);
        border: 1px solid rgba(255,255,255,0.18);
        backdrop-filter: blur(10px);
      }

      .lightbox-nav--prev { left: -8px; }
      .lightbox-nav--next { right: -8px; }

      .lightbox-nav i { font-size: 1.05rem; }

      /* =======================
         Quick links
         ======================= */
      .quick-links { padding-top: 0.2rem; }

      .quick-links__grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        gap: 0.8rem;
      }

      .quick-link-card {
        border: 1px solid var(--royal-border);
        border-radius: 14px;
        padding: 1rem;
        color: var(--royal-navy);
        text-decoration: none;
        background: #fff;
        box-shadow: var(--royal-shadow-lg);
        transition: var(--royal-transition);
      }

      .quick-link-card:is(:hover, :focus-visible) {
        outline: none;
        transform: translateY(-2px);
        box-shadow: var(--royal-shadow-xl);
      }

      .quick-link-card h3,
      .quick-link-card p { margin: 0; }

      .quick-link-card p {
        margin-top: 0.35rem;
        color: var(--royal-ink);
        font-size: 0.92rem;
        opacity: 0.9;
        font-weight: 700;
      }

      @media (max-width: 980px) {
        .gallery-controls__inner { grid-template-columns: 1fr; }
        .collection-admin__stats { grid-template-columns: 1fr; }
        .collection-admin__tools { grid-template-columns: 1fr; }
        .list-item { grid-template-columns: 1fr; }
        .lightbox-nav--prev { left: 8px; }
        .lightbox-nav--next { right: 8px; }
      }

      @media (max-width: 767px) {
        .photo-hero__inner,
        .gallery-controls__inner,
        .gallery-main,
        .quick-links,
        .featured-strip__inner {
          padding-left: 0.85rem;
          padding-right: 0.85rem;
        }

        .photo-hero__inner {
          padding-top: 12px !important;
          padding-bottom: 10px !important;
        }

        .photo-hero h1 {
          font-size: clamp(1.45rem, 7vw, 1.9rem);
        }

        .photo-hero__subtitle {
          margin: 0.45rem 0 0.6rem;
          font-size: 0.92rem;
          line-height: 1.35;
        }

        .hero-stats {
          gap: 0.45rem;
          margin: 0.45rem 0 0.65rem;
        }

        .hero-chip {
          padding: 0.34rem 0.58rem;
          font-size: 0.78rem;
        }

        .featured-header {
          align-items: flex-start;
          justify-content: flex-start;
          flex-direction: column;
          gap: 0.18rem;
          margin-bottom: 0.5rem;
        }

        .featured-title {
          font-size: 1.06rem;
        }

        .featured-sub {
          font-size: 0.82rem;
          line-height: 1.25;
        }

        .featured-rail {
          grid-auto-columns: 88%;
          gap: 0.55rem;
          padding-bottom: 0.2rem;
          scroll-padding-left: 0.2rem;
        }

        .featured-card {
          min-height: 154px;
          border-radius: 14px;
        }

        .featured-card__img {
          height: 154px;
        }

        .featured-card__meta {
          left: 10px;
          right: 10px;
          bottom: 10px;
          gap: 0.28rem;
        }

        .featured-card__chips {
          gap: 0.28rem;
        }
      }

      @media (max-width: 480px) {
        .featured-rail {
          grid-auto-columns: 92%;
        }

      }

      @media (prefers-reduced-motion: reduce) {
        .photo-hero::before { animation: none; }
        .featured-card__img,
        .photo-card__image,
        .list-item__image { transition: none; transform: none !important; }
        .img-shimmer { animation: none; }
      }
}
