/* index.html - Cruise Light Dashboard v2 */
.dashboard-page {
  --coast-bg-top: #f5fcff;
  --coast-bg-mid: #eaf7ff;
  --coast-bg-bottom: #e2f3ff;
  --coast-surface: #ffffff;
  --coast-surface-soft: #f7fcff;
  --coast-border: rgba(18, 92, 142, 0.14);
  --coast-shadow: 0 12px 30px rgba(17, 89, 136, 0.1);
  --coast-shadow-soft: 0 8px 20px rgba(17, 89, 136, 0.08);
  --coast-text: #164466;
  --coast-muted: #5e7d95;
  --coast-info: #1688b8;
  --coast-ok: #178d75;
  --coast-warn: #af7a39;
  --coast-accent: linear-gradient(135deg, #1caad8 0%, #1dc0b2 100%);
  --coast-accent-soft: linear-gradient(135deg, #dff6ff 0%, #edf9f3 100%);
  --type-title-xl: clamp(2rem, 4.8vw, 3.2rem);
  --type-title-lg: clamp(1.35rem, 2.3vw, 2rem);
  --type-subtitle: clamp(0.96rem, 1.7vw, 1.08rem);
  --space-section: 18px;
  --home-hero-position: 66% 44%;

  background:
    radial-gradient(circle at 14% 4%, rgba(75, 193, 232, 0.2), transparent 26%),
    radial-gradient(
      circle at 86% 0%,
      rgba(255, 208, 128, 0.19),
      transparent 22%
    ),
    linear-gradient(
      180deg,
      var(--coast-bg-top) 0%,
      var(--coast-bg-mid) 52%,
      var(--coast-bg-bottom) 100%
    );
  color: var(--coast-text);
}

.dashboard-page .hero--cinematic {
  position: relative;
  overflow: hidden;
  border-radius: 0 0 26px 26px;
  margin: 12px auto 10px;
  min-height: clamp(300px, 48vh, 460px);
  max-width: min(1220px, calc(100% - 24px));
  border: 1px solid rgba(22, 96, 146, 0.18);
  box-shadow: 0 22px 48px rgba(16, 82, 126, 0.22);
  isolation: isolate;
}

.dashboard-page .hero__media,
.dashboard-page .hero__media img,
.dashboard-page .hero__overlay,
.dashboard-page .hero__content {
  position: absolute;
  inset: 0;
}

.dashboard-page .hero__media img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: var(--home-hero-position, center 42%);
  transform-origin: center;
  transform: scale(1.03);
  transition: transform 760ms cubic-bezier(0.2, 0.9, 0.2, 1);
  filter: saturate(1.08) contrast(1.04) brightness(0.96);
  will-change: transform;
}

.dashboard-page .hero--cinematic.is-ready .hero__media img {
  transform: scale(1);
}

.dashboard-page .hero__overlay {
  background:
    radial-gradient(
      circle at 14% 18%,
      rgba(255, 226, 159, 0.22),
      transparent 42%
    ),
    radial-gradient(
      circle at 82% 70%,
      rgba(94, 202, 231, 0.24),
      transparent 38%
    ),
    linear-gradient(
      180deg,
      rgba(246, 251, 255, 0.16) 0%,
      rgba(169, 218, 239, 0.12) 40%,
      rgba(7, 54, 86, 0.58) 100%
    );
}

.dashboard-page .hero__content {
  position: relative;
  z-index: 1;
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
  align-items: flex-start;
  gap: 10px;
  color: #f3fbff;
  padding: clamp(18px, 3.2vw, 30px);
}

.dashboard-page .hero--cinematic .hero__content::after {
  content: none;
}

.dashboard-page .hero__content::before {
  content: "";
  position: absolute;
  left: clamp(10px, 2vw, 18px);
  right: auto;
  bottom: clamp(10px, 1.8vw, 16px);
  top: clamp(10px, 1.8vw, 16px);
  border-radius: 18px;
  width: min(760px, calc(100% - 28px));
  background: linear-gradient(
    110deg,
    rgba(5, 42, 68, 0.66) 0%,
    rgba(5, 42, 68, 0.5) 46%,
    rgba(5, 42, 68, 0.1) 100%
  );
  border: 1px solid rgba(255, 255, 255, 0.12);
  backdrop-filter: blur(2px);
  -webkit-backdrop-filter: blur(2px);
  pointer-events: none;
  z-index: 0;
}

.dashboard-page .hero__content > * {
  position: relative;
  z-index: 1;
}

.dashboard-page .hero__eyebrow {
  margin: 0;
  display: inline-flex;
  align-items: center;
  gap: 7px;
  border-radius: 999px;
  padding: 6px 12px;
  font-size: 0.72rem;
  font-weight: 800;
  letter-spacing: 0.09em;
  text-transform: uppercase;
  color: #ebfaff;
  background: rgba(5, 51, 82, 0.36);
  border: 1px solid rgba(255, 255, 255, 0.28);
}

.dashboard-page .hero__content h1 {
  margin: 0;
  font-size: var(--type-title-xl);
  letter-spacing: -0.015em;
  line-height: 1.02;
  color: #f7fdff !important;
  text-shadow: 0 14px 28px rgba(4, 22, 36, 0.58);
  max-width: 18ch;
  text-wrap: balance;
  opacity: 0;
  transform: translateY(12px);
  transition:
    opacity 520ms ease,
    transform 520ms ease;
}

.dashboard-page .hero--cinematic.is-ready h1 {
  opacity: 1;
  transform: translateY(0);
}

.dashboard-page .hero__description {
  margin: 0;
  max-width: 34ch;
  color: rgba(240, 251, 255, 0.99) !important;
  font-size: clamp(0.95rem, 1.5vw, 1.08rem);
  line-height: 1.5;
  text-shadow: 0 10px 22px rgba(4, 20, 35, 0.52);
  text-wrap: pretty;
}

.dashboard-page .phase-banner {
  margin: 0;
  width: fit-content;
  padding: 6px 12px;
  border-radius: 999px;
  background: rgba(8, 46, 73, 0.6);
  border: 1px solid rgba(255, 255, 255, 0.42);
  color: #f3fbff;
  font-size: 0.82rem;
  font-weight: 700;
  letter-spacing: 0.02em;
  opacity: 0;
  transition: opacity 520ms ease;
}

.dashboard-page .hero--cinematic.is-ready .phase-banner {
  opacity: 1;
}

.dashboard-page #countdown {
  display: flex;
  flex-wrap: nowrap;
  gap: 8px;
}

.dashboard-page .hero-status-strip {
  margin-top: 0;
  margin-bottom: 4px;
  display: grid;
  grid-template-columns: minmax(0, 1fr) auto;
  align-items: center;
  gap: 8px;
  padding: 10px 14px;
  border-radius: 14px;
  border: 1px solid rgba(17, 94, 142, 0.18);
  background: rgba(255, 255, 255, 0.84);
  box-shadow: 0 8px 18px rgba(17, 89, 136, 0.08);
}

.dashboard-page .countdown-unit {
  opacity: 0;
  transform: translateY(12px);
  transition:
    opacity 280ms ease,
    transform 280ms ease;
  border: 1px solid rgba(255, 255, 255, 0.4);
  border-radius: 12px;
  background: rgba(5, 49, 79, 0.56);
  box-shadow: 0 12px 26px rgba(4, 24, 41, 0.34);
  color: #f4fcff;
  padding: 8px 10px;
  min-width: 82px;
}

.dashboard-page .countdown-unit.is-visible {
  opacity: 1;
  transform: translateY(0);
}

.dashboard-page .countdown-unit strong {
  display: block;
  font-size: 1.08rem;
  line-height: 1;
  margin-bottom: 4px;
}

.dashboard-page .countdown-unit span {
  font-size: 0.74rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  opacity: 0.92;
}

.dashboard-page .hero-status-strip .phase-banner {
  opacity: 1;
  background: rgba(10, 76, 118, 0.12);
  border: 1px solid rgba(14, 95, 143, 0.24);
  color: #13537a;
  white-space: nowrap;
}

.dashboard-page .hero-status-strip .countdown-unit {
  opacity: 1;
  transform: none;
  border: 1px solid rgba(19, 87, 129, 0.2);
  background: #f4fbff;
  box-shadow: 0 6px 14px rgba(12, 87, 132, 0.09);
  color: #145175;
}

.dashboard-page .hero__actions {
  margin-top: 8px;
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
}

.dashboard-page .hero__actions .btn {
  backdrop-filter: blur(4px);
  -webkit-backdrop-filter: blur(4px);
}

.dashboard-page .hero__actions .btn--primary {
  background: linear-gradient(135deg, #26bae0 0%, #1cc3ad 100%);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: #ffffff;
  font-size: 0.95rem;
  padding: 10px 16px;
  border-radius: 12px;
  font-weight: 800;
  letter-spacing: 0.01em;
  box-shadow: 0 12px 26px rgba(5, 90, 136, 0.34);
}

.dashboard-page .hero__actions .btn--secondary {
  background: rgba(5, 43, 70, 0.56);
  border: 1px solid rgba(255, 255, 255, 0.34);
  color: #f1faff;
}

.dashboard-page .dashboard-context-spacer {
  display: none;
}

.dashboard-page .deck-grid {
  margin-top: var(--space-section);
  background: var(--coast-surface);
  border: 1px solid var(--coast-border);
  border-radius: 22px;
  box-shadow: var(--coast-shadow);
  padding: 18px;
}

.dashboard-page #dashboardPrioritiesSection {
  margin-top: 8px;
}

.dashboard-page .hero-status-strip.is-complete {
  grid-template-columns: 1fr;
}

.dashboard-page .hero-status-strip.is-complete #countdown {
  display: none;
}

.dashboard-page .deck-grid__header {
  margin-bottom: 12px;
}

.dashboard-page .deck-grid__title {
  margin: 0;
  font-size: var(--type-title-lg);
  line-height: 1.15;
  letter-spacing: -0.012em;
  color: var(--coast-text);
}

.dashboard-page .deck-grid__subtitle {
  margin: 6px 0 0;
  color: var(--coast-muted);
  font-size: var(--type-subtitle);
}

.dashboard-page .today-stack {
  display: grid;
  grid-template-columns: repeat(12, minmax(0, 1fr));
  gap: 14px;
}

.dashboard-page .today-stack .card--today {
  grid-column: 1 / -1;
}

.dashboard-page .today-stack .card--preview-1 {
  grid-column: 1 / 7;
}

.dashboard-page .today-stack .card--preview-2 {
  grid-column: 7 / -1;
}

.dashboard-page .deck-card {
  position: relative;
  background: var(--coast-surface-soft);
  border: 1px solid var(--coast-border);
  border-radius: 18px;
  box-shadow: var(--coast-shadow-soft);
  padding: 14px;
  transition:
    transform 220ms cubic-bezier(0.2, 0.6, 0.2, 1),
    box-shadow 220ms cubic-bezier(0.2, 0.6, 0.2, 1);
}

.dashboard-page .deck-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 12px 24px rgba(17, 89, 136, 0.14);
}

.dashboard-page .card--today[data-pulse="on"] {
  animation: todayPulse 1200ms ease;
}

@keyframes todayPulse {
  0% {
    transform: translateY(0);
    box-shadow: var(--coast-shadow-soft);
  }

  35% {
    transform: translateY(-2px) scale(1.01);
    box-shadow: 0 16px 28px rgba(16, 103, 156, 0.24);
  }

  100% {
    transform: translateY(0);
    box-shadow: var(--coast-shadow-soft);
  }
}

.dashboard-page .priority-badge {
  position: absolute;
  top: 12px;
  right: 12px;
  z-index: 2;
  border-radius: 999px;
  padding: 4px 9px;
  font-size: 0.67rem;
  font-weight: 800;
  letter-spacing: 0.06em;
  text-transform: uppercase;
  color: #7b5728;
  background: rgba(247, 226, 187, 0.8);
  border: 1px solid rgba(183, 134, 69, 0.28);
}

.dashboard-page .priority-badge--normal {
  color: #116e59;
  background: rgba(206, 240, 232, 0.85);
  border-color: rgba(22, 143, 117, 0.24);
}

.dashboard-page .deck-visual {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 10px;
}

.dashboard-page .deck-visual--topic {
  min-height: 84px;
  border-radius: 13px;
  border: 1px solid rgba(22, 126, 169, 0.18);
  background: var(--coast-accent-soft);
  color: #155a7f;
  display: inline-flex;
  align-items: center;
  gap: 10px;
  width: 100%;
  justify-content: center;
  font-weight: 700;
  letter-spacing: 0.02em;
}

.dashboard-page .deck-info__heading h3 {
  margin: 0;
  color: var(--coast-text);
  font-size: 1.08rem;
}

.dashboard-page .deck-meta {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  margin-top: 7px;
}

.dashboard-page .deck-meta__item {
  font-size: 0.73rem;
  font-weight: 700;
  color: #2a6b91;
  background: rgba(30, 149, 196, 0.12);
  border: 1px solid rgba(30, 149, 196, 0.2);
  border-radius: 999px;
  padding: 4px 8px;
}

.dashboard-page .deck-highlights {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin: 12px 0;
}

.dashboard-page .deck-highlights span {
  background: #f0f8fe;
  padding: 6px 12px;
  border-radius: 999px;
  font-size: 0.82rem;
  color: #1f6288;
  border: 1px solid rgba(22, 126, 169, 0.12);
}

.dashboard-page .deck-subtitle {
  margin-top: 5px;
  color: var(--coast-muted);
  font-size: 0.88rem;
}

.dashboard-page .deck-card__cta {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  width: fit-content;
  border-radius: 12px;
  border: 1px solid rgba(26, 149, 195, 0.2);
  background: #fff;
  color: #1777a2;
  text-decoration: none;
  font-size: 0.84rem;
  font-weight: 800;
  letter-spacing: 0.02em;
  padding: 9px 12px;
}

.dashboard-page .deck-card__cta:hover {
  background: #f2fbff;
}

.dashboard-page .term-help {
  border-bottom: 1px dotted rgba(17, 56, 95, 0.35);
  cursor: help;
  text-decoration: none;
}

.dashboard-page .secondary-groups {
  margin-bottom: 8px;
}

.dashboard-page .secondary-groups__inner {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(230px, 1fr));
  gap: 12px;
}

.dashboard-page .secondary-group {
  background: var(--coast-surface);
  border: 1px solid var(--coast-border);
  border-radius: 14px;
  padding: 14px;
  box-shadow: var(--coast-shadow-soft);
}

.dashboard-page .secondary-group__title {
  display: flex;
  align-items: center;
  gap: 10px;
  margin: 0 0 6px;
  color: var(--coast-text);
  font-size: 1rem;
}

.dashboard-page .secondary-group__icon {
  width: 30px;
  height: 30px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  background: var(--coast-accent);
  color: #fff;
  font-size: 0.8rem;
}

.dashboard-page .secondary-group p {
  margin: 0 0 10px;
  color: var(--coast-muted);
  font-size: 0.9rem;
}

.dashboard-page .group-link {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  text-decoration: none;
  color: var(--coast-info);
  font-weight: 800;
  font-size: 0.88rem;
}

.dashboard-page .tour-card {
  margin: 8px auto 8px;
  padding: 14px;
  border-radius: 14px;
  border: 1px solid var(--coast-border);
  background: var(--coast-surface);
  box-shadow: var(--coast-shadow-soft);
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 12px;
}

.dashboard-page .tour-card h3 {
  margin: 0 0 6px;
  color: var(--coast-text);
  font-size: 1rem;
}

.dashboard-page .tour-card p {
  margin: 0;
  color: var(--coast-muted);
  font-size: 0.92rem;
}

.dashboard-page .tour-card__actions {
  display: inline-flex;
  gap: 8px;
  flex-wrap: wrap;
  margin-top: 8px;
}

.dashboard-page .tour-btn {
  border: 1px solid var(--coast-border);
  background: #fff;
  color: var(--coast-text);
  font-size: 0.82rem;
  font-weight: 800;
  border-radius: 999px;
  padding: 6px 10px;
  cursor: pointer;
  text-decoration: none;
}

.dashboard-page .search-empty {
  margin-top: 12px;
  background: #fff;
  border: 1px dashed var(--coast-border);
  border-radius: 12px;
  padding: 14px 16px;
  font-size: 0.95rem;
  color: var(--coast-text);
  display: grid;
  gap: 10px;
  justify-items: start;
}

.dashboard-page .search-empty__reset {
  border: 1px solid var(--coast-border);
  background: #fff;
  color: var(--coast-info);
  border-radius: 999px;
  padding: 8px 12px;
  font-weight: 800;
  cursor: pointer;
}

.dashboard-page .mobile-collapse-toggle {
  display: none;
}

@media (prefers-reduced-motion: reduce) {
  .dashboard-page .hero__media img,
  .dashboard-page .hero__content h1,
  .dashboard-page .phase-banner,
  .dashboard-page .countdown-unit {
    transition-duration: 1ms !important;
    animation: none !important;
  }

  .dashboard-page .hero__media img,
  .dashboard-page .hero--cinematic.is-ready .hero__media img {
    transform: none;
  }

  .dashboard-page .hero__content h1,
  .dashboard-page .phase-banner,
  .dashboard-page .countdown-unit {
    opacity: 1;
    transform: none;
  }
}

@media (max-width: 940px) {
  .dashboard-page .today-stack {
    grid-template-columns: 1fr;
  }

  .dashboard-page .today-stack .card--today,
  .dashboard-page .today-stack .card--preview-1,
  .dashboard-page .today-stack .card--preview-2 {
    grid-column: auto;
  }

  .dashboard-page .hero-status-strip {
    grid-template-columns: 1fr auto;
  }

  .dashboard-page #countdown {
    grid-column: 1 / -1;
  }
}

@media (max-width: 768px) {
  .dashboard-page .mobile-collapse-toggle {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    border: 1px solid var(--coast-border);
    background: #fff;
    color: var(--coast-text);
    border-radius: 999px;
    padding: 6px 10px;
    font-size: 0.8rem;
    font-weight: 800;
  }

  .mobile-collapsible.is-collapsed .deck-cards,
  .mobile-collapsible.is-collapsed .priority-note {
    display: none;
  }

  .dashboard-page .hero--cinematic {
    margin: 8px auto 10px;
    min-height: clamp(240px, 38vh, 320px);
    border-radius: 0 0 20px 20px;
    max-width: calc(100% - 16px);
  }

  .dashboard-page .hero__content {
    gap: 10px;
    padding: 14px 14px 16px;
  }

  .dashboard-page .hero__content::before {
    left: 8px;
    right: 8px;
    top: 10px;
    bottom: 12px;
    border-radius: 14px;
  }

  .dashboard-page .hero__description {
    font-size: 0.92rem;
    max-width: 28ch;
  }

  .dashboard-page .hero-status-strip {
    margin-top: 0;
    gap: 8px;
    padding: 8px 10px;
    border-radius: 12px;
    grid-template-columns: 1fr;
  }

  .dashboard-page .hero-status-strip .phase-banner {
    width: 100%;
  }

  .dashboard-page #countdown {
    flex-wrap: wrap;
    width: 100%;
  }

  .dashboard-page .hero__actions .btn {
    width: 100%;
    justify-content: center;
    padding: 9px 14px;
    font-size: 0.9rem;
  }

  .dashboard-page .deck-grid {
    border-radius: 16px;
    padding: 12px;
    margin-top: 14px;
  }

  .dashboard-page .deck-card {
    padding: 12px;
    border-radius: 14px;
    margin-bottom: 8px;
  }

  .dashboard-page .deck-card .deck-visual {
    display: none;
  }

  .dashboard-page .priority-badge {
    position: static;
    display: inline-block;
    margin-bottom: 10px;
    width: fit-content;
  }

  .dashboard-page .deck-highlights span {
    font-size: 0.8rem;
    padding: 6px 10px;
  }

  .dashboard-page .deck-card__cta {
    width: 100%;
  }

  .dashboard-page .tour-card {
    margin: 8px auto 6px;
    padding: 12px;
    flex-direction: column;
  }

  .dashboard-page .secondary-groups__inner {
    grid-template-columns: 1fr;
  }
}
