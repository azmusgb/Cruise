<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<title>Deck 04 · Entertainment · Adventure of the Seas</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;}

:root{
  --deep:#083452;
  --mid:#0f4f76;
  --light:#00b4e6;
  --sun:#ffd966;
  --sand:#f6efe4;
  --foam:#e6f9ff;
  --white:#ffffff;
}

body{
  font-family:'Inter',system-ui,sans-serif;
  min-height:100vh;
  overflow-x:hidden;
  color:white;
  background:
    radial-gradient(circle at 50% -10%, rgba(255,217,102,0.5), transparent 55%),
    linear-gradient(180deg, var(--mid), var(--deep));
}

/* ocean shimmer */
body::after{
  content:"";
  position:fixed;
  inset:0;
  background:linear-gradient(120deg,
    transparent 0%,
    rgba(255,255,255,0.04) 45%,
    rgba(255,255,255,0.07) 50%,
    rgba(255,255,255,0.04) 55%,
    transparent 100%);
  animation:oceanMove 10s linear infinite;
  pointer-events:none;
}

@keyframes oceanMove{
  from{transform:translateX(-50%);}
  to{transform:translateX(50%);}
}

/* header */
.header{
  padding:24px 28px;
  display:flex;
  justify-content:space-between;
  align-items:center;
}

.title small{
  text-transform:uppercase;
  letter-spacing:2px;
  opacity:0.7;
  font-size:.8rem;
}

.title h1{
  font-size:1.9rem;
  font-weight:800;
}

.back{
  text-decoration:none;
  color:var(--sun);
  background:rgba(255,255,255,0.1);
  padding:10px 20px;
  border-radius:40px;
  font-weight:600;
  transition:.25s;
}

.back:hover{
  background:var(--sun);
  color:var(--deep);
  transform:translateY(-2px);
}

/* viewer */
.viewer{
  padding:20px 20px 160px;
  display:flex;
  justify-content:center;
  align-items:center;
}

.card{
  background:var(--sand);
  border-radius:40px;
  padding:30px;
  box-shadow:
    0 40px 80px rgba(0,0,0,.4),
    0 0 0 8px rgba(255,255,255,.15) inset;
  position:relative;
  overflow:hidden;
}

.card::before{
  content:"";
  position:absolute;
  inset:0;
  background:radial-gradient(circle at 50% 30%, rgba(255,255,255,.25), transparent 60%);
  pointer-events:none;
}

.svg-container{
  position:relative;
  overflow:hidden;
  touch-action:none;
}

.svg-wrapper{
  transform-origin:center;
  transition:transform .25s cubic-bezier(.2,.9,.3,1.1);
  cursor:grab;
}

.svg-wrapper:active{
  cursor:grabbing;
}

object{
  width:100%;
  max-width:1000px;
  height:auto;
  display:block;
  border-radius:28px;
  background:white;
}

/* controls */
.controls{
  position:fixed;
  bottom:30px;
  left:50%;
  transform:translateX(-50%);
  background:linear-gradient(90deg,var(--light),var(--mid));
  padding:14px 26px;
  border-radius:60px;
  display:flex;
  align-items:center;
  gap:28px;
  box-shadow:0 25px 60px rgba(0,0,0,.4);
}

.controls button{
  width:60px;
  height:50px;
  border:none;
  border-radius:40px;
  font-size:26px;
  font-weight:800;
  background:white;
  color:var(--mid);
  cursor:pointer;
  transition:.2s;
}

.controls button:hover{
  transform:translateY(-3px) scale(1.05);
  background:var(--sun);
}

#reset{
  width:auto;
  padding:0 24px;
  font-size:1rem;
}

.zoom{
  font-size:1.3rem;
  font-weight:700;
  min-width:80px;
  text-align:center;
}

@media(max-width:600px){
  .title h1{font-size:1.5rem;}
  .controls{gap:16px;padding:12px 18px;}
  .controls button{width:50px;height:44px;}
}
</style>
</head>
<body>

<div class="header">
  <div class="title">
    <small>Adventure of the Seas</small>
    <h1>Deck 04 · Entertainment</h1>
  </div>
  <a href="index.html" class="back">← Back to Decks</a>
</div>

<div class="viewer">
  <div class="card">
    <div class="svg-container" id="container">
      <div class="svg-wrapper" id="wrapper">
        <object type="image/svg+xml"
                data="decks/deck-04-final.min.svg"
                id="deck">
        </object>
      </div>
    </div>
  </div>
</div>

<div class="controls">
  <button id="zoomOut">−</button>
  <div class="zoom" id="zoomVal">100%</div>
  <button id="zoomIn">+</button>
  <button id="reset">Reset</button>
</div>

<script>
(function(){
  const wrapper=document.getElementById("wrapper");
  const deck=document.getElementById("deck");
  const zoomVal=document.getElementById("zoomVal");
  const zoomIn=document.getElementById("zoomIn");
  const zoomOut=document.getElementById("zoomOut");
  const reset=document.getElementById("reset");
  const container=document.getElementById("container");

  let scale=1;
  let posX=0;
  let posY=0;
  let startX,startY;
  let dragging=false;

  function update(){
    wrapper.style.transform=
      `translate(${posX}px,${posY}px) scale(${scale})`;
    zoomVal.textContent=Math.round(scale*100)+"%";
  }

  function fit(){
    const availableW=window.innerWidth-60;
    const availableH=window.innerHeight-280;

    const svgW=deck.offsetWidth||900;
    const svgH=deck.offsetHeight||600;

    const ratio=Math.min(
      availableW/svgW,
      availableH/svgH,
      1
    );

    scale=Math.max(ratio,.3);
    posX=0;
    posY=0;
    update();
  }

  zoomIn.addEventListener("click",()=>{
    scale=Math.min(scale+.15,3);
    update();
  });

  zoomOut.addEventListener("click",()=>{
    scale=Math.max(scale-.15,.3);
    update();
  });

  reset.addEventListener("click",fit);

  /* drag */
  wrapper.addEventListener("mousedown",e=>{
    dragging=true;
    startX=e.clientX-posX;
    startY=e.clientY-posY;
  });

  window.addEventListener("mouseup",()=>dragging=false);

  window.addEventListener("mousemove",e=>{
    if(!dragging)return;
    posX=e.clientX-startX;
    posY=e.clientY-startY;
    update();
  });

  /* touch drag */
  wrapper.addEventListener("touchstart",e=>{
    if(e.touches.length!==1)return;
    dragging=true;
    startX=e.touches[0].clientX-posX;
    startY=e.touches[0].clientY-posY;
  });

  window.addEventListener("touchend",()=>dragging=false);

  window.addEventListener("touchmove",e=>{
    if(!dragging||e.touches.length!==1)return;
    posX=e.touches[0].clientX-startX;
    posY=e.touches[0].clientY-startY;
    update();
  });

  deck.addEventListener("load",fit);
  window.addEventListener("resize",fit);
  setTimeout(fit,100);
})();
</script>

</body>
</html>