<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<title>Deck 04 · Adventure of the Seas</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">

<style>
:root {
  --navy-1: #08293f;
  --navy-2: #0c3b5c;
  --accent: #00b4e6;
  --gold: #ffd34d;
}

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: Inter, system-ui, -apple-system, sans-serif;
  background: linear-gradient(180deg, var(--navy-1), var(--navy-2));
  color: white;
}

.header {
  position: sticky;
  top: 0;
  z-index: 10;
  height: 70px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 20px;
  background: linear-gradient(90deg, #0a2e4a, #083452);
  font-weight: 600;
}

.header a {
  color: var(--gold);
  text-decoration: none;
}

.viewer {
  padding: 30px 20px 120px 20px;
  display: flex;
  justify-content: center;
}

.svg-wrapper {
  transform-origin: top center;
  transition: transform 0.25s ease;
}

object {
  width: 100%;
  max-width: 900px;
  height: auto;
  display: block;
  background: white;
  border-radius: 20px;
  box-shadow:
    0 0 0 4px rgba(255,255,255,0.08),
    0 20px 50px rgba(0,0,0,0.6);
}

.controls {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  height: 70px;
  background: linear-gradient(90deg, #062133, #0b3a59);
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 20px;
}

.controls button {
  width: 60px;
  height: 45px;
  border-radius: 12px;
  border: none;
  background: var(--accent);
  color: white;
  font-size: 20px;
  font-weight: 600;
  cursor: pointer;
}

.controls span {
  min-width: 70px;
  text-align: center;
  font-weight: 600;
}

@media (max-width: 768px) {
  object {
    max-width: 100%;
  }
}
</style>
</head>

<body>

<div class="header">
  <div>Deck 04 · Entertainment</div>
  <a href="index.html">← Back to Decks</a>
</div>

<div class="viewer">
  <div class="svg-wrapper" id="svgWrapper">
    <object
      type="image/svg+xml"
      data="decks/deck-04-final.min.svg">
    </object>
  </div>
</div>

<div class="controls">
  <button id="zoomOut">−</button>
  <span id="zoomValue">100%</span>
  <button id="zoomIn">+</button>
  <button id="resetZoom">Reset</button>
</div>

<script>
(function () {

  const wrapper = document.getElementById("svgWrapper");
  const zoomValue = document.getElementById("zoomValue");
  const svgObject = document.querySelector("object");

  let scale = 1;

  function fitToViewport() {

    const header = document.querySelector(".header");
    const controls = document.querySelector(".controls");

    const headerHeight = header ? header.offsetHeight : 0;
    const controlsHeight = controls ? controls.offsetHeight : 0;

    const availableWidth = window.innerWidth - 40;
    const availableHeight = window.innerHeight - headerHeight - controlsHeight - 40;

    const svgWidth = svgObject.offsetWidth;
    const svgHeight = svgObject.offsetHeight;

    if (!svgWidth || !svgHeight) return;

    const widthRatio = availableWidth / svgWidth;
    const heightRatio = availableHeight / svgHeight;

    // Use smaller ratio so it fits both directions
    scale = Math.min(widthRatio, heightRatio);

    if (scale > 1) scale = 1;

    updateZoom();
  }

  function updateZoom() {
    wrapper.style.transform = `scale(${scale})`;
    zoomValue.textContent = Math.round(scale * 100) + "%";
  }

  document.getElementById("zoomIn").addEventListener("click", () => {
    scale = Math.min(scale + 0.1, 3);
    updateZoom();
  });

  document.getElementById("zoomOut").addEventListener("click", () => {
    scale = Math.max(scale - 0.1, 0.2);
    updateZoom();
  });

  document.getElementById("resetZoom").addEventListener("click", fitToViewport);

  svgObject.addEventListener("load", fitToViewport);
  window.addEventListener("resize", fitToViewport);

})();
</script>

</body>
</html>