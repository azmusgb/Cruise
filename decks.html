<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Deck Plans | Adventure of the Seas</title>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;600;700;800&family=Open+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">

<style>
:root{
  --rc-blue:#003580;
  --rc-blue-dark:#002554;
  --rc-light:#00a3e0;
  --rc-accent:#ff5a5f;
  --bg:#f0f5ff;
  --card:#ffffff;
  --border:#dbe4ff;
  --text:#1a237e;
  --muted:#5a6a9c;
  --radius:20px;
  --radius-sm:12px;
  --shadow:0 8px 30px rgba(0,53,128,.08);
  --shadow-hover:0 15px 40px rgba(0,53,128,.15);
  --transition:all .3s cubic-bezier(.4,0,.2,1);
}

*{box-sizing:border-box;margin:0;padding:0}

body{
  font-family:'Open Sans',system-ui,sans-serif;
  background:linear-gradient(135deg,#f0f5ff 0%,#f8fbff 100%);
  color:var(--text);
  min-height:100vh;
  overflow-x:hidden;
}

/* Header */
.header{
  background:linear-gradient(135deg,var(--rc-blue) 0%,var(--rc-blue-dark) 100%);
  color:#fff;
  padding:2rem 1.5rem;
  position:relative;
  overflow:hidden;
}
.header::before{
  content:'';
  position:absolute;
  top:0; right:0;
  width:300px; height:300px;
  background:radial-gradient(circle, rgba(255,255,255,.1) 1px, transparent 1px);
  background-size:20px 20px;
  opacity:.3;
}
.header-content{
  max-width:1200px;
  margin:0 auto;
  position:relative;
  z-index:1;
}
.header h1{
  font-family:'Montserrat',sans-serif;
  font-weight:800;
  font-size:2.6rem;
  margin:0 0 .5rem;
  background:linear-gradient(120deg,#fff 0%,#a3d4ff 100%);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  background-clip:text;
}
.header-subtitle{
  display:flex;
  align-items:center;
  gap:1rem;
  font-size:1.05rem;
  opacity:.92;
  margin-bottom:1rem;
}
.ship-icon{font-size:1.8rem;color:var(--rc-light)}

/* Main */
.main-content{
  max-width:1200px;
  margin:-1.75rem auto 3rem;
  padding:0 1.5rem;
  position:relative;
  z-index:2;
}

/* Controls */
.controls-panel{
  background:var(--card);
  border-radius:var(--radius);
  padding:1.25rem;
  margin-bottom:1.75rem;
  box-shadow:var(--shadow);
  border:1px solid var(--border);
}
.search-bar{position:relative;margin-bottom:1rem}
.search-bar input{
  width:100%;
  padding:1rem 1rem 1rem 3rem;
  border:2px solid var(--border);
  border-radius:var(--radius-sm);
  font-size:1rem;
  background:var(--bg);
  transition:var(--transition);
}
.search-bar input:focus{
  outline:none;
  border-color:var(--rc-light);
  box-shadow:0 0 0 3px rgba(0,163,224,.12);
}
.search-bar i{
  position:absolute;
  left:1rem;
  top:50%;
  transform:translateY(-50%);
  color:var(--muted);
}
.clear-search{
  position:absolute;
  right:.75rem;
  top:50%;
  transform:translateY(-50%);
  border:none;
  background:transparent;
  color:var(--muted);
  font-size:1rem;
  width:34px;height:34px;
  border-radius:50%;
  cursor:pointer;
  display:none;
}
.clear-search:hover{background:rgba(0,53,128,.08);color:var(--rc-blue)}

.filter-actions{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:1rem;
  flex-wrap:wrap;
}
.filter-state{
  display:flex;
  align-items:center;
  gap:.5rem;
  padding:.65rem .85rem;
  background:linear-gradient(120deg, rgba(0,163,224,.1), rgba(0,53,128,.05));
  border-radius:var(--radius-sm);
  font-size:.92rem;
  color:var(--muted);
}
.deck-jump{
  display:flex;
  align-items:center;
  gap:.6rem;
  color:var(--muted);
  font-size:.92rem;
}
.deck-jump select{
  border:2px solid var(--border);
  background:#fff;
  border-radius:10px;
  padding:.45rem .75rem;
  color:var(--text);
  font-weight:600;
}

/* Grid */
.deck-grid{
  display:grid;
  grid-template-columns:repeat(auto-fill, minmax(340px,1fr));
  gap:1.5rem;
}
.deck-card{
  background:var(--card);
  border-radius:var(--radius);
  padding:1.25rem;
  box-shadow:var(--shadow);
  border:1px solid var(--border);
  transition:var(--transition);
  position:relative;
  overflow:hidden;
}
.deck-card.hidden{display:none}
.deck-card.highlight{box-shadow:0 0 0 3px rgba(0,163,224,.25), var(--shadow-hover)}
.deck-card:hover{transform:translateY(-8px);box-shadow:var(--shadow-hover)}
.deck-header{
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  gap:1rem;
  margin-bottom:1rem;
}
.deck-header h2{
  font-family:'Montserrat',sans-serif;
  font-weight:800;
  font-size:1.35rem;
  color:var(--rc-blue);
}
.deck-number{
  background:linear-gradient(135deg,var(--rc-blue),var(--rc-blue-dark));
  color:#fff;
  width:42px;height:42px;
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:800;
  font-size:1.15rem;
  box-shadow:0 4px 12px rgba(0,53,128,.2);
}

/* Preview (SVG) */
.deck-preview{
  border:1px solid var(--border);
  border-radius:14px;
  overflow:hidden;
  background:#fff;
}
.svg-pan-wrapper {
  position: relative;
  width: 100%;
  height: 360px;
  overflow: hidden;
  background: #fff;
  touch-action: none; /* critical for iOS */
}

.deck-svg {
  width: 100%;
  height: 100%;
  pointer-events: auto;
}
.deck-preview .fallback{
  padding:1rem;
  color:var(--muted);
  font-size:.95rem;
}

/* Buttons */
.deck-action{
  display:flex;
  gap:.75rem;
  margin-top:1rem;
}
.action-btn{
  flex:1;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:.65rem;
  background:linear-gradient(135deg,var(--rc-light),var(--rc-blue));
  color:#fff;
  border:none;
  padding:.85rem 1rem;
  border-radius:999px;
  font-weight:700;
  font-size:.95rem;
  cursor:pointer;
  transition:var(--transition);
  box-shadow:0 4px 15px rgba(0,163,224,.25);
}
.action-btn:hover{transform:translateY(-2px);box-shadow:0 6px 20px rgba(0,163,224,.35)}
.action-btn.secondary{
  background:#e6efff;
  color:var(--rc-blue);
  box-shadow:none;
  border:1px solid var(--border);
}

/* Modal */
.modal{
  position:fixed;
  inset:0;
  background:rgba(0,21,53,.9);
  display:none;
  z-index:3000;
  backdrop-filter:blur(8px);
}
.modal.open{display:block}
.modal-content{
  position:relative;
  width:95%;
  height:95%;
  margin:2.5% auto;
  background:#fff;
  border-radius:var(--radius);
  overflow:hidden;
}
.modal-header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:1rem 1.25rem;
  background:linear-gradient(135deg,var(--rc-blue),var(--rc-blue-dark));
  color:#fff;
}
.modal-header h3{
  font-family:'Montserrat',sans-serif;
  font-weight:700;
  margin:0;
  font-size:1.2rem;
}
.modal-actions{
  display:flex;
  align-items:center;
  gap:.6rem;
}
.modal-link{
  display:inline-flex;
  align-items:center;
  gap:.5rem;
  color:#fff;
  text-decoration:none;
  padding:.45rem .75rem;
  border-radius:999px;
  background:rgba(255,255,255,.18);
  border:1px solid rgba(255,255,255,.25);
  font-weight:700;
  font-size:.9rem;
}
.modal-link:hover{background:rgba(255,255,255,.26)}
.close-modal{
  background:rgba(255,255,255,.2);
  border:none;
  color:#fff;
  width:40px;height:40px;
  border-radius:50%;
  cursor:pointer;
  font-size:1.15rem;
  transition:var(--transition);
}
.close-modal:hover{background:rgba(255,255,255,.3);transform:rotate(90deg)}
.modal-body{height:calc(100% - 64px)}
.modal-body iframe{width:100%;height:100%;border:none}

.empty-state{
  display:none;
  text-align:center;
  padding:2.25rem 1.5rem;
  background:var(--card);
  border:1px dashed var(--border);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  margin-top:1.5rem;
}
.empty-state i{font-size:2rem;color:var(--rc-light);margin-bottom:.75rem}
.empty-state p{color:var(--muted)}

/* Responsive */
@media (max-width:768px){
  .header h1{font-size:2.15rem}
  .deck-grid{grid-template-columns:1fr;gap:1.15rem}
  .modal-content{width:100%;height:100%;margin:0;border-radius:0}
  .svg-pan-wrapper{height:260px}
  .filter-actions{flex-direction:column;align-items:flex-start}
}
</style>
</head>

<body>

<header class="header">
  <div class="header-content">
    <h1>Adventure of the Seas</h1>
    <div class="header-subtitle">
      <i class="fas fa-ship ship-icon" aria-hidden="true"></i>
      <span>Deck Plans · Individual Deck Files (02–15)</span>
    </div>
    <p>Tap any deck to open the full plan. SVG previews below; PDFs open full-screen.</p>
  </div>
</header>

<main class="main-content">

  <div class="controls-panel">
    <div class="search-bar">
      <i class="fas fa-search" aria-hidden="true"></i>
      <input id="searchInput" type="text" placeholder="Search: 'pool', 'Windjammer', 'Deck 6'..." aria-label="Search decks">
      <button class="clear-search" id="clearSearch" type="button" aria-label="Clear search">
        <i class="fas fa-times" aria-hidden="true"></i>
      </button>
    </div>

    <div class="filter-actions">
      <div class="filter-state">
        <i class="fas fa-info-circle" aria-hidden="true" style="color:var(--rc-light)"></i>
        <span id="filterState">Showing 14 decks · Decks 02–15</span>
      </div>

      <label class="deck-jump" for="deckJump">
        <i class="fas fa-location-arrow" aria-hidden="true"></i>
        Quick jump
        <select id="deckJump">
          <option value="">Select deck</option>
          <option value="2">Deck 2</option>
          <option value="3">Deck 3</option>
          <option value="4">Deck 4</option>
          <option value="5">Deck 5</option>
          <option value="6">Deck 6</option>
          <option value="7">Deck 7</option>
          <option value="8">Deck 8</option>
          <option value="9">Deck 9</option>
          <option value="10">Deck 10</option>
          <option value="11">Deck 11</option>
          <option value="12">Deck 12</option>
          <option value="13">Deck 13</option>
          <option value="14">Deck 14</option>
          <option value="15">Deck 15</option>
        </select>
      </label>
    </div>
  </div>

  <section class="deck-grid" id="deckGrid" aria-live="polite" aria-busy="false">

    <!-- Deck 02 -->
    <article class="deck-card" id="deck-2" data-name="Deck 2">
      <div class="deck-header">
        <h2>Deck 2</h2>
        <div class="deck-number">2</div>
      </div>
      <div class="deck-preview">
        <div class="svg-pan-wrapper">
        <object data="decks/deck-02.svg"
                type="image/svg+xml"
                class="deck-svg"
                data-deck="2">
          <div class="fallback">SVG preview not supported here. Use “Open” or “PDF”.</div>
        </object>
      </div>
      </div>
      <div class="deck-action">
        <button class="action-btn" type="button" onclick="openDeck(2)"><span>Open</span><i class="fas fa-up-right-from-square" aria-hidden="true"></i></button>
        <button class="action-btn secondary" type="button" onclick="openPDF(2)"><span>PDF</span><i class="fas fa-file-pdf" aria-hidden="true"></i></button>
        <button class="action-btn secondary" type="button" onclick="resetZoom(2)"><span>Reset View</span><i class="fas fa-expand" aria-hidden="true"></i></button>
      </div>
    </article>

    <!-- Deck 03 -->
    <article class="deck-card" id="deck-3" data-name="Deck 3">
      <div class="deck-header">
        <h2>Deck 3</h2>
        <div class="deck-number">3</div>
      </div>
      <div class="deck-preview">
        <div class="svg-pan-wrapper">
        <object data="decks/deck-03.svg"
                type="image/svg+xml"
                class="deck-svg"
                data-deck="3">
          <div class="fallback">SVG preview not supported here. Use “Open” or “PDF”.</div>
        </object>
      </div>
      </div>
      <div class="deck-action">
        <button class="action-btn" type="button" onclick="openDeck(3)"><span>Open</span><i class="fas fa-up-right-from-square" aria-hidden="true"></i></button>
        <button class="action-btn secondary" type="button" onclick="openPDF(3)"><span>PDF</span><i class="fas fa-file-pdf" aria-hidden="true"></i></button>
        <button class="action-btn secondary" type="button" onclick="resetZoom(3)"><span>Reset View</span><i class="fas fa-expand" aria-hidden="true"></i></button>
      </div>
    </article>

    <!-- Deck 04 -->
    <article class="deck-card" id="deck-4" data-name="Deck 4">
      <div class="deck-header">
        <h2>Deck 4</h2>
        <div class="deck-number">4</div>
      </div>
      <div class="deck-preview">
        <div class="svg-pan-wrapper">
        <object data="decks/deck-04.svg"
                type="image/svg+xml"
                class="deck-svg"
                data-deck="4">
          <div class="fallback">SVG preview not supported here. Use “Open” or “PDF”.</div>
        </object>
      </div>
      </div>
      <div class="deck-action">
        <button class="action-btn" type="button" onclick="openDeck(4)"><span>Open</span><i class="fas fa-up-right-from-square" aria-hidden="true"></i></button>
        <button class="action-btn secondary" type="button" onclick="openPDF(4)"><span>PDF</span><i class="fas fa-file-pdf" aria-hidden="true"></i></button>
        <button class="action-btn secondary" type="button" onclick="resetZoom(4)"><span>Reset View</span><i class="fas fa-expand" aria-hidden="true"></i></button>
      </div>
    </article>

    <!-- Deck 05 -->
    <article class="deck-card" id="deck-5" data-name="Deck 5">
      <div class="deck-header">
        <h2>Deck 5</h2>
        <div class="deck-number">5</div>
      </div>
      <div class="deck-preview">
        <div class="svg-pan-wrapper">
        <object data="decks/deck-05.svg"
                type="image/svg+xml"
                class="deck-svg"
                data-deck="5">
          <div class="fallback">SVG preview not supported here. Use “Open” or “PDF”.</div>
        </object>
      </div>
      </div>
      <div class="deck-action">
        <button class="action-btn" type="button" onclick="openDeck(5)"><span>Open</span><i class="fas fa-up-right-from-square" aria-hidden="true"></i></button>
        <button class="action-btn secondary" type="button" onclick="openPDF(5)"><span>PDF</span><i class="fas fa-file-pdf" aria-hidden="true"></i></button>
        <button class="action-btn secondary" type="button" onclick="resetZoom(5)"><span>Reset View</span><i class="fas fa-expand" aria-hidden="true"></i></button>
      </div>
    </article>

    <!-- Deck 06 -->
    <article class="deck-card" id="deck-6" data-name="Deck 6">
      <div class="deck-header">
        <h2>Deck 6</h2>
        <div class="deck-number">6</div>
      </div>
      <div class="deck-preview">
        <div class="svg-pan-wrapper">
        <object data="decks/deck-06.svg"
                type="image/svg+xml"
                class="deck-svg"
                data-deck="6">
          <div class="fallback">SVG preview not supported here. Use “Open” or “PDF”.</div>
        </object>
      </div>
      </div>
      <div class="deck-action">
        <button class="action-btn" type="button" onclick="openDeck(6)"><span>Open</span><i class="fas fa-up-right-from-square" aria-hidden="true"></i></button>
        <button class="action-btn secondary" type="button" onclick="openPDF(6)"><span>PDF</span><i class="fas fa-file-pdf" aria-hidden="true"></i></button>
        <button class="action-btn secondary" type="button" onclick="resetZoom(6)"><span>Reset View</span><i class="fas fa-expand" aria-hidden="true"></i></button>
      </div>
    </article>

    <!-- Deck 07 -->
    <article class="deck-card" id="deck-7" data-name="Deck 7">
      <div class="deck-header">
        <h2>Deck 7</h2>
        <div class="deck-number">7</div>
      </div>
      <div class="deck-preview">
        <div class="svg-pan-wrapper">
        <object data="decks/deck-07.svg"
                type="image/svg+xml"
                class="deck-svg"
                data-deck="7">
          <div class="fallback">SVG preview not supported here. Use “Open” or “PDF”.</div>
        </object>
      </div>
      </div>
      <div class="deck-action">
        <button class="action-btn" type="button" onclick="openDeck(7)"><span>Open</span><i class="fas fa-up-right-from-square" aria-hidden="true"></i></button>
        <button class="action-btn secondary" type="button" onclick="openPDF(7)"><span>PDF</span><i class="fas fa-file-pdf" aria-hidden="true"></i></button>
        <button class="action-btn secondary" type="button" onclick="resetZoom(7)"><span>Reset View</span><i class="fas fa-expand" aria-hidden="true"></i></button>
      </div>
    </article>

    <!-- Deck 08 -->
    <article class="deck-card" id="deck-8" data-name="Deck 8">
      <div class="deck-header">
        <h2>Deck 8</h2>
        <div class="deck-number">8</div>
      </div>
      <div class="deck-preview">
        <div class="svg-pan-wrapper">
        <object data="decks/deck-08.svg"
                type="image/svg+xml"
                class="deck-svg"
                data-deck="8">
          <div class="fallback">SVG preview not supported here. Use “Open” or “PDF”.</div>
        </object>
      </div>
      </div>
      <div class="deck-action">
        <button class="action-btn" type="button" onclick="openDeck(8)"><span>Open</span><i class="fas fa-up-right-from-square" aria-hidden="true"></i></button>
        <button class="action-btn secondary" type="button" onclick="openPDF(8)"><span>PDF</span><i class="fas fa-file-pdf" aria-hidden="true"></i></button>
        <button class="action-btn secondary" type="button" onclick="resetZoom(8)"><span>Reset View</span><i class="fas fa-expand" aria-hidden="true"></i></button>
      </div>
    </article>

    <!-- Deck 09 -->
    <article class="deck-card" id="deck-9" data-name="Deck 9">
      <div class="deck-header">
        <h2>Deck 9</h2>
        <div class="deck-number">9</div>
      </div>
      <div class="deck-preview">
        <div class="svg-pan-wrapper">
        <object data="decks/deck-09.svg"
                type="image/svg+xml"
                class="deck-svg"
                data-deck="9">
          <div class="fallback">SVG preview not supported here. Use “Open” or “PDF”.</div>
        </object>
      </div>
      </div>
      <div class="deck-action">
        <button class="action-btn" type="button" onclick="openDeck(9)"><span>Open</span><i class="fas fa-up-right-from-square" aria-hidden="true"></i></button>
        <button class="action-btn secondary" type="button" onclick="openPDF(9)"><span>PDF</span><i class="fas fa-file-pdf" aria-hidden="true"></i></button>
        <button class="action-btn secondary" type="button" onclick="resetZoom(9)"><span>Reset View</span><i class="fas fa-expand" aria-hidden="true"></i></button>
      </div>
    </article>

    <!-- Deck 10 -->
    <article class="deck-card" id="deck-10" data-name="Deck 10">
      <div class="deck-header">
        <h2>Deck 10</h2>
        <div class="deck-number">10</div>
      </div>
      <div class="deck-preview">
        <div class="svg-pan-wrapper">
        <object data="decks/deck-10.svg"
                type="image/svg+xml"
                class="deck-svg"
                data-deck="10">
          <div class="fallback">SVG preview not supported here. Use “Open” or “PDF”.</div>
        </object>
      </div>
      </div>
      <div class="deck-action">
        <button class="action-btn" type="button" onclick="openDeck(10)"><span>Open</span><i class="fas fa-up-right-from-square" aria-hidden="true"></i></button>
        <button class="action-btn secondary" type="button" onclick="openPDF(10)"><span>PDF</span><i class="fas fa-file-pdf" aria-hidden="true"></i></button>
        <button class="action-btn secondary" type="button" onclick="resetZoom(10)"><span>Reset View</span><i class="fas fa-expand" aria-hidden="true"></i></button>
      </div>
    </article>

    <!-- Deck 11 -->
    <article class="deck-card" id="deck-11" data-name="Deck 11">
      <div class="deck-header">
        <h2>Deck 11</h2>
        <div class="deck-number">11</div>
      </div>
      <div class="deck-preview">
        <div class="svg-pan-wrapper">
        <object data="decks/deck-11.svg"
                type="image/svg+xml"
                class="deck-svg"
                data-deck="11">
          <div class="fallback">SVG preview not supported here. Use “Open” or “PDF”.</div>
        </object>
      </div>
      </div>
      <div class="deck-action">
        <button class="action-btn" type="button" onclick="openDeck(11)"><span>Open</span><i class="fas fa-up-right-from-square" aria-hidden="true"></i></button>
        <button class="action-btn secondary" type="button" onclick="openPDF(11)"><span>PDF</span><i class="fas fa-file-pdf" aria-hidden="true"></i></button>
        <button class="action-btn secondary" type="button" onclick="resetZoom(11)"><span>Reset View</span><i class="fas fa-expand" aria-hidden="true"></i></button>
      </div>
    </article>

    <!-- Deck 12 -->
    <article class="deck-card" id="deck-12" data-name="Deck 12">
      <div class="deck-header">
        <h2>Deck 12</h2>
        <div class="deck-number">12</div>
      </div>
      <div class="deck-preview">
        <div class="svg-pan-wrapper">
        <object data="decks/deck-12.svg"
                type="image/svg+xml"
                class="deck-svg"
                data-deck="12">
          <div class="fallback">SVG preview not supported here. Use “Open” or “PDF”.</div>
        </object>
      </div>
      </div>
      <div class="deck-action">
        <button class="action-btn" type="button" onclick="openDeck(12)"><span>Open</span><i class="fas fa-up-right-from-square" aria-hidden="true"></i></button>
        <button class="action-btn secondary" type="button" onclick="openPDF(12)"><span>PDF</span><i class="fas fa-file-pdf" aria-hidden="true"></i></button>
        <button class="action-btn secondary" type="button" onclick="resetZoom(12)"><span>Reset View</span><i class="fas fa-expand" aria-hidden="true"></i></button>
      </div>
    </article>

    <!-- Deck 13 -->
    <article class="deck-card" id="deck-13" data-name="Deck 13">
      <div class="deck-header">
        <h2>Deck 13</h2>
        <div class="deck-number">13</div>
      </div>
      <div class="deck-preview">
        <div class="svg-pan-wrapper">
        <object data="decks/deck-13.svg"
                type="image/svg+xml"
                class="deck-svg"
                data-deck="13">
          <div class="fallback">SVG preview not supported here. Use “Open” or “PDF”.</div>
        </object>
      </div>
      </div>
      <div class="deck-action">
        <button class="action-btn" type="button" onclick="openDeck(13)"><span>Open</span><i class="fas fa-up-right-from-square" aria-hidden="true"></i></button>
        <button class="action-btn secondary" type="button" onclick="openPDF(13)"><span>PDF</span><i class="fas fa-file-pdf" aria-hidden="true"></i></button>
        <button class="action-btn secondary" type="button" onclick="resetZoom(13)"><span>Reset View</span><i class="fas fa-expand" aria-hidden="true"></i></button>
      </div>
    </article>

    <!-- Deck 14 -->
    <article class="deck-card" id="deck-14" data-name="Deck 14">
      <div class="deck-header">
        <h2>Deck 14</h2>
        <div class="deck-number">14</div>
      </div>
      <div class="deck-preview">
        <div class="svg-pan-wrapper">
        <object data="decks/deck-14.svg"
                type="image/svg+xml"
                class="deck-svg"
                data-deck="14">
          <div class="fallback">SVG preview not supported here. Use “Open” or “PDF”.</div>
        </object>
      </div>
      </div>
      <div class="deck-action">
        <button class="action-btn" type="button" onclick="openDeck(14)"><span>Open</span><i class="fas fa-up-right-from-square" aria-hidden="true"></i></button>
        <button class="action-btn secondary" type="button" onclick="openPDF(14)"><span>PDF</span><i class="fas fa-file-pdf" aria-hidden="true"></i></button>
        <button class="action-btn secondary" type="button" onclick="resetZoom(14)"><span>Reset View</span><i class="fas fa-expand" aria-hidden="true"></i></button>
      </div>
    </article>

    <!-- Deck 15 -->
    <article class="deck-card" id="deck-15" data-name="Deck 15">
      <div class="deck-header">
        <h2>Deck 15</h2>
        <div class="deck-number">15</div>
      </div>
      <div class="deck-preview">
        <div class="svg-pan-wrapper">
        <object data="decks/deck-15.svg"
                type="image/svg+xml"
                class="deck-svg"
                data-deck="15">
          <div class="fallback">SVG preview not supported here. Use “Open” or “PDF”.</div>
        </object>
      </div>
      </div>
      <div class="deck-action">
        <button class="action-btn" type="button" onclick="openDeck(15)"><span>Open</span><i class="fas fa-up-right-from-square" aria-hidden="true"></i></button>
        <button class="action-btn secondary" type="button" onclick="openPDF(15)"><span>PDF</span><i class="fas fa-file-pdf" aria-hidden="true"></i></button>
        <button class="action-btn secondary" type="button" onclick="resetZoom(15)"><span>Reset View</span><i class="fas fa-expand" aria-hidden="true"></i></button>
      </div>
    </article>

  </section>

  <div class="empty-state" id="emptyState">
    <i class="fas fa-life-ring" aria-hidden="true"></i>
    <h3>No decks match your search</h3>
    <p>Try a broader term (e.g., “pool”, “casino”, “Windjammer”).</p>
  </div>

</main>

<!-- Modal -->
<div class="modal" id="deckModal" aria-hidden="true">
  <div class="modal-content" role="dialog" aria-modal="true" aria-label="Deck plan">
    <div class="modal-header">
      <h3 id="modalTitle">Deck Plan</h3>
      <div class="modal-actions">
        <a class="modal-link" id="modalDownload" href="#" target="_blank" rel="noopener">
          <i class="fas fa-download" aria-hidden="true"></i> Download PDF
        </a>
        <button class="close-modal" type="button" onclick="closeDeckModal()" aria-label="Close">
          <i class="fas fa-times" aria-hidden="true"></i>
        </button>
      </div>
    </div>
    <div class="modal-body">
      <iframe id="modalFrame" title="Deck plan PDF"></iframe>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/svg-pan-zoom@3.6.1/dist/svg-pan-zoom.min.js"></script>

<script>
const searchInput = document.getElementById('searchInput');
const clearSearchButton = document.getElementById('clearSearch');
const deckCards = Array.from(document.querySelectorAll('.deck-card'));
const emptyState = document.getElementById('emptyState');
const deckJump = document.getElementById('deckJump');

const modal = document.getElementById('deckModal');
const modalFrame = document.getElementById('modalFrame');
const modalTitle = document.getElementById('modalTitle');
const modalDownload = document.getElementById('modalDownload');

function deckAsset(deckNum){
  const dd = String(deckNum).padStart(2,'0');
  return {
    svg: `decks/deck-${dd}.svg`,
    pdf: `decks/deck-${dd}.pdf`
  };
}

function updateState(count, term){
  const state = document.getElementById('filterState');
  state.textContent = term
    ? `Showing ${count} deck${count!==1?'s':''} matching "${term}"`
    : `Showing ${count} deck${count!==1?'s':''} · Decks 02–15`;
}

function applySearch(){
  const term = searchInput.value.trim().toLowerCase();
  let visible = 0;

  deckCards.forEach(card=>{
    const name = (card.dataset.name || '').toLowerCase();
    const text = card.textContent.toLowerCase();
    const show = !term || name.includes(term) || text.includes(term);

    card.classList.toggle('hidden', !show);
    if(show) visible++;
  });

  clearSearchButton.style.display = term ? 'inline-flex' : 'none';
  emptyState.style.display = visible === 0 ? 'block' : 'none';
  updateState(visible, term);
}

function openDeck(deckNum){
  const { pdf } = deckAsset(deckNum);
  modalTitle.textContent = `Deck ${deckNum}`;
  modalFrame.src = pdf;
  modalDownload.href = pdf;

  modal.classList.add('open');
  modal.setAttribute('aria-hidden','false');
  document.body.style.overflow='hidden';
  refreshSvgPanZoom();
}

function openPDF(deckNum){ openDeck(deckNum); }

function closeDeckModal(){
  modal.classList.remove('open');
  modal.setAttribute('aria-hidden','true');
  modalFrame.src = 'about:blank';
  document.body.style.overflow='auto';
}

clearSearchButton.addEventListener('click', ()=>{
  searchInput.value='';
  searchInput.focus();
  applySearch();
});

searchInput.addEventListener('input', applySearch);

deckJump.addEventListener('change', (e)=>{
  const deckNumber = e.target.value;
  if(!deckNumber) return;
  const target = document.getElementById(`deck-${deckNumber}`);
  if(!target) return;

  // Ensure visible
  searchInput.value='';
  applySearch();

  target.classList.add('highlight');
  target.scrollIntoView({behavior:'smooth',block:'center'});
  setTimeout(()=>target.classList.remove('highlight'), 1600);
});

document.addEventListener('keydown', (e)=>{
  if(e.key === 'Escape') closeDeckModal();
});

modal.addEventListener('click', (e)=>{
  if(e.target === modal) closeDeckModal();
});

// initial
applySearch();
</script>


<script>
const panZoomInstances = new Map();

function enableSvgPanZoom(objectEl) {
  if (!objectEl || panZoomInstances.has(objectEl)) return;

  const initPanZoom = () => {
    const svgDoc = objectEl.contentDocument;
    if (!svgDoc) return;

    const svg = svgDoc.querySelector('svg');
    if (!svg) return;

    svg.setAttribute('width', '100%');
    svg.setAttribute('height', '100%');
    svg.style.touchAction = 'none';

    const panZoom = svgPanZoom(svg, {
      zoomEnabled: true,
      panEnabled: true,
      controlIconsEnabled: false,
      dblClickZoomEnabled: true,
      mouseWheelZoomEnabled: true,
      preventMouseEventsDefault: true,
      minZoom: 0.6,
      maxZoom: 10,
      zoomScaleSensitivity: 0.25,
      fit: true,
      center: true,
      beforePan: function (oldPan, newPan) {
        return newPan;
      }
    });

    svg.addEventListener('touchmove', e => e.preventDefault(), { passive: false });

    panZoomInstances.set(objectEl, panZoom);
  };

  if (objectEl.contentDocument) {
    initPanZoom();
    return;
  }

  objectEl.addEventListener('load', initPanZoom, { once: true });
}

function refreshSvgPanZoom() {
  document.querySelectorAll('.deck-svg').forEach(enableSvgPanZoom);
}

function resetZoom(deck) {
  document.querySelectorAll(`.deck-svg[data-deck="${deck}"]`).forEach(obj => {
    const instance = panZoomInstances.get(obj);
    if (instance) {
      instance.resetZoom();
      instance.center();
    }
  });
}

refreshSvgPanZoom();
</script>

</body>
</html>
