<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<title>Deck 04 · Entertainment · Adventure of the Seas</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;}

:root{
  --deep:#07263a;
  --mid:#0f4f76;
  --bright:#00b4e6;
  --sun:#ffd966;
  --sand:#f5efe2;
  --foam:#e8fbff;
  --white:#ffffff;
}

body{
  font-family:'Inter',system-ui,sans-serif;
  min-height:100vh;
  overflow-x:hidden;
  color:white;
  background:
    radial-gradient(circle at 50% 10%, rgba(255,205,102,.7), transparent 55%),
    linear-gradient(180deg, #ff8a00 0%, #ff4d6d 25%, #0f4f76 60%, #07263a 100%);
}

/* moving ocean layers */
body::before{
  content:"";
  position:fixed;
  bottom:0;
  left:0;
  width:200%;
  height:45%;
  background:
    radial-gradient(circle at 20% 50%, rgba(255,255,255,.12), transparent 60%),
    linear-gradient(180deg, rgba(255,255,255,.05), transparent 70%);
  animation:ocean 18s linear infinite;
  pointer-events:none;
}

@keyframes ocean{
  from{transform:translateX(0);}
  to{transform:translateX(-50%);}
}

/* palm silhouettes */
.palm{
  position:fixed;
  bottom:0;
  width:220px;
  opacity:.15;
  pointer-events:none;
  z-index:1;
}

.palm.left{left:0;}
.palm.right{right:0; transform:scaleX(-1);}

/* header */
.header{
  padding:30px 32px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  position:relative;
  z-index:5;
}

.title small{
  text-transform:uppercase;
  letter-spacing:2px;
  opacity:.8;
  font-size:.8rem;
}

.title h1{
  font-size:2rem;
  font-weight:800;
  line-height:1.2;
}

.back{
  text-decoration:none;
  color:var(--sun);
  font-weight:700;
  padding:10px 22px;
  border-radius:40px;
  background:rgba(255,255,255,.15);
  backdrop-filter:blur(10px);
  transition:.25s;
}

.back:hover{
  background:var(--sun);
  color:#07263a;
  transform:translateY(-2px);
}

/* viewer */
.viewer{
  padding:10px 20px 180px;
  display:flex;
  justify-content:center;
  position:relative;
  z-index:5;
}

.card{
  background:var(--sand);
  border-radius:50px;
  padding:40px;
  box-shadow:
    0 50px 120px rgba(0,0,0,.5),
    0 0 0 8px rgba(255,255,255,.15) inset;
  transform:translateY(40px);
  opacity:0;
  animation:cardIn .8s ease forwards;
}

@keyframes cardIn{
  to{transform:translateY(0);opacity:1;}
}

.svg-container{
  overflow:hidden;
  touch-action:none;
}

.svg-wrapper{
  transform-origin:center;
  transition:transform .25s cubic-bezier(.2,.9,.3,1.1);
  cursor:grab;
}

.svg-wrapper:active{cursor:grabbing;}

object{
  width:100%;
  max-width:1000px;
  height:auto;
  display:block;
  border-radius:30px;
  background:white;
}

/* controls */
.controls{
  position:fixed;
  bottom:40px;
  left:50%;
  transform:translateX(-50%);
  background:linear-gradient(90deg,var(--bright),#6dd5fa);
  padding:16px 32px;
  border-radius:80px;
  display:flex;
  align-items:center;
  gap:28px;
  box-shadow:0 35px 80px rgba(0,0,0,.5);
  z-index:10;
}

.controls button{
  width:60px;
  height:52px;
  border:none;
  border-radius:40px;
  font-size:28px;
  font-weight:800;
  background:white;
  color:#0f4f76;
  cursor:pointer;
  transition:.2s;
}

.controls button:hover{
  transform:translateY(-4px) scale(1.08);
  background:var(--sun);
}

#reset{
  width:auto;
  padding:0 26px;
  font-size:1rem;
}

.zoom{
  font-size:1.4rem;
  font-weight:800;
  min-width:90px;
  text-align:center;
}

@media(max-width:600px){
  .title h1{font-size:1.6rem;}
  .controls{gap:18px;padding:14px 20px;}
  .controls button{width:50px;height:46px;}
}
</style>
</head>
<body>

<!-- Palm SVGs -->
<svg class="palm left" viewBox="0 0 200 400">
<path fill="#000" d="M100 400 C90 300 120 250 100 150 C80 250 110 300 100 400 Z"/>
</svg>

<svg class="palm right" viewBox="0 0 200 400">
<path fill="#000" d="M100 400 C90 300 120 250 100 150 C80 250 110 300 100 400 Z"/>
</svg>

<div class="header">
  <div class="title">
    <small>Adventure of the Seas</small>
    <h1>Deck 04 · Entertainment</h1>
  </div>
  <a href="index.html" class="back">← Back to Decks</a>
</div>

<div class="viewer">
  <div class="card">
    <div class="svg-container" id="container">
      <div class="svg-wrapper" id="wrapper">
        <object type="image/svg+xml"
                data="decks/deck-04-final.min.svg"
                id="deck"></object>
      </div>
    </div>
  </div>
</div>

<div class="controls">
  <button id="zoomOut">−</button>
  <div class="zoom" id="zoomVal">100%</div>
  <button id="zoomIn">+</button>
  <button id="reset">Reset</button>
</div>
<script>
(function(){
  const wrapper = document.getElementById("wrapper");
  const deckObject = document.getElementById("deck");
  const zoomVal = document.getElementById("zoomVal");
  const zoomIn = document.getElementById("zoomIn");
  const zoomOut = document.getElementById("zoomOut");
  const reset = document.getElementById("reset");
  const container = document.getElementById("container");

  let scale = 1;
  let minScale = 0.4;
  let maxScale = 3;
  let posX = 0;
  let posY = 0;
  let startX = 0;
  let startY = 0;
  let dragging = false;

  let svgWidth = 1000;
  let svgHeight = 600;

  function clamp(value, min, max){
    return Math.min(Math.max(value, min), max);
  }

  function update(){
    wrapper.style.transform =
      `translate(${posX}px, ${posY}px) scale(${scale})`;
    zoomVal.textContent = Math.round(scale * 100) + "%";
  }

  function centerContent(){
    const rect = container.getBoundingClientRect();
    const contentW = svgWidth * scale;
    const contentH = svgHeight * scale;

    posX = (rect.width - contentW) / 2;
    posY = (rect.height - contentH) / 2;

    update();
  }

  function fitToViewport(){
    const rect = container.getBoundingClientRect();

    const widthRatio = rect.width / svgWidth;
    const heightRatio = rect.height / svgHeight;

    scale = Math.min(widthRatio, heightRatio, 1);
    scale = clamp(scale, minScale, maxScale);

    centerContent();
  }

  function getSVGSize(){
    try{
      const svgDoc = deckObject.contentDocument;
      if(!svgDoc) return;

      const svg = svgDoc.querySelector("svg");
      if(!svg) return;

      const viewBox = svg.getAttribute("viewBox");
      if(viewBox){
        const parts = viewBox.split(" ");
        svgWidth = parseFloat(parts[2]);
        svgHeight = parseFloat(parts[3]);
      }
    }catch(e){
      console.warn("Could not read SVG size");
    }
  }

  /* Smooth zoom toward center */
  function zoom(delta){
    const newScale = clamp(scale + delta, minScale, maxScale);
    if(newScale === scale) return;

    scale = newScale;
    centerContent();
  }

  zoomIn.onclick = () => zoom(0.15);
  zoomOut.onclick = () => zoom(-0.15);
  reset.onclick = fitToViewport;

  /* Drag pan */
  wrapper.onmousedown = e=>{
    dragging = true;
    startX = e.clientX - posX;
    startY = e.clientY - posY;
    wrapper.style.cursor = "grabbing";
  };

  window.onmouseup = ()=>{
    dragging = false;
    wrapper.style.cursor = "grab";
  };

  window.onmousemove = e=>{
    if(!dragging) return;
    posX = e.clientX - startX;
    posY = e.clientY - startY;
    update();
  };

  /* Wheel zoom */
  container.addEventListener("wheel", e=>{
    e.preventDefault();
    const delta = e.deltaY < 0 ? 0.1 : -0.1;
    zoom(delta);
  }, { passive:false });

  /* Touch pinch zoom */
  let initialDistance = 0;

  container.addEventListener("touchstart", e=>{
    if(e.touches.length === 2){
      initialDistance = getDistance(e.touches[0], e.touches[1]);
    }
  });

  container.addEventListener("touchmove", e=>{
    if(e.touches.length === 2){
      e.preventDefault();
      const newDistance = getDistance(e.touches[0], e.touches[1]);
      const delta = (newDistance - initialDistance) * 0.002;
      zoom(delta);
      initialDistance = newDistance;
    }
  }, { passive:false });

  function getDistance(t1, t2){
    return Math.sqrt(
      Math.pow(t2.clientX - t1.clientX,2) +
      Math.pow(t2.clientY - t1.clientY,2)
    );
  }

  /* Load handling */
  deckObject.addEventListener("load", ()=>{
    getSVGSize();
    fitToViewport();
  });

  window.addEventListener("resize", fitToViewport);

  setTimeout(()=>{
    getSVGSize();
    fitToViewport();
  },200);

})();
</script>


</body>
</html>
