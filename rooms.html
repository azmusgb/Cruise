<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#0079d4">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <link rel="manifest" href="manifest.json?v=2">
    <link rel="apple-touch-icon" href="icons/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="192x192" href="icons/icon-192.png">
  <link rel="icon" type="image/svg+xml" href="icons/icon-192.svg">
    <title>Staterooms | Adventure of the Seas</title>
    <meta name="description" content="View your stateroom assignments, deck locations, and quick actions in a clean, light interface.">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700;800;900&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/base.css?v=2">
  <link rel="stylesheet" href="css/utilities.css?v=2">
  <link rel="stylesheet" href="css/components.css?v=2">
    <link rel="stylesheet" href="css/feature-modules.css?v=2">
    <script src="js/shared-layout.js?v=8" defer></script>
    
    <style>
        .skip-link {
            position: absolute;
            top: -40px;
            left: 0;
            background: var(--royal-blue);
            color: white;
            padding: 8px 16px;
            border-radius: var(--radius-sm);
            text-decoration: none;
            z-index: 1000;
            transition: top 0.3s;
        }

        .skip-link:focus {
            top: 10px;
        }

        /* Hero Section */
        .hero--rooms {
            background: var(--ocean-gradient);
            padding: 60px 0 40px;
            position: relative;
            overflow: hidden;
            margin-bottom: 32px;
        }

        .hero--rooms::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(255, 255, 255, 0.15) 0%, transparent 40%),
                radial-gradient(circle at 90% 80%, rgba(255, 255, 255, 0.1) 0%, transparent 40%);
            pointer-events: none;
        }

        .hero__content {
            position: relative;
            z-index: 1;
        }

        .hero__eyebrow {
            display: inline-block;
            font-size: 0.9rem;
            font-weight: 500;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 12px;
            letter-spacing: 0.5px;
        }

        .hero__title {
            font-size: 2.8rem;
            font-weight: 800;
            color: white;
            margin-bottom: 16px;
            line-height: 1.2;
        }

        .hero__description {
            font-size: 1.1rem;
            color: rgba(255, 255, 255, 0.9);
            max-width: 600px;
            margin-bottom: 28px;
        }

        .hero__actions {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }

        /* Navigation Bar */
        .nav-bar {
            background: white;
            border-bottom: 1px solid var(--royal-border);
            padding: 16px 0;
            margin-bottom: 32px;
        }

        .nav-bar__inner {
            display: flex;
            align-items: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .search-box {
            flex: 1;
            min-width: 200px;
            max-width: 400px;
            position: relative;
        }

        .search-box input {
            width: 100%;
            padding: 14px 20px 14px 48px;
            border: 1px solid var(--royal-border);
            border-radius: var(--radius-lg);
            background: var(--royal-foam);
            color: var(--royal-ink);
            font-family: 'Inter', sans-serif;
            font-size: 0.95rem;
            transition: var(--transition-smooth);
        }

        .search-box input:focus {
            outline: none;
            border-color: var(--royal-sky);
            box-shadow: 0 0 0 3px rgba(0, 168, 232, 0.1);
        }

        .search-box i {
            position: absolute;
            left: 16px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--royal-blue);
            opacity: 0.7;
        }

        .nav-filters {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 10px 20px;
            border-radius: var(--radius-lg);
            background: var(--royal-foam);
            color: var(--royal-navy);
            text-decoration: none;
            font-weight: 500;
            font-size: 0.9rem;
            border: 1px solid var(--royal-border);
            transition: var(--transition-smooth);
            white-space: nowrap;
        }

        .filter-btn:hover {
            background: #d9ebfb;
            transform: translateY(-2px);
        }

        .filter-btn--active {
            background: linear-gradient(135deg, var(--royal-blue), var(--royal-sky));
            color: white;
            border-color: var(--royal-sky);
        }

        /* Stats Overview */
        .stats-section {
            margin-bottom: 40px;
        }

        .stats-grid {
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
        }

        .stat-card {
            padding: 24px;
        }

        .stat-card__title {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1rem;
            color: var(--royal-ink);
            margin-bottom: 16px;
            opacity: 0.9;
        }

        .stat-card__content {
            display: flex;
            align-items: baseline;
            gap: 12px;
        }

        .stat-value {
            font-size: 2.8rem;
            font-weight: 800;
            color: var(--royal-blue);
            line-height: 1;
            font-family: 'Montserrat', sans-serif;
        }

        .stat-label {
            font-size: 1rem;
            color: var(--royal-ink);
            opacity: 0.8;
        }

        /* Rooms Grid */
        .rooms-section {
            margin-bottom: 60px;
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 28px;
            flex-wrap: wrap;
            gap: 16px;
        }

        .section-title {
            font-size: 2rem;
            color: var(--royal-navy);
        }

        .section-subtitle {
            color: var(--royal-ink);
            opacity: 0.8;
            margin-top: 4px;
        }

        .rooms-count {
            display: flex;
            align-items: center;
            gap: 8px;
            background: var(--royal-foam);
            padding: 8px 16px;
            border-radius: var(--radius-full);
            border: 1px solid var(--royal-border);
            font-weight: 600;
            color: var(--royal-blue);
        }

        .rooms-count__number {
            background: linear-gradient(135deg, var(--royal-blue), var(--royal-sky));
            color: white;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
            font-weight: 700;
        }

        .rooms-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 24px;
        }

        .room-card {
            background: white;
            border-radius: var(--radius-xl);
            overflow: hidden;
            box-shadow: var(--shadow-light);
            border: 1px solid var(--royal-border);
            transition: var(--transition-bounce);
            display: flex;
            flex-direction: column;
        }

        .room-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-floating);
            border-color: rgba(0, 168, 232, 0.3);
        }

        .room-card__header {
            padding: 24px 24px 0;
            position: relative;
        }

        .room-number {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 36px;
            height: 36px;
            background: linear-gradient(135deg, var(--royal-blue), var(--royal-sky));
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1rem;
            box-shadow: var(--shadow-light);
        }

        .room-type {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 12px;
        }

        .room-type__icon {
            width: 40px;
            height: 40px;
            background: var(--royal-foam);
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--royal-blue);
            font-size: 1.2rem;
        }

        .room-type__name {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--royal-navy);
        }

        .room-location {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            background: var(--royal-foam);
            padding: 6px 12px;
            border-radius: var(--radius-full);
            font-size: 0.9rem;
            color: var(--royal-blue);
            margin-top: 8px;
        }

        .room-card__preview {
            height: 180px;
            background: linear-gradient(135deg, #e8f4ff, #d4e9ff);
            margin: 20px 0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--royal-blue);
            opacity: 0.8;
            font-size: 0.9rem;
        }

        .room-card__content {
            padding: 0 24px 24px;
            flex: 1;
        }

        .room-features {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 20px;
        }

        .feature-tag {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 6px 12px;
            background: var(--royal-foam);
            border: 1px solid var(--royal-border);
            border-radius: var(--radius-full);
            font-size: 0.85rem;
            color: var(--royal-ink);
        }

        .feature-tag i {
            color: var(--royal-blue);
            font-size: 0.9rem;
        }

        .room-card__actions {
            margin-top: auto;
            padding-top: 20px;
            border-top: 1px solid var(--royal-border-light);
        }

        .view-deck-btn {
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 100%;
            padding: 12px 16px;
            background: linear-gradient(135deg, var(--royal-blue), var(--royal-sky));
            color: white;
            text-decoration: none;
            border-radius: var(--radius-md);
            font-weight: 600;
            font-size: 0.95rem;
            transition: var(--transition-smooth);
            border: none;
            cursor: pointer;
        }

        .view-deck-btn:hover {
            transform: translateX(4px);
            box-shadow: var(--shadow-medium);
        }

        /* Quick Actions */
        .quick-actions {
            background: white;
            border-radius: var(--radius-xl);
            padding: 32px;
            margin-bottom: 60px;
            box-shadow: var(--shadow-light);
            border: 1px solid var(--royal-border);
        }

        .actions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin-top: 24px;
        }

        .action-item {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 20px;
            background: var(--royal-foam);
            border-radius: var(--radius-lg);
            text-decoration: none;
            color: var(--royal-ink);
            transition: var(--transition-smooth);
            border: 1px solid var(--royal-border);
        }

        .action-item:hover {
            background: white;
            transform: translateY(-2px);
            border-color: var(--royal-sky);
            box-shadow: var(--shadow-light);
        }

        .action-icon {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, var(--royal-blue), var(--royal-sky));
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.3rem;
        }

        .action-content h4 {
            font-size: 1.1rem;
            margin-bottom: 4px;
            color: var(--royal-navy);
        }

        .action-content p {
            font-size: 0.9rem;
            opacity: 0.8;
        }

        /* Modal for Room Details */
        .room-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(4px);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            padding: 20px;
        }

        .room-modal--open {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: var(--radius-xl);
            max-width: 500px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: var(--shadow-floating);
        }

        .modal-header {
            padding: 24px;
            border-bottom: 1px solid var(--royal-border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        /* Design Refresh Overrides */
        .nav-bar {
            border: 1px solid var(--royal-border);
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-light);
            padding: 20px 0;
            margin-bottom: 28px;
            background: linear-gradient(180deg, #ffffff 0%, #f8fcff 100%);
        }

        .nav-bar__inner {
            gap: 16px;
        }

        .nav-heading {
            width: 100%;
            border-bottom: 1px solid var(--royal-border-light);
            padding-bottom: 12px;
        }

        .nav-heading__title {
            margin-bottom: 2px;
            font-size: 1.2rem;
            color: var(--royal-navy);
        }

        .nav-heading__subtitle {
            margin: 0;
            font-size: 0.95rem;
            color: var(--royal-ink);
            opacity: 0.82;
        }

        .nav-controls {
            display: flex;
            align-items: center;
            gap: 10px;
            width: 100%;
        }

        .search-box {
            flex: 1;
            min-width: 280px;
            max-width: 720px;
        }

        .search-box input {
            padding: 15px 20px 15px 50px;
            min-height: 52px;
            font-size: 1rem;
        }

        .filter-control {
            position: relative;
        }

        .filter-control .filter-btn {
            min-height: 52px;
            padding: 0 18px;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .filter-panel {
            position: absolute;
            top: calc(100% + 8px);
            right: 0;
            display: none;
            min-width: 200px;
            background: #fff;
            border: 1px solid var(--royal-border);
            border-radius: var(--radius-md);
            padding: 8px;
            box-shadow: var(--shadow-medium);
            z-index: 20;
        }

        .filter-panel.is-open {
            display: grid;
            gap: 6px;
        }

        .room-type-filter {
            text-align: left;
            padding: 10px 12px;
            border-radius: var(--radius-md);
            border: 1px solid transparent;
            background: var(--royal-foam);
            color: var(--royal-ink);
            cursor: pointer;
            font-weight: 600;
        }

        .room-type-filter:hover,
        .room-type-filter:focus-visible,
        .room-type-filter.is-active {
            background: #d9ebfb;
            border-color: rgba(0, 168, 232, 0.35);
            outline: none;
        }

        .filter-link {
            min-height: 42px;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .stats-grid {
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            align-items: start;
        }

        .section-header--stacked {
            justify-content: flex-start;
            margin-bottom: 16px;
        }

        .stat-card {
            min-height: 178px;
        }

        .stat-chart {
            display: grid;
            gap: 10px;
            width: 100%;
        }

        .stat-chart__row {
            display: grid;
            grid-template-columns: 90px 1fr 42px;
            align-items: center;
            gap: 10px;
            font-size: 0.9rem;
            color: var(--royal-ink);
        }

        .stat-chart__track {
            height: 10px;
            border-radius: var(--radius-full);
            background: #e8f1fb;
            overflow: hidden;
        }

        .stat-chart__fill {
            display: block;
            height: 100%;
            border-radius: inherit;
        }

        .stat-chart__fill--ocean {
            background: linear-gradient(90deg, #3f85d6, #00a8e8);
        }

        .stat-chart__fill--balcony {
            background: linear-gradient(90deg, #ffb454, #ff8f00);
        }

        .stat-chart__fill--interior {
            background: linear-gradient(90deg, #7f95b8, #6c7f9f);
        }

        .search-summary {
            margin: 0 0 18px;
            font-weight: 600;
            color: var(--royal-blue);
        }

        .rooms-grid {
            grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
            gap: 28px;
        }

        .room-card {
            border-left: 5px solid transparent;
        }

        .room-card--ocean-view {
            border-left-color: #00a8e8;
        }

        .room-card--balcony {
            border-left-color: #ffb400;
        }

        .room-card--interior {
            border-left-color: #6f84a6;
        }

        .room-card__header {
            padding: 28px 28px 0;
        }

        .room-card__content {
            padding: 0 28px 28px;
        }

        .room-category {
            display: inline-flex;
            align-items: center;
            font-size: 0.74rem;
            text-transform: uppercase;
            letter-spacing: 0.08em;
            color: var(--royal-navy);
            background: var(--royal-foam);
            border: 1px solid var(--royal-border);
            border-radius: var(--radius-full);
            padding: 4px 10px;
            margin-bottom: 10px;
        }

        .room-meta-details {
            color: var(--royal-ink);
            opacity: 0;
            max-height: 0;
            margin: 0;
            overflow: hidden;
            transition: var(--transition-smooth);
            font-size: 0.9rem;
        }

        .room-card:hover .room-meta-details,
        .room-card:focus-within .room-meta-details {
            opacity: 0.85;
            max-height: 48px;
            margin: 0 0 14px;
        }

        .quick-actions {
            padding: 28px;
        }

        .action-group {
            margin-top: 20px;
        }

        .action-group__title {
            font-size: 1rem;
            text-transform: uppercase;
            letter-spacing: 0.08em;
            margin-bottom: 10px;
            color: var(--royal-blue);
        }

        .actions-grid {
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 18px;
            margin-top: 0;
        }

        .action-item {
            min-height: 86px;
            position: relative;
        }

        .action-icon {
            width: 52px;
            height: 52px;
            font-size: 1.4rem;
            flex: 0 0 auto;
        }

        .no-search-results {
            margin-top: 20px;
            padding: 14px 16px;
            border: 1px dashed var(--royal-border);
            border-radius: var(--radius-md);
            background: #fff;
            color: var(--royal-ink);
        }

        .room-modal {
            background: rgba(13, 37, 67, 0.42);
        }

        .modal-content {
            max-width: 430px;
            width: min(100%, 430px);
        }

        .modal-header {
            padding: 20px 24px 8px;
            border-bottom: none;
        }

        .modal-description {
            margin: 0;
            color: var(--royal-ink);
            opacity: 0.78;
            padding: 0 24px 8px;
        }

        /* Rooms-specific readability + scale tuning on top of shared theme */
        body.app-theme-rcc.rooms-page .room-card__header {
            background: linear-gradient(135deg, #0b4f90 0%, #0079d4 55%, #19c2ff 100%) !important;
            border-bottom: 1px solid rgba(255, 255, 255, 0.25);
        }

        body.app-theme-rcc.rooms-page .room-type__icon {
            background: rgba(255, 255, 255, 0.92);
            flex: 0 0 auto;
        }

        body.app-theme-rcc.rooms-page .room-type__name {
            color: #ffffff !important;
            text-shadow: 0 1px 2px rgba(6, 38, 75, 0.3);
            font-size: clamp(1.55rem, 3.2vw, 2rem);
            line-height: 1.12;
        }

        body.app-theme-rcc.rooms-page .room-location {
            background: rgba(255, 255, 255, 0.92);
            padding: 8px 14px;
            min-height: 38px;
            font-size: 0.95rem;
            font-weight: 700;
        }

        body.app-theme-rcc.rooms-page .room-card__content {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        body.app-theme-rcc.rooms-page .feature-tag {
            padding: 8px 12px;
            min-height: 40px;
            font-size: 0.93rem;
            font-weight: 600;
        }

        body.app-theme-rcc.rooms-page .view-deck-btn {
            min-height: 50px;
            font-size: 1rem;
        }

        .main a:focus-visible,
        .main button:focus-visible,
        .main input:focus-visible {
            outline: 3px solid rgba(0, 168, 232, 0.35);
            outline-offset: 2px;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .hero--rooms {
                padding: 48px 0 30px;
                margin-bottom: 22px;
            }

            .hero__title {
                font-size: clamp(1.9rem, 9vw, 2.25rem);
            }
            
            .hero__actions {
                flex-direction: column;
            }
            
            .btn {
                width: 100%;
                justify-content: center;
            }
            
            .rooms-grid {
                grid-template-columns: 1fr;
                gap: 18px;
            }
            
            .stat-value {
                font-size: 2.2rem;
            }
            
            .actions-grid {
                grid-template-columns: 1fr;
            }

            .nav-controls {
                flex-direction: column;
                align-items: stretch;
            }

            .search-box,
            .filter-control {
                max-width: 100%;
                width: 100%;
            }

            .search-box input {
                min-height: 54px;
                font-size: 16px;
                padding: 14px 16px 14px 46px;
            }

            .filter-control .filter-btn {
                width: 100%;
                justify-content: center;
                min-height: 52px;
            }

            .filter-panel {
                left: 0;
                right: 0;
            }

            .filter-link {
                min-height: 44px;
                justify-content: center;
            }

            body.app-theme-rcc.rooms-page .room-card {
                border-radius: 18px;
            }

            body.app-theme-rcc.rooms-page .room-card__header {
                padding: 20px 18px 0;
            }

            body.app-theme-rcc.rooms-page .room-number {
                width: 42px;
                height: 42px;
                top: 16px;
                right: 16px;
                font-size: 1.05rem;
            }

            body.app-theme-rcc.rooms-page .room-type__icon {
                width: 44px;
                height: 44px;
                font-size: 1.24rem;
            }

            body.app-theme-rcc.rooms-page .room-type__name {
                font-size: clamp(1.6rem, 8.2vw, 2rem);
            }

            body.app-theme-rcc.rooms-page .room-location {
                font-size: 1rem;
                min-height: 40px;
            }

            body.app-theme-rcc.rooms-page .room-card__content {
                padding: 0 18px 20px;
                gap: 10px;
            }

            body.app-theme-rcc.rooms-page .room-features {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 10px;
                margin-bottom: 12px;
            }

            body.app-theme-rcc.rooms-page .feature-tag {
                width: 100%;
                min-height: 44px;
                padding: 10px 12px;
                font-size: 0.99rem;
            }

            body.app-theme-rcc.rooms-page .room-card__actions {
                padding-top: 14px;
            }

            body.app-theme-rcc.rooms-page .view-deck-btn {
                min-height: 52px;
                font-size: 1.03rem;
                padding: 12px 14px;
            }

            .quick-actions {
                padding: 20px 16px;
            }

            .action-item {
                min-height: 92px;
                padding: 16px;
            }

            .action-icon {
                width: 50px;
                height: 50px;
            }

            .action-content h4 {
                font-size: 1rem;
            }

            .action-content p {
                font-size: 0.92rem;
            }
        }

        @media (max-width: 480px) {
            .hero__title {
                font-size: 1.8rem;
            }
            
            .section-header {
                flex-direction: column;
                align-items: stretch;
            }
            
            .rooms-count {
                align-self: flex-start;
            }

            .rooms-grid {
                gap: 14px;
            }

            body.app-theme-rcc.rooms-page .room-card__header {
                padding: 16px 14px 0;
            }

            body.app-theme-rcc.rooms-page .room-card__content {
                padding: 0 14px 16px;
            }

            body.app-theme-rcc.rooms-page .room-features {
                grid-template-columns: 1fr;
                gap: 8px;
            }

            body.app-theme-rcc.rooms-page .feature-tag {
                min-height: 42px;
                font-size: 0.95rem;
            }

            body.app-theme-rcc.rooms-page .view-deck-btn {
                min-height: 50px;
                font-size: 0.98rem;
            }
        }

        /* Animations */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-fade-in {
            animation: fadeIn 0.6s ease forwards;
        }

        @keyframes ripple {
            to {
                transform: scale(4);
                opacity: 0;
            }
        }
    </style>
    <link rel="stylesheet" href="css/mobile-first.css?v=2">
</head>
<body class="rooms-page">
    <!-- Skip Link -->
    <a href="#rooms-content" class="skip-link">Skip to rooms list</a>

    <!-- Header Placeholder -->
    <div id="sharedHeader" data-page="rooms"></div>

    <!-- Hero Section -->
    <section class="hero hero--rooms">
        <div class="container">
            <div class="hero__content">
                <span class="hero__eyebrow">Adventure of the Seas · Feb 14–20, 2026</span>
                <h1 class="hero__title">Staterooms</h1>
                <p class="hero__description">
                    Review room assignments, deck locations, and guest actions from one clear workspace.
                </p>
                <div class="page-spine" aria-label="Stateroom briefing">
                    <div class="page-spine__item">
                        <span class="page-spine__label">Assignments</span>
                        <span class="page-spine__meta">Who is in each room and where</span>
                    </div>
                    <div class="page-spine__item">
                        <span class="page-spine__label">Room type</span>
                        <span class="page-spine__meta">Interior, balcony, and family context</span>
                    </div>
                    <div class="page-spine__item">
                        <span class="page-spine__label">Fast actions</span>
                        <span class="page-spine__meta">Map lookup, service, and entry tasks</span>
                    </div>
                </div>
                <div class="hero__actions">
                    <a href="decks.html" class="btn btn--primary">
                        <i class="fas fa-map"></i> View Deck Plan
                    </a>
                    <a href="index.html" class="btn btn--secondary">
                        <i class="fas fa-arrow-left"></i> Back to Dashboard
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Main Content -->
    <main id="rooms-content" class="main">
        <div class="container">
            <!-- Navigation Bar -->
            <nav class="nav-bar" aria-label="Stateroom navigation">
                <div class="container nav-bar__inner">
                    <div class="nav-heading">
                        <h2 class="nav-heading__title">Find and manage staterooms</h2>
                        <p class="nav-heading__subtitle">Search by room number, type, deck, or feature</p>
                    </div>
                    <div class="nav-controls">
                        <div class="search-box">
                            <label class="sr-only" for="roomSearchInput">Search rooms</label>
                            <i class="fas fa-search" aria-hidden="true"></i>
                            <input id="roomSearchInput" type="search" placeholder="Search by room number, name, or location" aria-label="Search staterooms by room number, name, or location">
                        </div>
                        <div class="filter-control" data-filter-root>
                            <button id="filterToggle" class="filter-btn" type="button" aria-expanded="false" aria-controls="filterPanel" data-filter-toggle>
                                <i class="fas fa-filter" aria-hidden="true"></i>
                                Filter
                            </button>
                            <div id="filterPanel" class="filter-panel rccl-filter-panel" role="menu" aria-label="Room type filters" data-filter-panel data-filter-group="roomType">
                                <button type="button" class="room-type-filter rccl-filter-option is-active" data-room-type="all" data-filter-option data-filter-value="all" role="menuitemradio" aria-checked="true">All rooms</button>
                                <button type="button" class="room-type-filter rccl-filter-option" data-room-type="balcony" data-filter-option data-filter-value="balcony" role="menuitemradio" aria-checked="false">Balcony</button>
                                <button type="button" class="room-type-filter rccl-filter-option" data-room-type="ocean-view" data-filter-option data-filter-value="ocean-view" role="menuitemradio" aria-checked="false">Ocean view</button>
                                <button type="button" class="room-type-filter rccl-filter-option" data-room-type="interior" data-filter-option data-filter-value="interior" role="menuitemradio" aria-checked="false">Interior</button>
                            </div>
                        </div>
                    </div>
                    <div class="nav-filters">
                        <a href="#rooms-section" class="filter-btn filter-link">
                            <i class="fas fa-bed" aria-hidden="true"></i> Rooms
                        </a>
                        <a href="decks.html" class="filter-btn filter-link">
                            <i class="fas fa-map" aria-hidden="true"></i> Deck Plans
                        </a>
                        <a href="#quick-actions" class="filter-btn filter-link">
                            <i class="fas fa-bolt" aria-hidden="true"></i> Quick Actions
                        </a>
                    </div>
                </div>
            </nav>

            <!-- Statistics Overview -->
            <section class="stats-section" aria-labelledby="overviewTitle">
                <div class="section-header section-header--stacked">
                    <div>
                        <h2 id="overviewTitle" class="section-title">Stateroom Snapshot</h2>
                        <p class="section-subtitle">Key details only, with visual room-type distribution</p>
                    </div>
                </div>
                <div class="stats-grid">
                    <article class="stat-card animate-fade-in">
                        <div class="stat-card__title">
                            <i class="fas fa-door-closed" aria-hidden="true"></i>
                            Assigned Rooms
                        </div>
                        <div class="stat-card__content">
                            <span class="stat-value">5</span>
                            <span class="stat-label">active staterooms</span>
                        </div>
                    </article>

                    <article class="stat-card animate-fade-in" style="animation-delay: 0.1s;">
                        <div class="stat-card__title">
                            <i class="fas fa-layer-group" aria-hidden="true"></i>
                            Deck Coverage
                        </div>
                        <div class="stat-card__content">
                            <span class="stat-value">3</span>
                            <span class="stat-label">decks represented</span>
                        </div>
                    </article>

                    <article class="stat-card animate-fade-in" style="animation-delay: 0.2s;">
                        <div class="stat-card__title">
                            <i class="fas fa-chart-column" aria-hidden="true"></i>
                            Room Mix
                        </div>
                        <div class="stat-chart" aria-label="Room type distribution chart">
                            <div class="stat-chart__row">
                                <span>Ocean View</span>
                                <div class="stat-chart__track"><span class="stat-chart__fill stat-chart__fill--ocean" style="width: 60%;"></span></div>
                                <strong>60%</strong>
                            </div>
                            <div class="stat-chart__row">
                                <span>Balcony</span>
                                <div class="stat-chart__track"><span class="stat-chart__fill stat-chart__fill--balcony" style="width: 20%;"></span></div>
                                <strong>20%</strong>
                            </div>
                            <div class="stat-chart__row">
                                <span>Interior</span>
                                <div class="stat-chart__track"><span class="stat-chart__fill stat-chart__fill--interior" style="width: 20%;"></span></div>
                                <strong>20%</strong>
                            </div>
                        </div>
                    </article>
                </div>
            </section>

            <!-- Rooms Grid -->
            <section id="rooms-section" class="rooms-section">
                <div class="section-header">
                    <div>
                        <h2 class="section-title">Stateroom Overview</h2>
                        <p class="section-subtitle">Tap a room for details and deck location</p>
                    </div>
                    <div class="rooms-count">
                        <span class="rooms-count__number">5</span>
                        <span>rooms</span>
                    </div>
                </div>
                <p id="searchSummary" class="search-summary" role="status" aria-live="polite">Showing 5 of 5 rooms</p>
                
                <div class="rooms-grid">
                    <!-- Room 1 -->
                    <article class="room-card room-card--interior animate-fade-in" data-room="6650" data-room-type="interior">
                        <div class="room-card__header">
                            <span class="room-number">1</span>
                            <span class="room-category">Stateroom</span>
                            <div class="room-type">
                                <div class="room-type__icon">
                                    <i class="fas fa-bed"></i>
                                </div>
                                <h3 class="room-type__name">Room 6650</h3>
                            </div>
                            <span class="room-location">
                                <i class="fas fa-layer-group"></i> Deck 6 · Aft
                            </span>
                        </div>

                        <div class="room-card__content">
                            <div class="room-features">
                                <span class="feature-tag">
                                    <i class="fas fa-user"></i> 4 guests
                                </span>
                                <span class="feature-tag">
                                    <i class="fas fa-id-badge"></i> Booking 4519230
                                </span>
                                <span class="feature-tag">
                                    <i class="fas fa-life-ring"></i> Muster D22
                                </span>
                                <span class="feature-tag">
                                    <i class="fas fa-water"></i> Aft wake views
                                </span>
                            </div>
                            <p class="room-meta-details">Guests: Melissa, Declan, Owen, William. Quieter aft ride with strong wake views.</p>
                            
                            <div class="room-card__actions">
                                <a href="decks.html?room=6650" class="view-deck-btn">
                                    <span>Locate on Deck Plan</span>
                                    <i class="fas fa-arrow-right"></i>
                                </a>
                            </div>
                        </div>
                    </article>
                    
                    <!-- Room 2 -->
                    <article class="room-card room-card--interior animate-fade-in" data-room="6651" data-room-type="interior" style="animation-delay: 0.1s;">
                        <div class="room-card__header">
                            <span class="room-number">2</span>
                            <span class="room-category">Stateroom</span>
                            <div class="room-type">
                                <div class="room-type__icon">
                                    <i class="fas fa-bed"></i>
                                </div>
                                <h3 class="room-type__name">Room 6651</h3>
                            </div>
                            <span class="room-location">
                                <i class="fas fa-layer-group"></i> Deck 6
                            </span>
                        </div>

                        <div class="room-card__content">
                            <div class="room-features">
                                <span class="feature-tag">
                                    <i class="fas fa-user"></i> 2 guests
                                </span>
                                <span class="feature-tag">
                                    <i class="fas fa-id-badge"></i> Booking 6788946
                                </span>
                                <span class="feature-tag">
                                    <i class="fas fa-life-ring"></i> Muster D22
                                </span>
                                <span class="feature-tag">
                                    <i class="fas fa-users"></i> Linked reservation
                                </span>
                            </div>
                            <p class="room-meta-details">Guests: Abel, Amy. Linked to 6650 with shared muster station.</p>
                            
                            <div class="room-card__actions">
                                <a href="decks.html?room=6651" class="view-deck-btn">
                                    <span>Locate on Deck Plan</span>
                                    <i class="fas fa-arrow-right"></i>
                                </a>
                            </div>
                        </div>
                    </article>
                    
                    <!-- Room 3 -->
                    <article class="room-card room-card--ocean-view animate-fade-in" data-room="8528" data-room-type="ocean-view" style="animation-delay: 0.2s;">
                        <div class="room-card__header">
                            <span class="room-number">3</span>
                            <span class="room-category">Stateroom</span>
                            <div class="room-type">
                                <div class="room-type__icon">
                                    <i class="fas fa-user-friends"></i>
                                </div>
                                <h3 class="room-type__name">Room 8528</h3>
                            </div>
                            <span class="room-location">
                                <i class="fas fa-layer-group"></i> Deck 8
                            </span>
                        </div>

                        <div class="room-card__content">
                            <div class="room-features">
                                <span class="feature-tag">
                                    <i class="fas fa-user"></i> 2 guests
                                </span>
                                <span class="feature-tag">
                                    <i class="fas fa-id-badge"></i> Booking 4352113
                                </span>
                                <span class="feature-tag">
                                    <i class="fas fa-life-ring"></i> Muster A2
                                </span>
                                <span class="feature-tag">
                                    <i class="fas fa-ship"></i> Linked sailing record
                                </span>
                            </div>
                            <p class="room-meta-details">Guests: Aimee, Karin. Deck 8 assignment with separate muster flow.</p>
                            
                            <div class="room-card__actions">
                                <a href="decks.html?room=8528" class="view-deck-btn">
                                    <span>Locate on Deck Plan</span>
                                    <i class="fas fa-arrow-right"></i>
                                </a>
                            </div>
                        </div>
                    </article>
                    
                    <!-- Room 4 -->
                    <article class="room-card room-card--ocean-view animate-fade-in" data-room="8612" data-room-type="ocean-view" style="animation-delay: 0.3s;">
                        <div class="room-card__header">
                            <span class="room-number">4</span>
                            <span class="room-category">Stateroom</span>
                            <div class="room-type">
                                <div class="room-type__icon">
                                    <i class="fas fa-user-friends"></i>
                                </div>
                                <h3 class="room-type__name">Room 8612</h3>
                            </div>
                            <span class="room-location">
                                <i class="fas fa-layer-group"></i> Deck 8
                            </span>
                        </div>

                        <div class="room-card__content">
                            <div class="room-features">
                                <span class="feature-tag">
                                    <i class="fas fa-user"></i> 2 guests
                                </span>
                                <span class="feature-tag">
                                    <i class="fas fa-id-badge"></i> Booking 4406580
                                </span>
                                <span class="feature-tag">
                                    <i class="fas fa-life-ring"></i> Muster C16
                                </span>
                                <span class="feature-tag">
                                    <i class="fas fa-ship"></i> Linked sailing record
                                </span>
                            </div>
                            <p class="room-meta-details">Guests: Isabella, Walter. Deck 8 room with C16 muster assignment.</p>
                            
                            <div class="room-card__actions">
                                <a href="decks.html?room=8612" class="view-deck-btn">
                                    <span>Locate on Deck Plan</span>
                                    <i class="fas fa-arrow-right"></i>
                                </a>
                            </div>
                        </div>
                    </article>
                    
                    <!-- Room 5 -->
                    <article class="room-card room-card--interior animate-fade-in" data-room="3622" data-room-type="interior" style="animation-delay: 0.4s;">
                        <div class="room-card__header">
                            <span class="room-number">5</span>
                            <span class="room-category">Interior Room</span>
                            <div class="room-type">
                                <div class="room-type__icon">
                                    <i class="fas fa-bed"></i>
                                </div>
                                <h3 class="room-type__name">Room 3622</h3>
                            </div>
                            <span class="room-location">
                                <i class="fas fa-layer-group"></i> Deck 3 · Forward
                            </span>
                        </div>

                        <div class="room-card__content">
                            <div class="room-features">
                                <span class="feature-tag">
                                    <i class="fas fa-user"></i> 2 guests
                                </span>
                                <span class="feature-tag">
                                    <i class="fas fa-expand"></i> 160 sq ft
                                </span>
                                <span class="feature-tag">
                                    <i class="fas fa-moon"></i> Dark sleep environment
                                </span>
                                <span class="feature-tag">
                                    <i class="fas fa-elevator"></i> Forward elevators nearby
                                </span>
                            </div>
                            <p class="room-meta-details">Guests: Phoebe, Ryan. Budget-friendly interior room at the front of the ship.</p>
                            
                            <div class="room-card__actions">
                                <a href="decks.html?room=3622" class="view-deck-btn">
                                    <span>Locate on Deck Plan</span>
                                    <i class="fas fa-arrow-right"></i>
                                </a>
                            </div>
                        </div>
                    </article>
                </div>
                <p id="noSearchResults" class="no-search-results" hidden>No rooms match that search or filter yet.</p>
            </section>

            <!-- Quick Actions -->
            <section id="quick-actions" class="quick-actions">
                <h2 class="section-title">Quick Actions</h2>
                <p class="section-subtitle">Grouped by task so guests can find the right action faster</p>
                
                <section class="action-group" aria-labelledby="orderingActionsTitle">
                    <h3 id="orderingActionsTitle" class="action-group__title">Ordering</h3>
                    <div class="actions-grid">
                        <a href="index.html" class="action-item rccl-tooltip-target" data-tooltip="Unlock and enter your assigned stateroom.">
                            <div class="action-icon">
                                <i class="fas fa-key" aria-hidden="true"></i>
                            </div>
                            <div class="action-content">
                                <h4>Digital Key</h4>
                                <p>Access your stateroom</p>
                            </div>
                        </a>

                        <a href="dining.html" class="action-item rccl-tooltip-target" data-tooltip="Order meals, drinks, and amenity delivery.">
                            <div class="action-icon">
                                <i class="fas fa-concierge-bell" aria-hidden="true"></i>
                            </div>
                            <div class="action-content">
                                <h4>Room Service</h4>
                                <p>Order food & beverages</p>
                            </div>
                        </a>
                    </div>
                </section>

                <section class="action-group" aria-labelledby="assistanceActionsTitle">
                    <h3 id="assistanceActionsTitle" class="action-group__title">Assistance</h3>
                    <div class="actions-grid">
                        <a href="decks.html" class="action-item rccl-tooltip-target" data-tooltip="Find your room and major ship venues.">
                            <div class="action-icon">
                                <i class="fas fa-map" aria-hidden="true"></i>
                            </div>
                            <div class="action-content">
                                <h4>Deck Plans</h4>
                                <p>Explore ship layout</p>
                            </div>
                        </a>

                        <a href="contacts.html" class="action-item rccl-tooltip-target" data-tooltip="Contact support for cabin questions or issues.">
                            <div class="action-icon">
                                <i class="fas fa-user-headset" aria-hidden="true"></i>
                            </div>
                            <div class="action-content">
                                <h4>Guest Services</h4>
                                <p>Get assistance</p>
                            </div>
                        </a>
                    </div>
                </section>
            </section>
        </div>
    </main>

    <!-- Room Detail Modal -->
    <div id="roomModal" class="room-modal rccl-modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle" aria-describedby="modalDescription" aria-hidden="true" data-modal>
        <div class="modal-content rccl-modal__content">
            <div class="modal-header rccl-modal__header">
                <h3 id="modalTitle">Room Details</h3>
                <button id="modalCloseBtn" type="button" class="header-action" aria-label="Close room details" data-modal-close>
                    <i class="fas fa-times" aria-hidden="true"></i>
                </button>
            </div>
            <p id="modalDescription" class="modal-description">Review room highlights and continue to deck placement.</p>
            <div id="modalBody" style="padding: 20px 24px 24px;">
                <!-- Content loaded dynamically -->
            </div>
        </div>
    </div>

    <!-- Footer Placeholder -->
    <div id="sharedFooter"></div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const searchInput = document.getElementById('roomSearchInput');
            const roomCards = Array.from(document.querySelectorAll('.room-card'));
            const searchSummary = document.getElementById('searchSummary');
            const noSearchResults = document.getElementById('noSearchResults');
            const roomsCountValue = document.querySelector('.rooms-count__number');
            const filterToggle = document.getElementById('filterToggle');
            const roomModal = document.getElementById('roomModal');
            const modalTitle = document.getElementById('modalTitle');
            const modalBody = document.getElementById('modalBody');
            const totalRooms = roomCards.length;

            let activeType = 'all';

            function updateRoomVisibility() {
                const searchTerm = searchInput.value.toLowerCase().trim();
                let visibleCount = 0;

                roomCards.forEach((card) => {
                    const roomNumber = card.dataset.room || '';
                    const roomName = card.querySelector('.room-type__name')?.textContent || '';
                    const roomLocation = card.querySelector('.room-location')?.textContent || '';
                    const roomFeatures = card.querySelector('.room-features')?.textContent || '';
                    const roomType = card.dataset.roomType || 'all';
                    const searchableText = `${roomNumber} ${roomName} ${roomLocation} ${roomFeatures}`.toLowerCase();

                    const matchesSearch = !searchTerm || searchableText.includes(searchTerm);
                    const matchesType = activeType === 'all' || roomType === activeType;
                    const shouldShow = matchesSearch && matchesType;

                    card.hidden = !shouldShow;
                    card.style.display = shouldShow ? 'flex' : 'none';

                    if (shouldShow) {
                        visibleCount += 1;
                    }
                });

                const roomLabel = visibleCount === 1 ? 'room' : 'rooms';
                searchSummary.textContent = `Showing ${visibleCount} of ${totalRooms} ${roomLabel}`;
                roomsCountValue.textContent = String(visibleCount);
                noSearchResults.hidden = visibleCount !== 0;
            }

            document.addEventListener('rccl:filter-change', function(event) {
                if (!event.detail || event.detail.group !== 'roomType') return;
                activeType = event.detail.value || 'all';
                filterToggle.classList.toggle('filter-btn--active', activeType !== 'all');
                updateRoomVisibility();
            });

            searchInput.addEventListener('input', updateRoomVisibility);

            // Keyboard shortcut for search
            document.addEventListener('keydown', function(e) {
                if (e.key === '/' && e.target !== searchInput) {
                    e.preventDefault();
                    searchInput.focus();
                }
            });

            // Room card click handler
            roomCards.forEach(card => {
                card.setAttribute('tabindex', '0');
                card.addEventListener('click', function(e) {
                    // Don't trigger if clicking on the deck plan link
                    if (e.target.closest('.view-deck-btn')) {
                        return;
                    }
                    
                    const roomNumber = this.dataset.room;
                    const roomName = this.querySelector('.room-type__name').textContent;
                    const roomLocation = this.querySelector('.room-location').textContent;
                    
                    showRoomModal(roomNumber, roomName, roomLocation);
                });

                card.addEventListener('keydown', function(e) {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        const roomNumber = this.dataset.room;
                        const roomName = this.querySelector('.room-type__name').textContent;
                        const roomLocation = this.querySelector('.room-location').textContent;
                        showRoomModal(roomNumber, roomName, roomLocation);
                    }
                });
            });

            // Room modal functions
            function showRoomModal(roomNumber, roomName, location) {
                const isInterior = roomName.includes('Interior');
                const hasBalcony = roomName.includes('Balcony');
                modalTitle.textContent = `Room ${roomNumber} · ${roomName}`;
                
                modalBody.innerHTML = `
                    <div style="margin-bottom: 12px;">
                        <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 14px;">
                            <span style="display: inline-flex; align-items: center; gap: 6px; background: var(--royal-foam); padding: 6px 12px; border-radius: var(--radius-full); font-size: 0.9rem;">
                                <i class="fas fa-layer-group"></i> ${location}
                            </span>
                        </div>
                        
                        <h4 style="margin-bottom: 12px; color: var(--royal-navy);">Room highlights</h4>
                        <div style="display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 18px;">
                            <span style="display: inline-flex; align-items: center; gap: 6px; padding: 7px 11px; background: var(--royal-foam); border-radius: var(--radius-full); font-size: 0.88rem;">
                                <i class="fas fa-user"></i> 2 guests
                            </span>
                            <span style="display: inline-flex; align-items: center; gap: 6px; padding: 7px 11px; background: var(--royal-foam); border-radius: var(--radius-full); font-size: 0.88rem;">
                                <i class="fas fa-expand"></i> ${isInterior ? '149' : '182'} sq ft
                            </span>
                            ${hasBalcony ? `
                            <span style="display: inline-flex; align-items: center; gap: 6px; padding: 7px 11px; background: var(--royal-foam); border-radius: var(--radius-full); font-size: 0.88rem;">
                                <i class="fas fa-wind"></i> Private balcony
                            </span>
                            ` : ''}
                        </div>

                        <p style="margin: 0 0 16px; color: var(--royal-ink); opacity: 0.82; font-size: 0.9rem;">Use deck view to confirm nearby elevators and venue access before arrival.</p>

                        <div style="display: grid; gap: 10px;">
                            <a href="decks.html?room=${roomNumber}" style="display: block; width: 100%; padding: 12px; background: linear-gradient(135deg, var(--royal-blue), var(--royal-sky)); color: white; text-align: center; border-radius: var(--radius-md); text-decoration: none; font-weight: 600;">
                                <i class="fas fa-map-marker-alt"></i> Locate on Deck Plan
                            </a>
                            <button type="button" id="modalContinue" style="width: 100%; padding: 11px 12px; border: 1px solid var(--royal-border); border-radius: var(--radius-md); background: #fff; color: var(--royal-ink); font-weight: 600;">
                                Keep browsing rooms
                            </button>
                        </div>
                    </div>
                `;

                if (window.RCCLModal && typeof window.RCCLModal.open === 'function') {
                    window.RCCLModal.open('roomModal');
                } else {
                    roomModal.classList.add('room-modal--open');
                }
                document.getElementById('modalContinue')?.focus();

                const modalContinue = document.getElementById('modalContinue');
                if (modalContinue) {
                    modalContinue.addEventListener('click', closeRoomModal);
                }
            }

            function closeRoomModal() {
                if (window.RCCLModal && typeof window.RCCLModal.close === 'function') {
                    window.RCCLModal.close('roomModal');
                } else {
                    roomModal.classList.remove('room-modal--open');
                }
            }

            // Filter buttons
            const filterButtons = document.querySelectorAll('.filter-link');
            filterButtons.forEach(btn => {
                btn.addEventListener('click', function(e) {
                    if (this.getAttribute('href').startsWith('#')) {
                        e.preventDefault();

                        const targetId = this.getAttribute('href');
                        const targetElement = document.querySelector(targetId);
                        
                        if (targetElement) {
                            window.scrollTo({
                                top: targetElement.offsetTop - 80,
                                behavior: 'smooth'
                            });
                        }
                    }
                });
            });

            // Initialize animations
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('animate-fade-in');
                    }
                });
            }, observerOptions);

            document.querySelectorAll('.stat-card, .room-card, .action-item').forEach(el => {
                observer.observe(el);
            });

            updateRoomVisibility();

            // Floating toasts removed per UX update.
        });
    </script>
</body>
</html>
