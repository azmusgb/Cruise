<!DOCTYPE html>
<html lang="en" data-theme="light" data-theme-mode="light">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#0079d4">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <link rel="manifest" href="manifest.json?v=2">
  <link rel="apple-touch-icon" href="icons/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="192x192" href="icons/icon-192.png">
  <link rel="icon" type="image/svg+xml" href="icons/icon-192.svg">
  <title>Pre-Cruise Checklist | Adventure of the Seas</title>
  <meta name="description" content="Complete pre-cruise tasks with clear ownership, persistent completion state, and a focused mobile layout.">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700;800;900&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/base.css?v=3">
  <link rel="stylesheet" href="css/utilities.css?v=3">
  <link rel="stylesheet" href="css/components.css?v=3">
  <link rel="stylesheet" href="css/mobile-first.css?v=3">
  <link rel="stylesheet" href="css/page-inline-extracted.css?v=2">
  <script src="js/shared-layout.js?v=17" defer></script>
</head>
<body class="app-theme-rcc decks-shell page-shell operations-page">
  <a href="#main" class="skip-link">Skip to main content</a>
  <div id="sharedHeader" data-page="operations"></div>

  <main id="main" aria-label="Pre-cruise checklist">
    <section class="hero hero--operations">
      <div class="container">
        <p class="hero__eyebrow"><i class="fas fa-clipboard-check" aria-hidden="true"></i>Adventure of the Seas · Feb 14–20, 2026</p>
        <h1 class="hero__title">Pre-Cruise Checklist</h1>
        <p class="hero__description">Finish these 5 tasks before embarkation. Each task has one owner, one next action, and saved completion status.</p>
      </div>
    </section>

    <section class="main-navigation" aria-label="Checklist navigation">
      <div class="container main-navigation__inner">
        <div class="main-navigation__search" role="search">
          <i class="fas fa-search" aria-hidden="true"></i>
          <input id="operationsSearchInput" type="search" placeholder="Search checklist tasks" aria-label="Search checklist tasks" inputmode="search" enterkeyhint="search" autocapitalize="off" spellcheck="false" />
          <span class="main-navigation__hint">Press / to focus</span>
        </div>
        <div class="main-navigation__filters" aria-label="Task anchors">
          <a class="pill-btn" href="#task-online-checkin">Check-in</a>
          <a class="pill-btn" href="#task-passports-photos">Documents</a>
          <a class="pill-btn" href="#task-luggage-tags">Tags</a>
          <a class="pill-btn" href="#task-payment-insurance">Payment</a>
          <a class="pill-btn" href="#task-day-of-arrival">Arrival</a>
        </div>
        <p id="operationsSearchStatus" class="search-status" role="status" aria-live="polite">Loading checklist...</p>
      </div>
    </section>

    <section class="deck-grid container" aria-label="Pre-cruise tasks" id="tasks">
      <div class="deck-grid__header">
        <div>
          <h2 class="deck-grid__title">Complete These Before You Sail</h2>
          <p class="deck-grid__subtitle">Focused pre-cruise execution only. Day-of playbooks and contingency references are in Itinerary and Pro Moves.</p>
        </div>
        <div class="deck-grid__counts">
          <div class="count-chip"><span id="operationsRemainingCount">—</span> remaining</div>
          <div class="count-chip"><span id="operationsTotalCount">—</span> total</div>
        </div>
      </div>

      <div class="tasks-grid" role="list">
        <article class="deck-card" role="listitem" id="task-online-checkin" data-task-id="task-online-checkin">
          <div class="deck-info">
            <div class="deck-info__heading">
              <h3>Online check-in</h3>
              <p class="deck-subtitle"><span class="term-help" aria-label="SetSail is Royal Caribbean's digital boarding pass and check-in flow" title="SetSail is Royal Caribbean's digital boarding pass and check-in flow">SetSail</span> passes, boarding time, and guest details.</p>
            </div>
            <div class="task-meta">
              <span class="feature-tag">Due: Dec 31, 2025</span>
              <span class="feature-tag">Owner: Trip lead</span>
              <span class="feature-tag">All guests</span>
              <span class="feature-tag">~15 min</span>
            </div>
            <div class="task-control">
              <a class="deck-card__cta" href="itinerary.html#daySelector">Finish check-in</a>
              <label class="task-checkbox-wrap" for="check-task-online-checkin">
                <input class="task-checkbox" id="check-task-online-checkin" type="checkbox" />
                Mark complete
              </label>
            </div>
          </div>
        </article>

        <article class="deck-card" role="listitem" id="task-passports-photos" data-task-id="task-passports-photos">
          <div class="deck-info">
            <div class="deck-info__heading">
              <h3>Passports and guest photos</h3>
              <p class="deck-subtitle">Upload IDs/photos and confirm all traveler document status.</p>
            </div>
            <div class="task-meta">
              <span class="feature-tag">Due: Jan 15, 2026</span>
              <span class="feature-tag">Owner: Each adult traveler</span>
              <span class="feature-tag">All travelers</span>
              <span class="feature-tag">Photo guidelines</span>
            </div>
            <div class="task-control">
              <a class="deck-card__cta" href="plan.html">Open game plan</a>
              <label class="task-checkbox-wrap" for="check-task-passports-photos">
                <input class="task-checkbox" id="check-task-passports-photos" type="checkbox" />
                Mark complete
              </label>
            </div>
          </div>
        </article>

        <article class="deck-card" role="listitem" id="task-luggage-tags" data-task-id="task-luggage-tags">
          <div class="deck-info">
            <div class="deck-info__heading">
              <h3>Luggage tags</h3>
              <p class="deck-subtitle">Download and print tags for each bag and stateroom.</p>
            </div>
            <div class="task-meta">
              <span class="feature-tag">Due: Feb 7, 2026</span>
              <span class="feature-tag">Owner: Stateroom lead</span>
              <span class="feature-tag">PDF tags</span>
              <span class="feature-tag">Per stateroom</span>
            </div>
            <div class="task-control">
              <a class="deck-card__cta" href="plan.html">View embark prep flow</a>
              <label class="task-checkbox-wrap" for="check-task-luggage-tags">
                <input class="task-checkbox" id="check-task-luggage-tags" type="checkbox" />
                Mark complete
              </label>
            </div>
          </div>
        </article>

        <article class="deck-card" role="listitem" id="task-payment-insurance" data-task-id="task-payment-insurance">
          <div class="deck-info">
            <div class="deck-info__heading">
              <h3>Payment and insurance</h3>
              <p class="deck-subtitle">Confirm card on file, coverage details, and medical notes.</p>
            </div>
            <div class="task-meta">
              <span class="feature-tag">Due: Feb 1, 2026</span>
              <span class="feature-tag">Owner: Payment card holder</span>
              <span class="feature-tag">Coverage review</span>
              <span class="feature-tag">Account profile</span>
            </div>
            <div class="task-control">
              <a class="deck-card__cta" href="contacts.html#backup">Review emergency backup</a>
              <label class="task-checkbox-wrap" for="check-task-payment-insurance">
                <input class="task-checkbox" id="check-task-payment-insurance" type="checkbox" />
                Mark complete
              </label>
            </div>
          </div>
        </article>

        <article class="deck-card" role="listitem" id="task-day-of-arrival" data-task-id="task-day-of-arrival">
          <div class="deck-info">
            <div class="deck-info__heading">
              <h3>Day-of arrival plan</h3>
              <p class="deck-subtitle">Finalize terminal arrival plan, transport, and boarding window buffer.</p>
            </div>
            <div class="task-meta">
              <span class="feature-tag">Due: Feb 14, 2026</span>
              <span class="feature-tag">Owner: Transportation planner</span>
              <span class="feature-tag">Port route + ETA</span>
              <span class="feature-tag">Terminal verify in cruise docs</span>
            </div>
            <div class="task-control">
              <a class="deck-card__cta" href="decks.html">Plan arrival route</a>
              <label class="task-checkbox-wrap" for="check-task-day-of-arrival">
                <input class="task-checkbox" id="check-task-day-of-arrival" type="checkbox" />
                Mark complete
              </label>
            </div>
          </div>
        </article>
      </div>

      <p id="operationsSearchEmpty" class="search-empty" hidden>No checklist tasks match that search.</p>
      <p class="checklist-note">For day-by-day execution, use <a href="itinerary.html#today">Today</a>. For tactical onboard habits and port strategies, use <a href="tips.html">Pro Moves</a>.</p>
    </section>
  </main>

  <div id="sharedFooter"></div>
  <div id="sharedBottomNav" data-page="operations"></div>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const input = document.getElementById('operationsSearchInput');
      const status = document.getElementById('operationsSearchStatus');
      const empty = document.getElementById('operationsSearchEmpty');
      const cards = Array.from(document.querySelectorAll('#tasks .deck-card'));
      const total = cards.length;
      const remainingCountEl = document.getElementById('operationsRemainingCount');
      const totalCountEl = document.getElementById('operationsTotalCount');
      const STORAGE_KEY = 'operations-completed-v1';
      const SEARCH_DELAY_MS = 120;
      let searchTimer;

      if (!input || !status || !empty || total === 0) return;

      function readCompletionSet() {
        try {
          const raw = localStorage.getItem(STORAGE_KEY);
          const parsed = raw ? JSON.parse(raw) : [];
          return new Set(Array.isArray(parsed) ? parsed : []);
        } catch (_e) {
          return new Set();
        }
      }

      function writeCompletionSet(set) {
        localStorage.setItem(STORAGE_KEY, JSON.stringify(Array.from(set)));
      }

      function applyCompletionState(card, checkbox, done) {
        card.classList.toggle('is-complete', done);
        checkbox.checked = done;
      }

      function updateTaskCounts() {
        const done = cards.filter((card) => card.classList.contains('is-complete')).length;
        const remaining = Math.max(total - done, 0);
        if (remainingCountEl) remainingCountEl.textContent = String(remaining);
        if (totalCountEl) totalCountEl.textContent = String(total);
      }

      function updateSearch() {
        const q = input.value.toLowerCase().trim();
        let shown = 0;
        status.classList.add('search-status-loading');
        status.textContent = 'Filtering checklist...';
        clearTimeout(searchTimer);
        searchTimer = window.setTimeout(() => {
          cards.forEach((card) => {
            const match = !q || card.textContent.toLowerCase().includes(q);
            card.hidden = !match;
            card.style.display = match ? 'block' : 'none';
            if (match) shown += 1;
          });
          status.textContent = `Showing ${shown} of ${total} tasks`;
          status.classList.remove('search-status-loading');
          empty.hidden = shown !== 0;
        }, SEARCH_DELAY_MS);
      }

      const completed = readCompletionSet();
      cards.forEach((card) => {
        const taskId = card.getAttribute('data-task-id');
        const checkbox = card.querySelector('.task-checkbox');
        if (!taskId || !checkbox) return;

        applyCompletionState(card, checkbox, completed.has(taskId));

        checkbox.addEventListener('change', function () {
          const done = this.checked;
          applyCompletionState(card, checkbox, done);
          if (done) {
            completed.add(taskId);
          } else {
            completed.delete(taskId);
          }
          writeCompletionSet(completed);
          updateTaskCounts();
          status.textContent = done ? 'Task marked complete.' : 'Task marked incomplete.';
        });
      });

      input.addEventListener('input', updateSearch);

      const isMobileViewport = window.matchMedia('(max-width: 768px)').matches;
      if (!isMobileViewport) {
        document.addEventListener('keydown', function (e) {
          if (e.key === '/' && e.target !== input) {
            e.preventDefault();
            input.focus();
          }
        });
      }

      updateTaskCounts();
      updateSearch();
    });
  </script>
</body>
</html>
